[{"content":"ğŸ“Œ ç®€ä»‹ åœ¨æœåŠ¡å™¨æˆ–è™šæ‹Ÿæœºç¯å¢ƒä¸­ï¼Œå¸¸å¸¸éœ€è¦ä¸ºç½‘å¡é…ç½®é™æ€ IP åœ°å€ï¼Œä»¥ä¾¿å›ºå®šè®¿é—®ã€‚\næœ¬æ–‡æ¼”ç¤ºå¦‚ä½•åœ¨ Debian/Ubuntu ç³»ç»Ÿ ä¸­é€šè¿‡ä¿®æ”¹ /etc/network/interfaces æ–‡ä»¶æ¥é…ç½®é™æ€ IPã€‚\nâš ï¸ æ³¨æ„ï¼šæœ¬æ–‡ç¤ºä¾‹ä¸­çš„ IP åœ°å€ã€ç½‘å…³ã€DNS ä»…ä¸ºæ¼”ç¤ºï¼Œè¯·æ ¹æ®å®é™…ç½‘ç»œç¯å¢ƒæ›¿æ¢ã€‚\nä¿®æ”¹ç½‘ç»œé…ç½®å¯èƒ½å¯¼è‡´è¿œç¨‹è¿æ¥ä¸­æ–­ï¼Œå»ºè®®åœ¨æœ¬åœ°æˆ–æœ‰æ§åˆ¶å°çš„æƒ…å†µä¸‹æ“ä½œã€‚\nğŸ›  æ“ä½œæ­¥éª¤ 1. æŸ¥çœ‹å½“å‰ç½‘ç»œæ¥å£ ip addr æ‰¾åˆ°ä½ è¦é…ç½®çš„ç½‘å¡åç§°ï¼ˆç¤ºä¾‹ä¸º ens32ï¼‰ã€‚\nå¤‡ä»½åŸå§‹é…ç½®æ–‡ä»¶ sudo cp /etc/network/interfaces /etc/network/interfaces.bak ç¼–è¾‘ç½‘ç»œé…ç½®æ–‡ä»¶ sudo nano /etc/network/interfaces æ·»åŠ æˆ–ä¿®æ”¹å¦‚ä¸‹å†…å®¹ï¼ˆè¯·æ ¹æ®å®é™…æƒ…å†µæ›¿æ¢ IPã€ç½‘å…³ã€DNSï¼‰ï¼š\nconf auto ens32 iface ens32 inet static address \u0026lt;your_static_ip\u0026gt; # ä¾‹å¦‚ 192.168.139.200 netmask \u0026lt;your_netmask\u0026gt; # ä¾‹å¦‚ 255.255.255.0 gateway \u0026lt;your_gateway\u0026gt; # ä¾‹å¦‚ 192.168.139.1 dns-nameservers \u0026lt;dns_servers\u0026gt; # ä¾‹å¦‚ 8.8.8.8 8.8.4.4 4. é‡å¯ç½‘ç»œæœåŠ¡\nsudo systemctl restart networking éªŒè¯é…ç½®æ˜¯å¦ç”Ÿæ•ˆ ip addr show ens32 æµ‹è¯•ç½‘ç»œè¿é€šæ€§ ping -c 4 baidu.com å¦‚æœèƒ½æ­£å¸¸è¿”å›ç»“æœï¼Œè¯´æ˜é™æ€ IP é…ç½®æˆåŠŸã€‚\nâœ… æ€»ç»“ æœ¬æ–‡æ¼”ç¤ºäº†å¦‚ä½•åœ¨ Debian/Ubuntu ç³»ç»Ÿä¸­é…ç½®é™æ€ IPã€‚\næ ¸å¿ƒæ­¥éª¤ï¼šå¤‡ä»½é…ç½® â†’ ç¼–è¾‘ /etc/network/interfaces â†’ é‡å¯ç½‘ç»œæœåŠ¡ â†’ éªŒè¯ä¸æµ‹è¯•ã€‚\næé†’ï¼š\nIPã€ç½‘å…³ã€DNS è¯·æ ¹æ®å®é™…ç¯å¢ƒæ›¿æ¢ã€‚\nå¦‚æœç³»ç»Ÿä½¿ç”¨ netplan æˆ– NetworkManagerï¼Œé…ç½®æ–¹å¼ä¼šæœ‰æ‰€ä¸åŒã€‚\nè¿™æ ·ï¼Œä½ å°±èƒ½åœ¨æœåŠ¡å™¨æˆ–è™šæ‹Ÿæœºä¸­æˆåŠŸé…ç½®é™æ€ IP åœ°å€ ğŸš€ã€‚\n","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/statisipconfig/","summary":"\u003ch2 id=\"-ç®€ä»‹\"\u003eğŸ“Œ ç®€ä»‹\u003c/h2\u003e\n\u003cp\u003eåœ¨æœåŠ¡å™¨æˆ–è™šæ‹Ÿæœºç¯å¢ƒä¸­ï¼Œå¸¸å¸¸éœ€è¦ä¸ºç½‘å¡é…ç½®é™æ€ IP åœ°å€ï¼Œä»¥ä¾¿å›ºå®šè®¿é—®ã€‚\u003cbr\u003e\næœ¬æ–‡æ¼”ç¤ºå¦‚ä½•åœ¨ \u003cstrong\u003eDebian/Ubuntu ç³»ç»Ÿ\u003c/strong\u003e ä¸­é€šè¿‡ä¿®æ”¹ \u003ccode\u003e/etc/network/interfaces\u003c/code\u003e æ–‡ä»¶æ¥é…ç½®é™æ€ IPã€‚\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eâš ï¸ \u003cstrong\u003eæ³¨æ„\u003c/strong\u003eï¼šæœ¬æ–‡ç¤ºä¾‹ä¸­çš„ IP åœ°å€ã€ç½‘å…³ã€DNS ä»…ä¸ºæ¼”ç¤ºï¼Œè¯·æ ¹æ®å®é™…ç½‘ç»œç¯å¢ƒæ›¿æ¢ã€‚\u003cbr\u003e\nä¿®æ”¹ç½‘ç»œé…ç½®å¯èƒ½å¯¼è‡´è¿œç¨‹è¿æ¥ä¸­æ–­ï¼Œå»ºè®®åœ¨æœ¬åœ°æˆ–æœ‰æ§åˆ¶å°çš„æƒ…å†µä¸‹æ“ä½œã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003chr\u003e\n\u003ch2 id=\"-æ“ä½œæ­¥éª¤\"\u003eğŸ›  æ“ä½œæ­¥éª¤\u003c/h2\u003e\n\u003ch3 id=\"1-æŸ¥çœ‹å½“å‰ç½‘ç»œæ¥å£\"\u003e1. æŸ¥çœ‹å½“å‰ç½‘ç»œæ¥å£\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eip addr\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eæ‰¾åˆ°ä½ è¦é…ç½®çš„ç½‘å¡åç§°ï¼ˆç¤ºä¾‹ä¸º ens32ï¼‰ã€‚\u003c/p\u003e","title":"åœ¨ Debian/Ubuntu ä¸­é…ç½®é™æ€ IP åœ°å€"},{"content":"ğŸ“Œ ç®€ä»‹ åœ¨ CentOS 7 çš„é»˜è®¤å®‰è£…ä¸­ï¼Œå¸¸å¸¸ä¼šå‡ºç° /home åˆ†åŒºè¿‡å¤§è€Œ / åˆ†åŒºç©ºé—´ä¸è¶³çš„æƒ…å†µã€‚ æœ¬æ–‡æ¼”ç¤ºå¦‚ä½•é€šè¿‡ å¤‡ä»½ â†’ åˆ é™¤ home â†’ é‡å»º home â†’ æ‰©å±• root çš„æ–¹å¼é‡æ–°åˆ†é…ç£ç›˜ç©ºé—´ã€‚\nâš ï¸ æ³¨æ„ï¼šæ­¤æ“ä½œå…·æœ‰ç ´åæ€§ï¼Œå¿…é¡»æå‰åšå¥½å®Œæ•´å¤‡ä»½ã€‚ æœ¬æ–‡ä¸­çš„å·ç»„åã€é€»è¾‘å·åã€è·¯å¾„å‡ä¸ºç¤ºä¾‹ï¼Œè¯·æ ¹æ®å®é™…ç¯å¢ƒæ›¿æ¢ã€‚\nğŸ›  æ“ä½œæ­¥éª¤ 1. æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ df -h 2. å¤‡ä»½ /home æ•°æ® å¯ä»¥é€‰æ‹©æ‰“åŒ…å‹ç¼©æˆ– rsync å¢é‡å¤‡ä»½ï¼š\n# æ‰“åŒ…å‹ç¼©å¤‡ä»½ sudo tar -czvf /tmp/home_backup.tar.gz /home # æˆ–ä½¿ç”¨ rsync å¢é‡å¤‡ä»½ï¼ˆéœ€æå‰å‡†å¤‡ /backup ç›®å½•ï¼‰ sudo rsync -avh /home /backup/ 3. å¸è½½å¹¶åˆ é™¤åŸæœ‰ /home åˆ†åŒº sudo umount /home # åˆ é™¤ home é€»è¾‘å·ï¼ˆè¯·æ›¿æ¢ä¸ºå®é™…è·¯å¾„ï¼‰ sudo lvremove /dev/mapper/\u0026lt;vg_name\u0026gt;-home 4. é‡æ–°åˆ›å»ºè¾ƒå°çš„ /home åˆ†åŒº # åˆ›å»ºæ–°çš„ home åˆ†åŒºï¼ˆç¤ºä¾‹å¤§å° 10Gï¼Œè¯·æ ¹æ®éœ€æ±‚è°ƒæ•´ï¼‰ sudo lvcreate -L 10G -n home \u0026lt;vg_name\u0026gt; # æ ¼å¼åŒ–ä¸º XFS æ–‡ä»¶ç³»ç»Ÿ sudo mkfs.xfs /dev/mapper/\u0026lt;vg_name\u0026gt;-home # æŒ‚è½½åˆ° /home sudo mount /dev/mapper/\u0026lt;vg_name\u0026gt;-home /home 5. æ¢å¤ /home æ•°æ® # ä»å‹ç¼©åŒ…æ¢å¤ sudo tar -xzvf /tmp/home_backup.tar.gz -C / 6. æ‰©å±• root åˆ†åŒº å°†å‰©ä½™çš„ç©ºé—²ç©ºé—´åˆ†é…ç»™ rootï¼š\n# æ‰©å±• root å·ï¼ˆè¯·æ›¿æ¢ä¸ºå®é™…è·¯å¾„ï¼‰ sudo lvextend -l +100%FREE /dev/mapper/\u0026lt;vg_name\u0026gt;-root # è°ƒæ•´ XFS æ–‡ä»¶ç³»ç»Ÿå¤§å° sudo xfs_growfs /dev/mapper/\u0026lt;vg_name\u0026gt;-root âœ… æ€»ç»“ æœ¬æ–‡æ¼”ç¤ºäº†å¦‚ä½•åœ¨ CentOS 7 ä¸Šé€šè¿‡ LVM è°ƒæ•´åˆ†åŒºï¼Œç¼©å° /home å¹¶æ‰©å±• /rootã€‚\næ ¸å¿ƒæ­¥éª¤ï¼šå¤‡ä»½ â†’ åˆ é™¤ home â†’ é‡å»º home â†’ æ¢å¤æ•°æ® â†’ æ‰©å±• rootã€‚\nå®‰å…¨æé†’ï¼š\nä¸€å®šè¦æå‰å¤‡ä»½ /home æ•°æ®ã€‚\nå·ç»„å \u0026lt;vg_name\u0026gt;ã€é€»è¾‘å·å \u0026lt;vg_name\u0026gt;-homeã€\u0026lt;vg_name\u0026gt;-root éœ€æ ¹æ®å®é™…æƒ…å†µæ›¿æ¢ã€‚\næ“ä½œå®Œæˆåè¯·å†æ¬¡æ£€æŸ¥æ•°æ®å®Œæ•´æ€§ã€‚\n","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/adjustpartthecentos7/","summary":"\u003ch2 id=\"-ç®€ä»‹\"\u003eğŸ“Œ ç®€ä»‹\u003c/h2\u003e\n\u003cp\u003eåœ¨ CentOS 7 çš„é»˜è®¤å®‰è£…ä¸­ï¼Œå¸¸å¸¸ä¼šå‡ºç° \u003ccode\u003e/home\u003c/code\u003e åˆ†åŒºè¿‡å¤§è€Œ \u003ccode\u003e/\u003c/code\u003e åˆ†åŒºç©ºé—´ä¸è¶³çš„æƒ…å†µã€‚\næœ¬æ–‡æ¼”ç¤ºå¦‚ä½•é€šè¿‡ \u003cstrong\u003eå¤‡ä»½ â†’ åˆ é™¤ home â†’ é‡å»º home â†’ æ‰©å±• root\u003c/strong\u003e çš„æ–¹å¼é‡æ–°åˆ†é…ç£ç›˜ç©ºé—´ã€‚\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eâš ï¸ \u003cstrong\u003eæ³¨æ„\u003c/strong\u003eï¼šæ­¤æ“ä½œå…·æœ‰ç ´åæ€§ï¼Œå¿…é¡»æå‰åšå¥½å®Œæ•´å¤‡ä»½ã€‚\næœ¬æ–‡ä¸­çš„å·ç»„åã€é€»è¾‘å·åã€è·¯å¾„å‡ä¸ºç¤ºä¾‹ï¼Œè¯·æ ¹æ®å®é™…ç¯å¢ƒæ›¿æ¢ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003chr\u003e\n\u003ch2 id=\"-æ“ä½œæ­¥éª¤\"\u003eğŸ›  æ“ä½œæ­¥éª¤\u003c/h2\u003e\n\u003ch3 id=\"1-æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ\"\u003e1. æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edf -h\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"2-å¤‡ä»½-home-æ•°æ®\"\u003e2. å¤‡ä»½ /home æ•°æ®\u003c/h3\u003e\n\u003cp\u003eå¯ä»¥é€‰æ‹©æ‰“åŒ…å‹ç¼©æˆ– rsync å¢é‡å¤‡ä»½ï¼š\u003c/p\u003e","title":"CentOS 7 è°ƒæ•´ LVM åˆ†åŒºï¼šç¼©å° /home å¹¶æ‰©å±• /root"},{"content":"ğŸ“Œ ç®€ä»‹ æœ¬æ–‡è®°å½•äº†åœ¨ CentOS 7 ç¯å¢ƒä¸‹å®‰è£… Redisã€é…ç½®è¿œç¨‹è®¿é—®å’Œé˜²ç«å¢™è§„åˆ™çš„å®Œæ•´æµç¨‹ã€‚ é€‚åˆåˆå­¦è€…å¿«é€Ÿæ­å»º Redis æœåŠ¡ï¼ŒåŒæ—¶åŒ…å«ä¸€äº›å®‰å…¨æ³¨æ„äº‹é¡¹ã€‚\nâš ï¸ æ³¨æ„ï¼šæœ¬æ–‡ä¸­çš„å¯†ç ä¸ IP åœ°å€å‡ä¸ºç¤ºä¾‹ï¼Œè¯·åŠ¡å¿…æ›¿æ¢ä¸ºä½ è‡ªå·±çš„å®‰å…¨é…ç½®ã€‚ç”Ÿäº§ç¯å¢ƒä¸­è¯·é¿å…ç›´æ¥ä½¿ç”¨ bind *ï¼Œå»ºè®®ç»‘å®šå†…ç½‘ IP å¹¶ç»“åˆé˜²ç«å¢™é™åˆ¶æ¥æºã€‚\nğŸ›  å®‰è£… Redis é¦–å…ˆæ·»åŠ å¿…è¦çš„ä»“åº“å¹¶å®‰è£… Redisï¼š\n# æ·»åŠ  EPEL ä»“åº“ sudo yum install epel-release -y # æ·»åŠ  Remi ä»“åº“ sudo yum install http://rpms.remirepo.net/enterprise/remi-release-7.rpm -y # å¯ç”¨ Remi æº sudo yum-config-manager --enable remi # å®‰è£… Redis sudo yum --enablerepo=remi install redis -y # éªŒè¯å®‰è£… redis-server --version âš™ï¸ é…ç½® Redis æœåŠ¡ å¯ç”¨å¹¶å¯åŠ¨ Redis æœåŠ¡ï¼š\nsudo systemctl enable redis sudo systemctl start redis sudo systemctl status redis æŸ¥çœ‹ Redis çš„ systemd é…ç½®æ–‡ä»¶ï¼š\ncat /usr/lib/systemd/system/redis.service ç¼–è¾‘ Redis é…ç½®æ–‡ä»¶ï¼š\nvi /etc/redis/redis.conf éœ€è¦ä¿®æ”¹çš„å…³é”®é…ç½®ï¼š\nconf\nå…è®¸è¿œç¨‹è®¿é—®ï¼ˆä»…åœ¨å—æ§ç¯å¢ƒä¸‹ä½¿ç”¨ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®ç»‘å®šå†…ç½‘ IPï¼‰ bind *\nè®¾ç½®è®¿é—®å¯†ç ï¼ˆè¯·æ›¿æ¢ä¸ºä½ è‡ªå·±çš„å¼ºå¯†ç ï¼‰ requirepass your_strong_password ä¿å­˜åé‡å¯ Redisï¼š\nsudo systemctl restart redis sudo systemctl status redis ğŸ”¥ é˜²ç«å¢™é…ç½® å¼€æ”¾ Redis é»˜è®¤ç«¯å£ 6379ï¼š\nsudo firewall-cmd --permanent --add-port=6379/tcp sudo firewall-cmd --reload ğŸŒ è¿œç¨‹è¿æ¥æµ‹è¯• ç¡®è®¤ Redis æ˜¯å¦åœ¨ç›‘å¬ç«¯å£ï¼š\nss -tulnp | grep redis ä½¿ç”¨ redis-cli è¿œç¨‹è¿æ¥æµ‹è¯•ï¼ˆè¯·æ›¿æ¢ä¸ºä½ æœåŠ¡å™¨çš„å®é™… IP å’Œå¯†ç ï¼‰ï¼š\nredis-cli -h \u0026lt;your_server_ip\u0026gt; -p 6379 -a \u0026#34;your_strong_password\u0026#34; é»˜è®¤ç”¨æˆ·åä¸ºï¼š\nä»£ç  default âœ… æ€»ç»“ æœ¬æ–‡å±•ç¤ºäº†å¦‚ä½•åœ¨ CentOS 7 ä¸Šå®‰è£… Redis å¹¶é…ç½®è¿œç¨‹è®¿é—®ã€‚\nå…³é”®æ­¥éª¤åŒ…æ‹¬ï¼šæ·»åŠ ä»“åº“ã€å®‰è£… Redisã€ä¿®æ”¹é…ç½®æ–‡ä»¶ã€è®¾ç½®å¯†ç ã€é˜²ç«å¢™æ”¾è¡Œç«¯å£ã€‚\nå®‰å…¨æé†’ï¼š\nä¸è¦åœ¨å…¬ç½‘ç¯å¢ƒä¸‹ç›´æ¥ä½¿ç”¨ bind *ã€‚\nä¸€å®šè¦è®¾ç½®å¼ºå¯†ç ï¼Œå¹¶ç»“åˆé˜²ç«å¢™é™åˆ¶æ¥æº IPã€‚\nç”Ÿäº§ç¯å¢ƒå»ºè®®ä»…å…è®¸å†…ç½‘è®¿é—® Redisã€‚\nè¿™æ ·ï¼Œä½ å°±å¯ä»¥åœ¨ CentOS 7 ä¸Šå¿«é€Ÿéƒ¨ç½²ä¸€ä¸ªå¯è¿œç¨‹è®¿é—®çš„ Redis æœåŠ¡äº† ğŸš€ã€‚\n","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/installredisinthecentos7/","summary":"\u003ch2 id=\"-ç®€ä»‹\"\u003eğŸ“Œ ç®€ä»‹\u003c/h2\u003e\n\u003cp\u003eæœ¬æ–‡è®°å½•äº†åœ¨ \u003cstrong\u003eCentOS 7\u003c/strong\u003e ç¯å¢ƒä¸‹å®‰è£… Redisã€é…ç½®è¿œç¨‹è®¿é—®å’Œé˜²ç«å¢™è§„åˆ™çš„å®Œæ•´æµç¨‹ã€‚\né€‚åˆåˆå­¦è€…å¿«é€Ÿæ­å»º Redis æœåŠ¡ï¼ŒåŒæ—¶åŒ…å«ä¸€äº›å®‰å…¨æ³¨æ„äº‹é¡¹ã€‚\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eâš ï¸ \u003cstrong\u003eæ³¨æ„\u003c/strong\u003eï¼šæœ¬æ–‡ä¸­çš„å¯†ç ä¸ IP åœ°å€å‡ä¸ºç¤ºä¾‹ï¼Œè¯·åŠ¡å¿…æ›¿æ¢ä¸ºä½ è‡ªå·±çš„å®‰å…¨é…ç½®ã€‚ç”Ÿäº§ç¯å¢ƒä¸­è¯·é¿å…ç›´æ¥ä½¿ç”¨ \u003ccode\u003ebind *\u003c/code\u003eï¼Œå»ºè®®ç»‘å®šå†…ç½‘ IP å¹¶ç»“åˆé˜²ç«å¢™é™åˆ¶æ¥æºã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003chr\u003e\n\u003ch2 id=\"-å®‰è£…-redis\"\u003eğŸ›  å®‰è£… Redis\u003c/h2\u003e\n\u003cp\u003eé¦–å…ˆæ·»åŠ å¿…è¦çš„ä»“åº“å¹¶å®‰è£… Redisï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# æ·»åŠ  EPEL ä»“åº“\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo yum install epel-release -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# æ·»åŠ  Remi ä»“åº“\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo yum install http://rpms.remirepo.net/enterprise/remi-release-7.rpm -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# å¯ç”¨ Remi æº\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo yum-config-manager --enable remi\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# å®‰è£… Redis\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo yum --enablerepo\u003cspan class=\"o\"\u003e=\u003c/span\u003eremi install redis -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# éªŒè¯å®‰è£…\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eredis-server --version\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eâš™ï¸ é…ç½® Redis æœåŠ¡\nå¯ç”¨å¹¶å¯åŠ¨ Redis æœåŠ¡ï¼š\u003c/p\u003e","title":"åœ¨ CentOS 7 ä¸Šå®‰è£…ä¸é…ç½® Redisï¼ˆå«è¿œç¨‹è®¿é—®ï¼‰"},{"content":"ğŸ“Œ ç®€ä»‹ æœ¬æ–‡å±•ç¤ºä¸€ä¸ª æ‰¹å¤„ç†è„šæœ¬ç¤ºä¾‹ï¼Œç”¨äºæ£€æµ‹ Microsoft Office çš„å®‰è£…è·¯å¾„ï¼Œå¹¶è°ƒç”¨è‡ªå¸¦çš„ ospp.vbs è„šæœ¬æ‰§è¡Œæ“ä½œã€‚\nè¯¥ç¤ºä¾‹ä»…ç”¨äºå­¦ä¹  æ‰¹å¤„ç†é€»è¾‘ï¼ˆå¾ªç¯ã€æ¡ä»¶åˆ¤æ–­ã€è·¯å¾„æ£€æµ‹ï¼‰ï¼Œä¸åŒ…å«ä»»ä½•æ¿€æ´»æˆ–ç ´è§£å†…å®¹ã€‚\nâš ï¸ å…è´£å£°æ˜ï¼šæœ¬æ–‡ä»…ä¾›å­¦ä¹  Windows æ‰¹å¤„ç†è„šæœ¬ç¼–å†™æ–¹æ³•ã€‚è¯·å‹¿å°†æ­¤ç±»è„šæœ¬ç”¨äºè§„é¿å•†ä¸šè½¯ä»¶æˆæƒæˆ–å…¶ä»–è¿æ³•ç”¨é€”ï¼Œå¦åˆ™åæœè‡ªè´Ÿã€‚\nğŸ›  åŠŸèƒ½è¯´æ˜ éå†å¸¸è§çš„ Office å®‰è£…ç›®å½•ï¼ˆx64 ä¸ x86ï¼‰ã€‚ æ£€æµ‹ä¸åŒç‰ˆæœ¬çš„ Officeï¼ˆ2010/2013/2016+ï¼‰ã€‚ å¦‚æœæ‰¾åˆ° ospp.vbsï¼Œåˆ™åˆ‡æ¢åˆ°å¯¹åº”ç›®å½•å¹¶æ‰§è¡Œç¤ºä¾‹å‘½ä»¤ã€‚ ğŸ’» è„šæœ¬ä»£ç  @echo off title Office Script Example echo Detecting Office version... :: å®šä¹‰å¯èƒ½çš„ Office ç‰ˆæœ¬å· set \u0026#34;office_paths=16 15 14\u0026#34; set \u0026#34;found=0\u0026#34; :: éå† x64 å’Œ x86 å®‰è£…ç›®å½• for %%p in (\u0026#34;%ProgramFiles%\u0026#34; \u0026#34;%ProgramFiles(x86)%\u0026#34;) do ( for %%v in (%office_paths%) do ( if exist \u0026#34;%%~p\\Microsoft Office\\Office%%v\\ospp.vbs\u0026#34; ( set \u0026#34;office_path=%%~p\\Microsoft Office\\Office%%v\u0026#34; set \u0026#34;office_version=%%v\u0026#34; set \u0026#34;found=1\u0026#34; goto :version_found ) ) ) :version_found if \u0026#34;%found%\u0026#34;==\u0026#34;0\u0026#34; ( echo Office installation not found. goto :end ) cd /d \u0026#34;%office_path%\u0026#34; :: ç¤ºä¾‹ï¼šè°ƒç”¨ ospp.vbsï¼ˆæ­¤å¤„ä»…æ¼”ç¤ºï¼Œä¸åŒ…å«æ¿€æ´»å‘½ä»¤ï¼‰ cscript ospp.vbs /dstatus echo Process completed timeout /t 5 :end ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/detecttheinstallationpathofmicrosoftoffice/","summary":"\u003ch2 id=\"-ç®€ä»‹\"\u003eğŸ“Œ ç®€ä»‹\u003c/h2\u003e\n\u003cp\u003eæœ¬æ–‡å±•ç¤ºä¸€ä¸ª \u003cstrong\u003eæ‰¹å¤„ç†è„šæœ¬ç¤ºä¾‹\u003c/strong\u003eï¼Œç”¨äºæ£€æµ‹ Microsoft Office çš„å®‰è£…è·¯å¾„ï¼Œå¹¶è°ƒç”¨è‡ªå¸¦çš„ \u003ccode\u003eospp.vbs\u003c/code\u003e è„šæœ¬æ‰§è¡Œæ“ä½œã€‚\u003cbr\u003e\nè¯¥ç¤ºä¾‹ä»…ç”¨äºå­¦ä¹  \u003cstrong\u003eæ‰¹å¤„ç†é€»è¾‘\u003c/strong\u003eï¼ˆå¾ªç¯ã€æ¡ä»¶åˆ¤æ–­ã€è·¯å¾„æ£€æµ‹ï¼‰ï¼Œä¸åŒ…å«ä»»ä½•æ¿€æ´»æˆ–ç ´è§£å†…å®¹ã€‚\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eâš ï¸ \u003cstrong\u003eå…è´£å£°æ˜\u003c/strong\u003eï¼šæœ¬æ–‡ä»…ä¾›å­¦ä¹  Windows æ‰¹å¤„ç†è„šæœ¬ç¼–å†™æ–¹æ³•ã€‚è¯·å‹¿å°†æ­¤ç±»è„šæœ¬ç”¨äºè§„é¿å•†ä¸šè½¯ä»¶æˆæƒæˆ–å…¶ä»–è¿æ³•ç”¨é€”ï¼Œå¦åˆ™åæœè‡ªè´Ÿã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003chr\u003e\n\u003ch2 id=\"-åŠŸèƒ½è¯´æ˜\"\u003eğŸ›  åŠŸèƒ½è¯´æ˜\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eéå†å¸¸è§çš„ Office å®‰è£…ç›®å½•ï¼ˆx64 ä¸ x86ï¼‰ã€‚\u003c/li\u003e\n\u003cli\u003eæ£€æµ‹ä¸åŒç‰ˆæœ¬çš„ Officeï¼ˆ2010/2013/2016+ï¼‰ã€‚\u003c/li\u003e\n\u003cli\u003eå¦‚æœæ‰¾åˆ° \u003ccode\u003eospp.vbs\u003c/code\u003eï¼Œåˆ™åˆ‡æ¢åˆ°å¯¹åº”ç›®å½•å¹¶æ‰§è¡Œç¤ºä¾‹å‘½ä»¤ã€‚\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"-è„šæœ¬ä»£ç \"\u003eğŸ’» è„šæœ¬ä»£ç \u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bat\" data-lang=\"bat\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"k\"\u003eecho\u003c/span\u003e off\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003etitle\u003c/span\u003e Office Script Example\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eecho\u003c/span\u003e Detecting Office version...\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"c1\"\u003e: å®šä¹‰å¯èƒ½çš„ Office ç‰ˆæœ¬å·\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eset\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;office_paths=16 15 14\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eset\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;found=0\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"c1\"\u003e: éå† x64 å’Œ x86 å®‰è£…ç›®å½•\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"se\"\u003e%%\u003c/span\u003ep \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e%ProgramFiles%\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e%ProgramFiles(x86)%\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"se\"\u003e%%\u003c/span\u003ev \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e%office_paths%\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"k\"\u003eexist\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"se\"\u003e%%\u003c/span\u003e\u003cspan class=\"s2\"\u003e~p\\Microsoft Office\\Office\u003c/span\u003e\u003cspan class=\"se\"\u003e%%\u003c/span\u003e\u003cspan class=\"s2\"\u003ev\\ospp.vbs\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e            \u003cspan class=\"k\"\u003eset\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;office_path=\u003c/span\u003e\u003cspan class=\"se\"\u003e%%\u003c/span\u003e\u003cspan class=\"s2\"\u003e~p\\Microsoft Office\\Office\u003c/span\u003e\u003cspan class=\"se\"\u003e%%\u003c/span\u003e\u003cspan class=\"s2\"\u003ev\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e            \u003cspan class=\"k\"\u003eset\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;office_version=\u003c/span\u003e\u003cspan class=\"se\"\u003e%%\u003c/span\u003e\u003cspan class=\"s2\"\u003ev\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e            \u003cspan class=\"k\"\u003eset\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;found=1\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e            \u003cspan class=\"k\"\u003egoto\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"nl\"\u003eversion_found\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"nl\"\u003eversion_found\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e%found%\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"o\"\u003e==\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;0\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003eecho\u003c/span\u003e Office installation not found.\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003egoto\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"nl\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003ecd\u003c/span\u003e /d \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e%office_path%\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"c1\"\u003e: ç¤ºä¾‹ï¼šè°ƒç”¨ ospp.vbsï¼ˆæ­¤å¤„ä»…æ¼”ç¤ºï¼Œä¸åŒ…å«æ¿€æ´»å‘½ä»¤ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecscript ospp.vbs /dstatus\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eecho\u003c/span\u003e Process completed\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003etimeout /t 5\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"nl\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"æ‰¹å¤„ç†è„šæœ¬ç¤ºä¾‹ï¼šæ£€æµ‹ Office å®‰è£…è·¯å¾„å¹¶è°ƒç”¨ ospp.vbs"},{"content":"ğŸ“Œ ç®€ä»‹ æœ¬æ–‡åˆ†äº«ä¸€ä¸ª Windows æ‰¹å¤„ç†è„šæœ¬ï¼Œç”¨äºè‡ªåŠ¨æ¸…ç†æ³¨å†Œè¡¨ä¸­æ— æ•ˆçš„é”®å€¼ã€‚\nè„šæœ¬ä¼šéå†æŒ‡å®šçš„æ³¨å†Œè¡¨è·¯å¾„ï¼ŒæŸ¥æ‰¾å¹¶åˆ é™¤åŒ…å«ç‰¹å®šå…³é”®å­—çš„é¡¹ã€‚\nâš ï¸ å…è´£å£°æ˜ï¼šæœ¬æ–‡ä»…ä¾›å­¦ä¹  Windows æ³¨å†Œè¡¨æ“ä½œä¸æ‰¹å¤„ç†è„šæœ¬ç¼–å†™æ–¹æ³•ã€‚è¯·å‹¿å°†æ­¤ç±»è„šæœ¬ç”¨äºè§„é¿å•†ä¸šè½¯ä»¶æˆæƒæˆ–å…¶ä»–è¿æ³•ç”¨é€”ï¼Œå¦åˆ™åæœè‡ªè´Ÿã€‚\nğŸ›  åŠŸèƒ½è¯´æ˜ éå†æŒ‡å®šçš„æ³¨å†Œè¡¨è·¯å¾„ï¼ˆç¤ºä¾‹ä¸­ä¸º HKEY_CURRENT_USER\\Software\\Classes\\CLSIDï¼‰ã€‚ æŸ¥æ‰¾åŒ…å«æŒ‡å®šå…³é”®å­—çš„å­é¡¹ã€‚ åˆ é™¤åŒ¹é…çš„æ³¨å†Œè¡¨é¡¹ï¼Œå¹¶è¾“å‡ºæ—¥å¿—ã€‚ ğŸ’» è„šæœ¬ä»£ç  @echo off setlocal enabledelayedexpansion :: å®šä¹‰å…³é”®å­— set dn=Info set dn2=ShellFolder set rp=HKEY_CURRENT_USER\\Software\\Classes\\CLSID echo å¼€å§‹æ‰«ææ³¨å†Œè¡¨... for /f \u0026#34;tokens=*\u0026#34; %%a in (\u0026#39;reg query \u0026#34;%rp%\u0026#34;\u0026#39;) do ( echo æ­£åœ¨æ£€æŸ¥: %%a for /f \u0026#34;tokens=*\u0026#34; %%l in (\u0026#39;reg query \u0026#34;%%a\u0026#34; /f \u0026#34;%dn%\u0026#34; /s /e ^| findstr /i \u0026#34;%dn%\u0026#34;\u0026#39;) do ( echo åˆ é™¤åŒ¹é…é¡¹: %%a reg delete %%a /f ) for /f \u0026#34;tokens=*\u0026#34; %%l in (\u0026#39;reg query \u0026#34;%%a\u0026#34; /f \u0026#34;%dn2%\u0026#34; /s /e ^| findstr /i \u0026#34;%dn2%\u0026#34;\u0026#39;) do ( echo åˆ é™¤åŒ¹é…é¡¹: %%a reg delete %%a /f ) ) echo æ¸…ç†å®Œæˆï¼ pause exit ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/autoclearinvalidkeyintheregistry/","summary":"\u003ch2 id=\"-ç®€ä»‹\"\u003eğŸ“Œ ç®€ä»‹\u003c/h2\u003e\n\u003cp\u003eæœ¬æ–‡åˆ†äº«ä¸€ä¸ª \u003cstrong\u003eWindows æ‰¹å¤„ç†è„šæœ¬\u003c/strong\u003eï¼Œç”¨äºè‡ªåŠ¨æ¸…ç†æ³¨å†Œè¡¨ä¸­æ— æ•ˆçš„é”®å€¼ã€‚\u003cbr\u003e\nè„šæœ¬ä¼šéå†æŒ‡å®šçš„æ³¨å†Œè¡¨è·¯å¾„ï¼ŒæŸ¥æ‰¾å¹¶åˆ é™¤åŒ…å«ç‰¹å®šå…³é”®å­—çš„é¡¹ã€‚\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eâš ï¸ \u003cstrong\u003eå…è´£å£°æ˜\u003c/strong\u003eï¼šæœ¬æ–‡ä»…ä¾›å­¦ä¹  Windows æ³¨å†Œè¡¨æ“ä½œä¸æ‰¹å¤„ç†è„šæœ¬ç¼–å†™æ–¹æ³•ã€‚è¯·å‹¿å°†æ­¤ç±»è„šæœ¬ç”¨äºè§„é¿å•†ä¸šè½¯ä»¶æˆæƒæˆ–å…¶ä»–è¿æ³•ç”¨é€”ï¼Œå¦åˆ™åæœè‡ªè´Ÿã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003chr\u003e\n\u003ch2 id=\"-åŠŸèƒ½è¯´æ˜\"\u003eğŸ›  åŠŸèƒ½è¯´æ˜\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eéå†æŒ‡å®šçš„æ³¨å†Œè¡¨è·¯å¾„ï¼ˆç¤ºä¾‹ä¸­ä¸º \u003ccode\u003eHKEY_CURRENT_USER\\Software\\Classes\\CLSID\u003c/code\u003eï¼‰ã€‚\u003c/li\u003e\n\u003cli\u003eæŸ¥æ‰¾åŒ…å«æŒ‡å®šå…³é”®å­—çš„å­é¡¹ã€‚\u003c/li\u003e\n\u003cli\u003eåˆ é™¤åŒ¹é…çš„æ³¨å†Œè¡¨é¡¹ï¼Œå¹¶è¾“å‡ºæ—¥å¿—ã€‚\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"-è„šæœ¬ä»£ç \"\u003eğŸ’» è„šæœ¬ä»£ç \u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bat\" data-lang=\"bat\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"k\"\u003eecho\u003c/span\u003e off\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003esetlocal\u003c/span\u003e enabledelayedexpansion\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"c1\"\u003e: å®šä¹‰å…³é”®å­—\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eset\u003c/span\u003e \u003cspan class=\"nv\"\u003edn\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003eInfo\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eset\u003c/span\u003e \u003cspan class=\"nv\"\u003edn2\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003eShellFolder\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eset\u003c/span\u003e \u003cspan class=\"nv\"\u003erp\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003eHKEY_CURRENT_USER\\Software\\Classes\\CLSID\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eecho\u003c/span\u003e å¼€å§‹æ‰«ææ³¨å†Œè¡¨...\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"k\"\u003e/f\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;tokens=*\u0026#34;\u003c/span\u003e \u003cspan class=\"se\"\u003e%%\u003c/span\u003ea \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;reg query \u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e%rp%\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#34;\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"k\"\u003eecho\u003c/span\u003e æ­£åœ¨æ£€æŸ¥: \u003cspan class=\"se\"\u003e%%\u003c/span\u003ea\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"k\"\u003e/f\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;tokens=*\u0026#34;\u003c/span\u003e \u003cspan class=\"se\"\u003e%%\u003c/span\u003el \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;reg query \u0026#34;\u003c/span\u003e\u003cspan class=\"se\"\u003e%%\u003c/span\u003e\u003cspan class=\"s1\"\u003ea\u0026#34; /f \u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e%dn%\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#34; /s /e ^| findstr /i \u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e%dn%\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#34;\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003eecho\u003c/span\u003e åˆ é™¤åŒ¹é…é¡¹: \u003cspan class=\"se\"\u003e%%\u003c/span\u003ea\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    reg delete \u003cspan class=\"se\"\u003e%%\u003c/span\u003ea /f\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"k\"\u003e/f\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;tokens=*\u0026#34;\u003c/span\u003e \u003cspan class=\"se\"\u003e%%\u003c/span\u003el \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;reg query \u0026#34;\u003c/span\u003e\u003cspan class=\"se\"\u003e%%\u003c/span\u003e\u003cspan class=\"s1\"\u003ea\u0026#34; /f \u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e%dn2%\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#34; /s /e ^| findstr /i \u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e%dn2%\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#34;\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003eecho\u003c/span\u003e åˆ é™¤åŒ¹é…é¡¹: \u003cspan class=\"se\"\u003e%%\u003c/span\u003ea\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    reg delete \u003cspan class=\"se\"\u003e%%\u003c/span\u003ea /f\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eecho\u003c/span\u003e æ¸…ç†å®Œæˆï¼\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003epause\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eexit\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"æ‰¹å¤„ç†è„šæœ¬ç¤ºä¾‹ï¼šè‡ªåŠ¨æ¸…ç†æ³¨å†Œè¡¨ä¸­çš„æ— æ•ˆé”®å€¼"},{"content":"ğŸ“Œ ç®€ä»‹ æœ¬æ–‡åˆ†äº«ä¸€ä¸ª PowerShell è„šæœ¬ï¼Œç”¨äº è‡ªåŠ¨æ¸…ç†æ— æ•ˆçš„ Windows é˜²ç«å¢™å…¥ç«™è§„åˆ™ã€‚\nè„šæœ¬ä¼šåœ¨æ‰§è¡Œå‰è‡ªåŠ¨å¤‡ä»½å½“å‰è§„åˆ™ï¼Œå¹¶åœ¨æ—¥å¿—ä¸­è¯¦ç»†è®°å½•æ¯ä¸€æ­¥æ“ä½œï¼Œç¡®ä¿å¯è¿½æº¯æ€§å’Œå®‰å…¨æ€§ã€‚\nâš ï¸ æ³¨æ„ï¼šæ—¥å¿—ä¸­å¯èƒ½åŒ…å«è§„åˆ™åç§°å’Œç¨‹åºè·¯å¾„ã€‚\nğŸ›  åŠŸèƒ½è¯´æ˜ è‡ªåŠ¨ç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„é˜²ç«å¢™è§„åˆ™å¤‡ä»½æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶ã€‚ å®šä¹‰ç³»ç»Ÿè§„åˆ™ç™½åå•ï¼Œé¿å…è¯¯åˆ å…³é”®è§„åˆ™ã€‚ æ£€æµ‹å…¥ç«™è§„åˆ™å¯¹åº”çš„ç¨‹åºè·¯å¾„æ˜¯å¦å­˜åœ¨ã€‚ åˆ é™¤æ— æ•ˆè§„åˆ™ï¼ˆéç³»ç»Ÿã€éæ‰‹åŠ¨åˆ›å»ºï¼‰ã€‚ åœ¨æ—¥å¿—æœ«å°¾åˆ—å‡ºæ‰€æœ‰æ‰‹åŠ¨è§„åˆ™ï¼Œæ–¹ä¾¿äººå·¥æ£€æŸ¥ã€‚ ğŸ’» è„šæœ¬ä»£ç  \u0026lt;# .SYNOPSIS è‡ªåŠ¨æ¸…ç†æ— æ•ˆçš„ Windows é˜²ç«å¢™å…¥ç«™è§„åˆ™ï¼Œå¹¶å¤‡ä»½å½“å‰è§„åˆ™å’Œè®°å½•è¯¦ç»†æ—¥å¿—ã€‚ .NOTE æ—¥å¿—ä¸­ä¼šè®°å½•è§„åˆ™åç§°å’Œç¨‹åºè·¯å¾„ã€‚ #\u0026gt; # 1. ç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„å¤‡ä»½æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶ $timestamp = Get-Date -Format \u0026#34;yyyyMMdd_HHmmss\u0026#34; $backupPath = \u0026#34;C:\\Path\\To\\Backup\\firewall_backup_$timestamp.pol\u0026#34; $logPath = \u0026#34;C:\\Path\\To\\Logs\\firewall_cleanup_$timestamp.log\u0026#34; # 2. å¤‡ä»½å½“å‰é˜²ç«å¢™è§„åˆ™ netsh advfirewall export $backupPath | Out-Null Write-Output \u0026#34;[$(Get-Date -Format \u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;)] é˜²ç«å¢™è§„åˆ™å·²å¤‡ä»½åˆ°: $backupPath\u0026#34; | Tee-Object -FilePath $logPath -Append # 3. å®šä¹‰ç³»ç»Ÿè§„åˆ™ç™½åå•ï¼ˆé˜²æ­¢è¯¯åˆ å…³é”®ç³»ç»Ÿè§„åˆ™ï¼‰ $systemRules = @(\u0026#34;*Windows*\u0026#34;, \u0026#34;*System*\u0026#34;, \u0026#34;*svchost*\u0026#34;, \u0026#34;*lsass*\u0026#34;, \u0026#34;*wininit*\u0026#34;) $systemPaths = @(\u0026#34;*\\Windows\\*\u0026#34;, \u0026#34;*\\Program Files\\*\u0026#34;, \u0026#34;*\\Program Files (x86)\\*\u0026#34;) # 4. è·å–æ‰€æœ‰æ‰‹åŠ¨åˆ›å»ºçš„è§„åˆ™ï¼ˆPersistentStoreï¼‰ $manualRules = Get-NetFirewallRule | Where-Object { $_.PolicyStore -eq \u0026#34;PersistentStore\u0026#34; } # 5. æ¸…ç†æ— æ•ˆè§„åˆ™ï¼ˆéç³»ç»Ÿ+éæ‰‹åŠ¨ï¼‰ $rules = Get-NetFirewallRule -Direction Inbound | Where-Object { $_.Enabled -eq \u0026#39;True\u0026#39; } foreach ($rule in $rules) { $program = ($rule | Get-NetFirewallApplicationFilter).Program if ($program -and (Test-Path $program) -eq $false) { # æ£€æŸ¥æ˜¯å¦ä¸ºç³»ç»Ÿè§„åˆ™æˆ–æ‰‹åŠ¨è§„åˆ™ $isSystemRule = $systemRules -contains $rule.Name -or ($program -and ($systemPaths | Where-Object { $program -like $_ })) $isManualRule = ($rule.PolicyStore -eq \u0026#34;PersistentStore\u0026#34;) if (-not $isSystemRule -and -not $isManualRule) { $logMessage = \u0026#34;[$(Get-Date -Format \u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;)] åˆ é™¤æ— æ•ˆè§„åˆ™: $($rule.Name) (ç¨‹åºè·¯å¾„: $program)\u0026#34; Write-Output $logMessage | Tee-Object -FilePath $logPath -Append $rule | Remove-NetFirewallRule -Confirm:$false } elseif ($isSystemRule) { $logMessage = \u0026#34;[$(Get-Date -Format \u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;)] è·³è¿‡ç³»ç»Ÿè§„åˆ™: $($rule.Name) (ç¨‹åºè·¯å¾„: $program)\u0026#34; Write-Output $logMessage | Tee-Object -FilePath $logPath -Append } elseif ($isManualRule) { $logMessage = \u0026#34;[$(Get-Date -Format \u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;)] è·³è¿‡æ‰‹åŠ¨è§„åˆ™: $($rule.Name) (ç¨‹åºè·¯å¾„: $program)\u0026#34; Write-Output $logMessage | Tee-Object -FilePath $logPath -Append } } else { $logMessage = \u0026#34;[$(Get-Date -Format \u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;)] ä¿ç•™æœ‰æ•ˆè§„åˆ™: $($rule.Name) (ç¨‹åºè·¯å¾„: $program)\u0026#34; Write-Output $logMessage | Tee-Object -FilePath $logPath -Append } } # 6. åœ¨æ—¥å¿—æœ«å°¾åˆ—å‡ºæ‰€æœ‰æ‰‹åŠ¨è§„åˆ™ Write-Output \u0026#34;`n[$(Get-Date -Format \u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;)] å½“å‰æ‰€æœ‰æ‰‹åŠ¨è§„åˆ™åˆ—è¡¨ï¼š\u0026#34; | Tee-Object -FilePath $logPath -Append $manualRules | ForEach-Object { $program = ($_ | Get-NetFirewallApplicationFilter).Program Write-Output \u0026#34; - è§„åˆ™åç§°: $($_.Name), ç¨‹åºè·¯å¾„: $program\u0026#34; | Tee-Object -FilePath $logPath -Append } Write-Output \u0026#34;[$(Get-Date -Format \u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;)] æ¸…ç†å®Œæˆï¼æ—¥å¿—å·²ä¿å­˜åˆ°: $logPath\u0026#34; | Tee-Object -FilePath $logPath -Append ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/win64_firewallcleanup/","summary":"\u003ch2 id=\"-ç®€ä»‹\"\u003eğŸ“Œ ç®€ä»‹\u003c/h2\u003e\n\u003cp\u003eæœ¬æ–‡åˆ†äº«ä¸€ä¸ª PowerShell è„šæœ¬ï¼Œç”¨äº \u003cstrong\u003eè‡ªåŠ¨æ¸…ç†æ— æ•ˆçš„ Windows é˜²ç«å¢™å…¥ç«™è§„åˆ™\u003c/strong\u003eã€‚\u003cbr\u003e\nè„šæœ¬ä¼šåœ¨æ‰§è¡Œå‰è‡ªåŠ¨å¤‡ä»½å½“å‰è§„åˆ™ï¼Œå¹¶åœ¨æ—¥å¿—ä¸­è¯¦ç»†è®°å½•æ¯ä¸€æ­¥æ“ä½œï¼Œç¡®ä¿å¯è¿½æº¯æ€§å’Œå®‰å…¨æ€§ã€‚\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eâš ï¸ æ³¨æ„ï¼šæ—¥å¿—ä¸­å¯èƒ½åŒ…å«è§„åˆ™åç§°å’Œç¨‹åºè·¯å¾„ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003chr\u003e\n\u003ch2 id=\"-åŠŸèƒ½è¯´æ˜\"\u003eğŸ›  åŠŸèƒ½è¯´æ˜\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eè‡ªåŠ¨ç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„é˜²ç«å¢™è§„åˆ™å¤‡ä»½æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶ã€‚\u003c/li\u003e\n\u003cli\u003eå®šä¹‰ç³»ç»Ÿè§„åˆ™ç™½åå•ï¼Œé¿å…è¯¯åˆ å…³é”®è§„åˆ™ã€‚\u003c/li\u003e\n\u003cli\u003eæ£€æµ‹å…¥ç«™è§„åˆ™å¯¹åº”çš„ç¨‹åºè·¯å¾„æ˜¯å¦å­˜åœ¨ã€‚\u003c/li\u003e\n\u003cli\u003eåˆ é™¤æ— æ•ˆè§„åˆ™ï¼ˆéç³»ç»Ÿã€éæ‰‹åŠ¨åˆ›å»ºï¼‰ã€‚\u003c/li\u003e\n\u003cli\u003eåœ¨æ—¥å¿—æœ«å°¾åˆ—å‡ºæ‰€æœ‰æ‰‹åŠ¨è§„åˆ™ï¼Œæ–¹ä¾¿äººå·¥æ£€æŸ¥ã€‚\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"-è„šæœ¬ä»£ç \"\u003eğŸ’» è„šæœ¬ä»£ç \u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cm\"\u003e\u0026lt;#\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cm\"\u003e.\u003c/span\u003e\u003cspan class=\"sd\"\u003eSYNOPSIS\u003c/span\u003e\u003cspan class=\"cm\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cm\"\u003eè‡ªåŠ¨æ¸…ç†æ— æ•ˆçš„ Windows é˜²ç«å¢™å…¥ç«™è§„åˆ™ï¼Œå¹¶å¤‡ä»½å½“å‰è§„åˆ™å’Œè®°å½•è¯¦ç»†æ—¥å¿—ã€‚\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cm\"\u003e.NOTE\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cm\"\u003eæ—¥å¿—ä¸­ä¼šè®°å½•è§„åˆ™åç§°å’Œç¨‹åºè·¯å¾„ã€‚\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cm\"\u003e#\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c\"\u003e# 1. ç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„å¤‡ä»½æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$timestamp\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eGet-Date\u003c/span\u003e \u003cspan class=\"n\"\u003e-Format\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;yyyyMMdd_HHmmss\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$backupPath\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;C:\\Path\\To\\Backup\\firewall_backup_\u003c/span\u003e\u003cspan class=\"nv\"\u003e$timestamp\u003c/span\u003e\u003cspan class=\"s2\"\u003e.pol\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$logPath\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;C:\\Path\\To\\Logs\\firewall_cleanup_\u003c/span\u003e\u003cspan class=\"nv\"\u003e$timestamp\u003c/span\u003e\u003cspan class=\"s2\"\u003e.log\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c\"\u003e# 2. å¤‡ä»½å½“å‰é˜²ç«å¢™è§„åˆ™\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003enetsh\u003c/span\u003e \u003cspan class=\"n\"\u003eadvfirewall\u003c/span\u003e \u003cspan class=\"n\"\u003eexport\u003c/span\u003e \u003cspan class=\"nv\"\u003e$backupPath\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eOut-Null\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eWrite-Output\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;[\u003c/span\u003e\u003cspan class=\"p\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eGet-Date\u003c/span\u003e \u003cspan class=\"n\"\u003e-Format\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e] é˜²ç«å¢™è§„åˆ™å·²å¤‡ä»½åˆ°: \u003c/span\u003e\u003cspan class=\"nv\"\u003e$backupPath\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eTee-Object\u003c/span\u003e \u003cspan class=\"n\"\u003e-FilePath\u003c/span\u003e \u003cspan class=\"nv\"\u003e$logPath\u003c/span\u003e \u003cspan class=\"n\"\u003e-Append\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c\"\u003e# 3. å®šä¹‰ç³»ç»Ÿè§„åˆ™ç™½åå•ï¼ˆé˜²æ­¢è¯¯åˆ å…³é”®ç³»ç»Ÿè§„åˆ™ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$systemRules\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"vm\"\u003e@\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;*Windows*\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;*System*\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;*svchost*\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;*lsass*\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;*wininit*\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$systemPaths\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"vm\"\u003e@\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;*\\Windows\\*\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;*\\Program Files\\*\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;*\\Program Files (x86)\\*\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c\"\u003e# 4. è·å–æ‰€æœ‰æ‰‹åŠ¨åˆ›å»ºçš„è§„åˆ™ï¼ˆPersistentStoreï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$manualRules\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eGet-NetFirewallRule\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eWhere-Object\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nv\"\u003e$_\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"py\"\u003ePolicyStore\u003c/span\u003e \u003cspan class=\"o\"\u003e-eq\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;PersistentStore\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c\"\u003e# 5. æ¸…ç†æ— æ•ˆè§„åˆ™ï¼ˆéç³»ç»Ÿ+éæ‰‹åŠ¨ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$rules\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eGet-NetFirewallRule\u003c/span\u003e \u003cspan class=\"n\"\u003e-Direction\u003c/span\u003e \u003cspan class=\"n\"\u003eInbound\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eWhere-Object\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nv\"\u003e$_\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"py\"\u003eEnabled\u003c/span\u003e \u003cspan class=\"o\"\u003e-eq\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;True\u0026#39;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eforeach\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$rule\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"nv\"\u003e$rules\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nv\"\u003e$program\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$rule\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eGet-NetFirewallApplicationFilter\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"py\"\u003eProgram\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$program\u003c/span\u003e \u003cspan class=\"o\"\u003e-and\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eTest-Path\u003c/span\u003e \u003cspan class=\"nv\"\u003e$program\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e-eq\u003c/span\u003e \u003cspan class=\"vm\"\u003e$false\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"c\"\u003e# æ£€æŸ¥æ˜¯å¦ä¸ºç³»ç»Ÿè§„åˆ™æˆ–æ‰‹åŠ¨è§„åˆ™\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"nv\"\u003e$isSystemRule\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nv\"\u003e$systemRules\u003c/span\u003e \u003cspan class=\"o\"\u003e-contains\u003c/span\u003e \u003cspan class=\"nv\"\u003e$rule\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"py\"\u003eName\u003c/span\u003e \u003cspan class=\"o\"\u003e-or\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e                       \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$program\u003c/span\u003e \u003cspan class=\"o\"\u003e-and\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$systemPaths\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eWhere-Object\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nv\"\u003e$program\u003c/span\u003e \u003cspan class=\"o\"\u003e-like\u003c/span\u003e \u003cspan class=\"nv\"\u003e$_\u003c/span\u003e \u003cspan class=\"p\"\u003e}))\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"nv\"\u003e$isManualRule\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$rule\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"py\"\u003ePolicyStore\u003c/span\u003e \u003cspan class=\"o\"\u003e-eq\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;PersistentStore\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e-not\u003c/span\u003e \u003cspan class=\"nv\"\u003e$isSystemRule\u003c/span\u003e \u003cspan class=\"o\"\u003e-and\u003c/span\u003e \u003cspan class=\"o\"\u003e-not\u003c/span\u003e \u003cspan class=\"nv\"\u003e$isManualRule\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e            \u003cspan class=\"nv\"\u003e$logMessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;[\u003c/span\u003e\u003cspan class=\"p\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eGet-Date\u003c/span\u003e \u003cspan class=\"n\"\u003e-Format\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e] åˆ é™¤æ— æ•ˆè§„åˆ™: \u003c/span\u003e\u003cspan class=\"p\"\u003e$(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$rule\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e (ç¨‹åºè·¯å¾„: \u003c/span\u003e\u003cspan class=\"nv\"\u003e$program\u003c/span\u003e\u003cspan class=\"s2\"\u003e)\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e            \u003cspan class=\"nb\"\u003eWrite-Output\u003c/span\u003e \u003cspan class=\"nv\"\u003e$logMessage\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eTee-Object\u003c/span\u003e \u003cspan class=\"n\"\u003e-FilePath\u003c/span\u003e \u003cspan class=\"nv\"\u003e$logPath\u003c/span\u003e \u003cspan class=\"n\"\u003e-Append\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e            \u003cspan class=\"nv\"\u003e$rule\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eRemove-NetFirewallRule\u003c/span\u003e \u003cspan class=\"n\"\u003e-Confirm:\u003c/span\u003e\u003cspan class=\"vm\"\u003e$false\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003eelseif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$isSystemRule\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e            \u003cspan class=\"nv\"\u003e$logMessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;[\u003c/span\u003e\u003cspan class=\"p\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eGet-Date\u003c/span\u003e \u003cspan class=\"n\"\u003e-Format\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e] è·³è¿‡ç³»ç»Ÿè§„åˆ™: \u003c/span\u003e\u003cspan class=\"p\"\u003e$(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$rule\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e (ç¨‹åºè·¯å¾„: \u003c/span\u003e\u003cspan class=\"nv\"\u003e$program\u003c/span\u003e\u003cspan class=\"s2\"\u003e)\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e            \u003cspan class=\"nb\"\u003eWrite-Output\u003c/span\u003e \u003cspan class=\"nv\"\u003e$logMessage\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eTee-Object\u003c/span\u003e \u003cspan class=\"n\"\u003e-FilePath\u003c/span\u003e \u003cspan class=\"nv\"\u003e$logPath\u003c/span\u003e \u003cspan class=\"n\"\u003e-Append\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003eelseif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$isManualRule\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e            \u003cspan class=\"nv\"\u003e$logMessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;[\u003c/span\u003e\u003cspan class=\"p\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eGet-Date\u003c/span\u003e \u003cspan class=\"n\"\u003e-Format\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e] è·³è¿‡æ‰‹åŠ¨è§„åˆ™: \u003c/span\u003e\u003cspan class=\"p\"\u003e$(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$rule\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e (ç¨‹åºè·¯å¾„: \u003c/span\u003e\u003cspan class=\"nv\"\u003e$program\u003c/span\u003e\u003cspan class=\"s2\"\u003e)\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e            \u003cspan class=\"nb\"\u003eWrite-Output\u003c/span\u003e \u003cspan class=\"nv\"\u003e$logMessage\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eTee-Object\u003c/span\u003e \u003cspan class=\"n\"\u003e-FilePath\u003c/span\u003e \u003cspan class=\"nv\"\u003e$logPath\u003c/span\u003e \u003cspan class=\"n\"\u003e-Append\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"nv\"\u003e$logMessage\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;[\u003c/span\u003e\u003cspan class=\"p\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eGet-Date\u003c/span\u003e \u003cspan class=\"n\"\u003e-Format\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e] ä¿ç•™æœ‰æ•ˆè§„åˆ™: \u003c/span\u003e\u003cspan class=\"p\"\u003e$(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$rule\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e (ç¨‹åºè·¯å¾„: \u003c/span\u003e\u003cspan class=\"nv\"\u003e$program\u003c/span\u003e\u003cspan class=\"s2\"\u003e)\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"nb\"\u003eWrite-Output\u003c/span\u003e \u003cspan class=\"nv\"\u003e$logMessage\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eTee-Object\u003c/span\u003e \u003cspan class=\"n\"\u003e-FilePath\u003c/span\u003e \u003cspan class=\"nv\"\u003e$logPath\u003c/span\u003e \u003cspan class=\"n\"\u003e-Append\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c\"\u003e# 6. åœ¨æ—¥å¿—æœ«å°¾åˆ—å‡ºæ‰€æœ‰æ‰‹åŠ¨è§„åˆ™\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eWrite-Output\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"se\"\u003e`n\u003c/span\u003e\u003cspan class=\"s2\"\u003e[\u003c/span\u003e\u003cspan class=\"p\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eGet-Date\u003c/span\u003e \u003cspan class=\"n\"\u003e-Format\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e] å½“å‰æ‰€æœ‰æ‰‹åŠ¨è§„åˆ™åˆ—è¡¨ï¼š\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eTee-Object\u003c/span\u003e \u003cspan class=\"n\"\u003e-FilePath\u003c/span\u003e \u003cspan class=\"nv\"\u003e$logPath\u003c/span\u003e \u003cspan class=\"n\"\u003e-Append\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003e$manualRules\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eForEach-Object\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nv\"\u003e$program\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$_\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eGet-NetFirewallApplicationFilter\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"py\"\u003eProgram\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eWrite-Output\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34; - è§„åˆ™åç§°: \u003c/span\u003e\u003cspan class=\"p\"\u003e$(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$_\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e, ç¨‹åºè·¯å¾„: \u003c/span\u003e\u003cspan class=\"nv\"\u003e$program\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eTee-Object\u003c/span\u003e \u003cspan class=\"n\"\u003e-FilePath\u003c/span\u003e \u003cspan class=\"nv\"\u003e$logPath\u003c/span\u003e \u003cspan class=\"n\"\u003e-Append\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eWrite-Output\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;[\u003c/span\u003e\u003cspan class=\"p\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eGet-Date\u003c/span\u003e \u003cspan class=\"n\"\u003e-Format\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e] æ¸…ç†å®Œæˆï¼æ—¥å¿—å·²ä¿å­˜åˆ°: \u003c/span\u003e\u003cspan class=\"nv\"\u003e$logPath\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"nb\"\u003eTee-Object\u003c/span\u003e \u003cspan class=\"n\"\u003e-FilePath\u003c/span\u003e \u003cspan class=\"nv\"\u003e$logPath\u003c/span\u003e \u003cspan class=\"n\"\u003e-Append\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"è‡ªåŠ¨æ¸…ç†æ— æ•ˆçš„ Windows é˜²ç«å¢™å…¥ç«™è§„åˆ™"},{"content":"åœ¨å›½å†…ç¯å¢ƒä¸‹ï¼Œä½¿ç”¨é»˜è®¤çš„ CentOS å®˜æ–¹ä»“åº“å¯èƒ½ä¼šé‡åˆ°é€Ÿåº¦è¾ƒæ…¢çš„é—®é¢˜ã€‚\næœ¬æ–‡æä¾›ä¸€ä¸ªè„šæœ¬ï¼Œå¸®åŠ©ä½ å¿«é€Ÿåˆ‡æ¢åˆ°æ–°çš„é•œåƒæºï¼Œå¹¶å®Œæˆç³»ç»Ÿæ›´æ–°ã€‚\nè„šæœ¬å†…å®¹ ä»¥ä¸‹è„šæœ¬å¯ä¿å­˜ä¸º update_yum_repo.sh å¹¶æ‰§è¡Œï¼š\n#!/bin/bash # æ›´æ–° CentOS 7 YUM ä»“åº“é…ç½®å¹¶åˆ‡æ¢åˆ°æ–°çš„é•œåƒæº # 1. å¤‡ä»½åŸæœ‰ä»“åº“é…ç½® sudo mkdir -p /etc/yum.repos.d/backup sudo mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/backup/ # 2. ä¸‹è½½æ–°çš„ä»“åº“é…ç½®æ–‡ä»¶ # ä½¿ç”¨è€…éœ€æ ¹æ®å®é™…æƒ…å†µæ›¿æ¢èµ„æºè·¯å¾„ sudo curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo sudo curl -o /etc/yum.repos.d/epel.repo https://mirrors.aliyun.com/repo/epel-7.repo # 3. æ¸…ç†ç¼“å­˜å¹¶é‡å»º sudo yum clean all sudo yum makecache # 4. æ›´æ–°ç³»ç»Ÿ sudo yum update -y ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/update_yum_repo/","summary":"\u003cp\u003eåœ¨å›½å†…ç¯å¢ƒä¸‹ï¼Œä½¿ç”¨é»˜è®¤çš„ CentOS å®˜æ–¹ä»“åº“å¯èƒ½ä¼šé‡åˆ°é€Ÿåº¦è¾ƒæ…¢çš„é—®é¢˜ã€‚\u003cbr\u003e\næœ¬æ–‡æä¾›ä¸€ä¸ªè„šæœ¬ï¼Œå¸®åŠ©ä½ å¿«é€Ÿåˆ‡æ¢åˆ°æ–°çš„é•œåƒæºï¼Œå¹¶å®Œæˆç³»ç»Ÿæ›´æ–°ã€‚\u003c/p\u003e\n\u003ch2 id=\"è„šæœ¬å†…å®¹\"\u003eè„šæœ¬å†…å®¹\u003c/h2\u003e\n\u003cp\u003eä»¥ä¸‹è„šæœ¬å¯ä¿å­˜ä¸º \u003ccode\u003eupdate_yum_repo.sh\u003c/code\u003e å¹¶æ‰§è¡Œï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e\u003c/span\u003e\u003cspan class=\"c1\"\u003e# æ›´æ–° CentOS 7 YUM ä»“åº“é…ç½®å¹¶åˆ‡æ¢åˆ°æ–°çš„é•œåƒæº\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 1. å¤‡ä»½åŸæœ‰ä»“åº“é…ç½®\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo mkdir -p /etc/yum.repos.d/backup\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/backup/\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 2. ä¸‹è½½æ–°çš„ä»“åº“é…ç½®æ–‡ä»¶\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# ä½¿ç”¨è€…éœ€æ ¹æ®å®é™…æƒ…å†µæ›¿æ¢èµ„æºè·¯å¾„\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo curl -o /etc/yum.repos.d/epel.repo https://mirrors.aliyun.com/repo/epel-7.repo\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 3. æ¸…ç†ç¼“å­˜å¹¶é‡å»º\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo yum clean all\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo yum makecache\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 4. æ›´æ–°ç³»ç»Ÿ\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo yum update -y\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"CentOS 7 æ›´æ¢ YUM é•œåƒæºå¹¶æ›´æ–°ç³»ç»Ÿ"},{"content":"æœ¬æ–‡æä¾›ä¸€ä¸ªå®Œæ•´çš„éƒ¨ç½²è„šæœ¬ï¼Œæ¶µç›– Debian 13 ç¯å¢ƒä¸‹ JDK8ã€Tomcatã€LibreOffice çš„å®‰è£…ä¸é…ç½®ã€‚\nè¯·æ ¹æ®å®é™…ç¯å¢ƒæ›¿æ¢è„šæœ¬ä¸­çš„èµ„æºè·¯å¾„å’Œç‰ˆæœ¬å·ã€‚\nè„šæœ¬å†…å®¹ ä»¥ä¸‹è„šæœ¬å¯ä¿å­˜ä¸º deploy_tomcat_libreoffice.sh å¹¶æ‰§è¡Œï¼š\n#!/bin/bash set -e echo \u0026#34;=== åˆ‡æ¢åˆ°é•œåƒæºï¼ˆDebian 13 Trixie + sid for JDK8ï¼‰ ===\u0026#34; cp /etc/apt/sources.list /etc/apt/sources.list.bak cat \u0026gt; /etc/apt/sources.list \u0026lt;\u0026lt;EOF deb http://mirrors.tuna.tsinghua.edu.cn/debian/ trixie main contrib non-free non-free-firmware deb http://mirrors.tuna.tsinghua.edu.cn/debian/ trixie-updates main contrib non-free non-free-firmware deb http://mirrors.tuna.tsinghua.edu.cn/debian-security trixie-security main contrib non-free non-free-firmware # sid æºä»…ç”¨äº JDK8 deb http://mirrors.tuna.tsinghua.edu.cn/debian/ sid main contrib non-free non-free-firmware EOF apt update \u0026amp;\u0026amp; apt upgrade -y echo \u0026#34;=== å®‰è£… OpenJDK 8ï¼ˆheadlessï¼‰ ===\u0026#34; apt install -y openjdk-8-jdk-headless wget curl apt-file apt-file update echo \u0026#34;=== ç§»é™¤ sid æºï¼Œé˜²æ­¢åç»­å‡çº§æ‹‰å–ä¸ç¨³å®šåŒ… ===\u0026#34; grep -v \u0026#34;sid\u0026#34; /etc/apt/sources.list \u0026gt; /etc/apt/sources.list.tmp \u0026amp;\u0026amp; mv /etc/apt/sources.list.tmp /etc/apt/sources.list apt update echo \u0026#34;=== å®‰è£… Tomcatï¼ˆéœ€æ›¿æ¢ç‰ˆæœ¬å·å’Œå®‰è£…åŒ…è·¯å¾„ï¼‰ ===\u0026#34; TOMCAT_VERSION=9.0.108 mkdir -p /opt/tomcat # ä½¿ç”¨è€…éœ€æ›¿æ¢ /tmp/apache-tomcat-${TOMCAT_VERSION}.tar.gz ä¸ºå®é™…ä¸‹è½½è·¯å¾„ cp /tmp/apache-tomcat-${TOMCAT_VERSION}.tar.gz /tmp/tomcat.tar.gz tar -xvf /tmp/tomcat.tar.gz -C /opt/tomcat --strip-components=1 groupadd -f tomcat id -u tomcat \u0026amp;\u0026gt;/dev/null || useradd -s /bin/false -g tomcat -d /opt/tomcat tomcat chown -R tomcat:tomcat /opt/tomcat chmod +x /opt/tomcat/bin/*.sh cat \u0026gt; /etc/systemd/system/tomcat.service \u0026lt;\u0026lt;EOF [Unit] Description=Apache Tomcat Web Application Container After=network.target [Service] Type=forking User=tomcat Group=tomcat Environment=\u0026#34;JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\u0026#34; Environment=\u0026#34;CATALINA_HOME=/opt/tomcat\u0026#34; Environment=\u0026#34;CATALINA_BASE=/opt/tomcat\u0026#34; Environment=\u0026#34;CATALINA_PID=/opt/tomcat/temp/tomcat.pid\u0026#34; Environment=\u0026#34;JAVA_OPTS=-Xms256m -Xmx512m -XX:MaxMetaspaceSize=512m -Xss256k -XX:MaxDirectMemorySize=64m -Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom\u0026#34; ExecStart=/opt/tomcat/bin/startup.sh ExecStop=/opt/tomcat/bin/shutdown.sh Restart=always LimitNOFILE=4096 TimeoutStopSec=20 [Install] WantedBy=multi-user.target EOF systemctl daemon-reload systemctl enable --now tomcat echo \u0026#34;=== å®‰è£… LibreOfficeï¼ˆéœ€æ›¿æ¢ç‰ˆæœ¬å·å’Œå®‰è£…åŒ…è·¯å¾„ï¼‰ ===\u0026#34; LIBO_VER=7.6.7.2 cd /tmp # ä½¿ç”¨è€…éœ€æ›¿æ¢ LibreOffice_${LIBO_VER}_Linux_x86-64_deb.tar.gz ä¸ºå®é™…ä¸‹è½½è·¯å¾„ tar -xvf LibreOffice_${LIBO_VER}_Linux_x86-64_deb.tar.gz dpkg -i LibreOffice_${LIBO_VER}_Linux_x86-64_deb/DEBS/*.deb || true echo \u0026#34;=== å®‰è£… LibreOffice SDKï¼ˆéœ€æ›¿æ¢å®‰è£…åŒ…è·¯å¾„ï¼‰ ===\u0026#34; tar -xvf LibreOffice_${LIBO_VER}_Linux_x86-64_deb_sdk.tar.gz dpkg -i LibreOffice_${LIBO_VER}_Linux_x86-64_deb_sdk/DEBS/*.deb || true echo \u0026#34;=== æ£€æŸ¥å¹¶å®‰è£… LibreOffice ç¼ºå¤±ä¾èµ– ===\u0026#34; LIBO_BINARIES=( /opt/libreoffice7.6/program/soffice /opt/libreoffice7.6/program/soffice.bin /opt/libreoffice7.6/program/unopkg ) MISSING_LIBS_ALL=\u0026#34;\u0026#34; for bin in \u0026#34;${LIBO_BINARIES[@]}\u0026#34;; do if [ -x \u0026#34;$bin\u0026#34; ]; then MISSING_LIBS=$(ldd \u0026#34;$bin\u0026#34; | awk \u0026#39;/not found/ {print $1}\u0026#39; | sort -u) [ -n \u0026#34;$MISSING_LIBS\u0026#34; ] \u0026amp;\u0026amp; MISSING_LIBS_ALL=\u0026#34;$MISSING_LIBS_ALL $MISSING_LIBS\u0026#34; fi done if [ -n \u0026#34;$MISSING_LIBS_ALL\u0026#34; ]; then for lib in $(echo \u0026#34;$MISSING_LIBS_ALL\u0026#34; | tr \u0026#39; \u0026#39; \u0026#39;\\n\u0026#39; | sort -u); do PKG=$(apt-file search -x \u0026#34;$lib\u0026#34; | awk -F: \u0026#39;{print $1}\u0026#39; | sort -u | head -n1) [ -n \u0026#34;$PKG\u0026#34; ] \u0026amp;\u0026amp; apt install -y \u0026#34;$PKG\u0026#34; done fi echo \u0026#34;=== å®‰è£…ä¸­æ–‡å­—ä½“ ===\u0026#34; apt install -y fonts-wqy-zenhei fonts-wqy-microhei echo \u0026#34;=== é…ç½® LibreOffice è½¬æ¢è„šæœ¬ ===\u0026#34; cat \u0026gt; /usr/local/bin/convert_to_pdf.sh \u0026lt;\u0026lt;\u0026#39;EOF\u0026#39; #!/bin/bash INPUT_FILE=\u0026#34;$1\u0026#34; OUTPUT_DIR=\u0026#34;$2\u0026#34; if [ -z \u0026#34;$INPUT_FILE\u0026#34; ] || [ -z \u0026#34;$OUTPUT_DIR\u0026#34; ]; then echo \u0026#34;ç”¨æ³•: convert_to_pdf.sh \u0026lt;è¾“å…¥æ–‡ä»¶\u0026gt; \u0026lt;è¾“å‡ºç›®å½•\u0026gt;\u0026#34; exit 1 fi /opt/libreoffice7.6/program/soffice --headless --convert-to pdf \u0026#34;$INPUT_FILE\u0026#34; --outdir \u0026#34;$OUTPUT_DIR\u0026#34; EOF chmod +x /usr/local/bin/convert_to_pdf.sh echo \u0026#34;=== ä¿®æ­£ Tomcat ä¸‹è½½ç›®å½•æƒé™ ===\u0026#34; mkdir -p /opt/tomcat/webapps/ROOT/download/crfa chown -R tomcat:tomcat /opt/tomcat/webapps/ROOT/download chmod 755 /opt/tomcat/webapps/ROOT/download echo \u0026#34;=== é…ç½®ä¸­æ–‡æœ¬åœ°åŒ– ===\u0026#34; sed -i \u0026#39;s/^# *\\(zh_CN.UTF-8 UTF-8\\)/\\1/\u0026#39; /etc/locale.gen locale-gen update-locale LANG=zh_CN.UTF-8 LANGUAGE=zh_CN:zh LC_ALL=zh_CN.UTF-8 echo \u0026#34;=== éƒ¨ç½²å®Œæˆ ===\u0026#34; ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/deploy_tomcat_libreoffice/","summary":"\u003cp\u003eæœ¬æ–‡æä¾›ä¸€ä¸ªå®Œæ•´çš„éƒ¨ç½²è„šæœ¬ï¼Œæ¶µç›– \u003cstrong\u003eDebian 13\u003c/strong\u003e ç¯å¢ƒä¸‹ JDK8ã€Tomcatã€LibreOffice çš„å®‰è£…ä¸é…ç½®ã€‚\u003cbr\u003e\nè¯·æ ¹æ®å®é™…ç¯å¢ƒæ›¿æ¢è„šæœ¬ä¸­çš„èµ„æºè·¯å¾„å’Œç‰ˆæœ¬å·ã€‚\u003c/p\u003e\n\u003ch2 id=\"è„šæœ¬å†…å®¹\"\u003eè„šæœ¬å†…å®¹\u003c/h2\u003e\n\u003cp\u003eä»¥ä¸‹è„šæœ¬å¯ä¿å­˜ä¸º \u003ccode\u003edeploy_tomcat_libreoffice.sh\u003c/code\u003e å¹¶æ‰§è¡Œï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e\u003c/span\u003e\u003cspan class=\"nb\"\u003eset\u003c/span\u003e -e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;=== åˆ‡æ¢åˆ°é•œåƒæºï¼ˆDebian 13 Trixie + sid for JDK8ï¼‰ ===\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecp /etc/apt/sources.list /etc/apt/sources.list.bak\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecat \u0026gt; /etc/apt/sources.list \u003cspan class=\"s\"\u003e\u0026lt;\u0026lt;EOF\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003edeb http://mirrors.tuna.tsinghua.edu.cn/debian/ trixie main contrib non-free non-free-firmware\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003edeb http://mirrors.tuna.tsinghua.edu.cn/debian/ trixie-updates main contrib non-free non-free-firmware\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003edeb http://mirrors.tuna.tsinghua.edu.cn/debian-security trixie-security main contrib non-free non-free-firmware\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e# sid æºä»…ç”¨äº JDK8\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003edeb http://mirrors.tuna.tsinghua.edu.cn/debian/ sid main contrib non-free non-free-firmware\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eapt update \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e apt upgrade -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;=== å®‰è£… OpenJDK 8ï¼ˆheadlessï¼‰ ===\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eapt install -y openjdk-8-jdk-headless wget curl apt-file\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eapt-file update\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;=== ç§»é™¤ sid æºï¼Œé˜²æ­¢åç»­å‡çº§æ‹‰å–ä¸ç¨³å®šåŒ… ===\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003egrep -v \u003cspan class=\"s2\"\u003e\u0026#34;sid\u0026#34;\u003c/span\u003e /etc/apt/sources.list \u0026gt; /etc/apt/sources.list.tmp \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e mv /etc/apt/sources.list.tmp /etc/apt/sources.list\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eapt update\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;=== å®‰è£… Tomcatï¼ˆéœ€æ›¿æ¢ç‰ˆæœ¬å·å’Œå®‰è£…åŒ…è·¯å¾„ï¼‰ ===\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eTOMCAT_VERSION\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e9.0.108\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emkdir -p /opt/tomcat\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# ä½¿ç”¨è€…éœ€æ›¿æ¢ /tmp/apache-tomcat-${TOMCAT_VERSION}.tar.gz ä¸ºå®é™…ä¸‹è½½è·¯å¾„\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecp /tmp/apache-tomcat-\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eTOMCAT_VERSION\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e.tar.gz /tmp/tomcat.tar.gz\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003etar -xvf /tmp/tomcat.tar.gz -C /opt/tomcat --strip-components\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003egroupadd -f tomcat\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eid -u tomcat \u003cspan class=\"p\"\u003e\u0026amp;\u003c/span\u003e\u0026gt;/dev/null \u003cspan class=\"o\"\u003e||\u003c/span\u003e useradd -s /bin/false -g tomcat -d /opt/tomcat tomcat\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003echown -R tomcat:tomcat /opt/tomcat\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003echmod +x /opt/tomcat/bin/*.sh\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecat \u0026gt; /etc/systemd/system/tomcat.service \u003cspan class=\"s\"\u003e\u0026lt;\u0026lt;EOF\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e[Unit]\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eDescription=Apache Tomcat Web Application Container\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eAfter=network.target\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e[Service]\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eType=forking\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eUser=tomcat\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eGroup=tomcat\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEnvironment=\u0026#34;JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEnvironment=\u0026#34;CATALINA_HOME=/opt/tomcat\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEnvironment=\u0026#34;CATALINA_BASE=/opt/tomcat\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEnvironment=\u0026#34;CATALINA_PID=/opt/tomcat/temp/tomcat.pid\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEnvironment=\u0026#34;JAVA_OPTS=-Xms256m -Xmx512m -XX:MaxMetaspaceSize=512m -Xss256k -XX:MaxDirectMemorySize=64m -Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eExecStart=/opt/tomcat/bin/startup.sh\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eExecStop=/opt/tomcat/bin/shutdown.sh\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eRestart=always\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eLimitNOFILE=4096\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eTimeoutStopSec=20\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e[Install]\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eWantedBy=multi-user.target\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esystemctl daemon-reload\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esystemctl \u003cspan class=\"nb\"\u003eenable\u003c/span\u003e --now tomcat\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;=== å®‰è£… LibreOfficeï¼ˆéœ€æ›¿æ¢ç‰ˆæœ¬å·å’Œå®‰è£…åŒ…è·¯å¾„ï¼‰ ===\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eLIBO_VER\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e7.6.7.2\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003ecd\u003c/span\u003e /tmp\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# ä½¿ç”¨è€…éœ€æ›¿æ¢ LibreOffice_${LIBO_VER}_Linux_x86-64_deb.tar.gz ä¸ºå®é™…ä¸‹è½½è·¯å¾„\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003etar -xvf LibreOffice_\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eLIBO_VER\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e_Linux_x86-64_deb.tar.gz\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edpkg -i LibreOffice_\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eLIBO_VER\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e_Linux_x86-64_deb/DEBS/*.deb \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nb\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;=== å®‰è£… LibreOffice SDKï¼ˆéœ€æ›¿æ¢å®‰è£…åŒ…è·¯å¾„ï¼‰ ===\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003etar -xvf LibreOffice_\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eLIBO_VER\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e_Linux_x86-64_deb_sdk.tar.gz\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edpkg -i LibreOffice_\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eLIBO_VER\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e_Linux_x86-64_deb_sdk/DEBS/*.deb \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nb\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;=== æ£€æŸ¥å¹¶å®‰è£… LibreOffice ç¼ºå¤±ä¾èµ– ===\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eLIBO_BINARIES\u003c/span\u003e\u003cspan class=\"o\"\u003e=(\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    /opt/libreoffice7.6/program/soffice\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    /opt/libreoffice7.6/program/soffice.bin\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    /opt/libreoffice7.6/program/unopkg\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eMISSING_LIBS_ALL\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003efor\u003c/span\u003e bin in \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eLIBO_BINARIES\u003c/span\u003e\u003cspan class=\"p\"\u003e[@]\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e -x \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$bin\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"nv\"\u003eMISSING_LIBS\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003eldd \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$bin\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e awk \u003cspan class=\"s1\"\u003e\u0026#39;/not found/ {print $1}\u0026#39;\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e sort -u\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"o\"\u003e[\u003c/span\u003e -n \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MISSING_LIBS\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nv\"\u003eMISSING_LIBS_ALL\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MISSING_LIBS_ALL\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$MISSING_LIBS\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003edone\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e -n \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MISSING_LIBS_ALL\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003efor\u003c/span\u003e lib in \u003cspan class=\"k\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$MISSING_LIBS_ALL\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e tr \u003cspan class=\"s1\"\u003e\u0026#39; \u0026#39;\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;\\n\u0026#39;\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e sort -u\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"nv\"\u003ePKG\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003eapt-file search -x \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$lib\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e awk -F: \u003cspan class=\"s1\"\u003e\u0026#39;{print $1}\u0026#39;\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e sort -u \u003cspan class=\"p\"\u003e|\u003c/span\u003e head -n1\u003cspan class=\"k\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"o\"\u003e[\u003c/span\u003e -n \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$PKG\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e apt install -y \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"nv\"\u003e$PKG\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"k\"\u003edone\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;=== å®‰è£…ä¸­æ–‡å­—ä½“ ===\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eapt install -y fonts-wqy-zenhei fonts-wqy-microhei\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;=== é…ç½® LibreOffice è½¬æ¢è„šæœ¬ ===\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecat \u0026gt; /usr/local/bin/convert_to_pdf.sh \u003cspan class=\"s\"\u003e\u0026lt;\u0026lt;\u0026#39;EOF\u0026#39;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eINPUT_FILE=\u0026#34;$1\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eOUTPUT_DIR=\u0026#34;$2\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eif [ -z \u0026#34;$INPUT_FILE\u0026#34; ] || [ -z \u0026#34;$OUTPUT_DIR\u0026#34; ]; then\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  echo \u0026#34;ç”¨æ³•: convert_to_pdf.sh \u0026lt;è¾“å…¥æ–‡ä»¶\u0026gt; \u0026lt;è¾“å‡ºç›®å½•\u0026gt;\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  exit 1\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003efi\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e/opt/libreoffice7.6/program/soffice --headless --convert-to pdf \u0026#34;$INPUT_FILE\u0026#34; --outdir \u0026#34;$OUTPUT_DIR\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003echmod +x /usr/local/bin/convert_to_pdf.sh\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;=== ä¿®æ­£ Tomcat ä¸‹è½½ç›®å½•æƒé™ ===\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emkdir -p /opt/tomcat/webapps/ROOT/download/crfa\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003echown -R tomcat:tomcat /opt/tomcat/webapps/ROOT/download\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003echmod \u003cspan class=\"m\"\u003e755\u003c/span\u003e /opt/tomcat/webapps/ROOT/download\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;=== é…ç½®ä¸­æ–‡æœ¬åœ°åŒ– ===\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esed -i \u003cspan class=\"s1\"\u003e\u0026#39;s/^# *\\(zh_CN.UTF-8 UTF-8\\)/\\1/\u0026#39;\u003c/span\u003e /etc/locale.gen\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003elocale-gen\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eupdate-locale \u003cspan class=\"nv\"\u003eLANG\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003ezh_CN.UTF-8 \u003cspan class=\"nv\"\u003eLANGUAGE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003ezh_CN:zh \u003cspan class=\"nv\"\u003eLC_ALL\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003ezh_CN.UTF-8\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;=== éƒ¨ç½²å®Œæˆ ===\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"Debian 13 éƒ¨ç½² JDK8 + Tomcat + LibreOffice ç¯å¢ƒ"},{"content":"æœ¬æ–‡æä¾›ä¸€ä¸ª MySQL åˆå§‹åŒ–è„šæœ¬ç¤ºä¾‹ï¼Œæ¶µç›–ç”¨æˆ·åˆ›å»ºã€æ•°æ®åº“åˆ›å»ºã€æƒé™åˆ†é…ä»¥åŠé˜²ç«å¢™ç«¯å£é…ç½®ã€‚\nè¯·æ ¹æ®å®é™…ç¯å¢ƒæ›¿æ¢ç”¨æˆ·åã€å¯†ç ã€æ•°æ®åº“åå’Œç«¯å£å·ã€‚\nè„šæœ¬å†…å®¹ ä»¥ä¸‹è„šæœ¬å¯ä¿å­˜ä¸º mysql_init.sh å¹¶æ‰§è¡Œï¼š\n#!/bin/bash # MySQL åˆå§‹åŒ–ç”¨æˆ·ã€æ•°æ®åº“åŠé˜²ç«å¢™é…ç½®ç¤ºä¾‹ # ä½¿ç”¨è€…éœ€æ›¿æ¢ç”¨æˆ·åã€å¯†ç ã€æ•°æ®åº“åç­‰ä¸ºå®é™…ç¯å¢ƒ mysql -u root -p \u0026lt;\u0026lt;\u0026#39;EOF\u0026#39; -- åˆ›å»ºç”¨æˆ·ï¼ˆå¦‚å·²å­˜åœ¨è¯·å…ˆåˆ é™¤ï¼‰ CREATE USER \u0026#39;your_user\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;your_password\u0026#39;; -- æ›´æ–°ç”¨æˆ·å¯†ç  ALTER USER \u0026#39;your_user\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;your_password\u0026#39;; -- åˆ›å»ºæ•°æ®åº“ï¼ˆä½¿ç”¨è€…éœ€æ›¿æ¢ä¸ºå®é™…æ•°æ®åº“åï¼‰ CREATE DATABASE IF NOT EXISTS your_db1 CHARACTER SET utf8mb4 DEFAULT COLLATE utf8mb4_unicode_ci; CREATE DATABASE IF NOT EXISTS your_db2 CHARACTER SET utf8mb4 DEFAULT COLLATE utf8mb4_unicode_ci; -- æˆæƒç”¨æˆ·è®¿é—®æ•°æ®åº“ GRANT ALL PRIVILEGES ON `your_db1`.* TO \u0026#39;your_user\u0026#39;@\u0026#39;%\u0026#39;; GRANT ALL PRIVILEGES ON `your_db2`.* TO \u0026#39;your_user\u0026#39;@\u0026#39;%\u0026#39;; -- åˆ·æ–°æƒé™ FLUSH PRIVILEGES; -- æŸ¥çœ‹ç”¨æˆ·æƒé™ SHOW GRANTS FOR \u0026#39;your_user\u0026#39;@\u0026#39;%\u0026#39;; -- æŸ¥çœ‹æ•°æ®åº“åˆ—è¡¨ SHOW DATABASES LIKE \u0026#39;your_db%\u0026#39;; EOF # é˜²ç«å¢™é…ç½®ï¼ˆä½¿ç”¨è€…éœ€æ›¿æ¢ç«¯å£å·ï¼‰ # æŸ¥çœ‹æ°¸ä¹…å¼€æ”¾çš„ç«¯å£ sudo firewall-cmd --permanent --list-ports # æŸ¥çœ‹å½“å‰å®æ—¶ç”Ÿæ•ˆçš„å¼€æ”¾ç«¯å£ sudo firewall-cmd --zone=public --list-ports # å¼€æ”¾é˜²ç«å¢™ç«¯å£ sudo firewall-cmd --zone=public --add-port=3306/tcp --permanent sudo firewall-cmd --reload # ç§»é™¤é˜²ç«å¢™ç«¯å£ # sudo firewall-cmd --zone=public --remove-port=3306/tcp --permanent # sudo firewall-cmd --reload ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/mysql_init/","summary":"\u003cp\u003eæœ¬æ–‡æä¾›ä¸€ä¸ª MySQL åˆå§‹åŒ–è„šæœ¬ç¤ºä¾‹ï¼Œæ¶µç›–ç”¨æˆ·åˆ›å»ºã€æ•°æ®åº“åˆ›å»ºã€æƒé™åˆ†é…ä»¥åŠé˜²ç«å¢™ç«¯å£é…ç½®ã€‚\u003cbr\u003e\nè¯·æ ¹æ®å®é™…ç¯å¢ƒæ›¿æ¢ç”¨æˆ·åã€å¯†ç ã€æ•°æ®åº“åå’Œç«¯å£å·ã€‚\u003c/p\u003e\n\u003ch2 id=\"è„šæœ¬å†…å®¹\"\u003eè„šæœ¬å†…å®¹\u003c/h2\u003e\n\u003cp\u003eä»¥ä¸‹è„šæœ¬å¯ä¿å­˜ä¸º \u003ccode\u003emysql_init.sh\u003c/code\u003e å¹¶æ‰§è¡Œï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e\u003c/span\u003e\u003cspan class=\"c1\"\u003e# MySQL åˆå§‹åŒ–ç”¨æˆ·ã€æ•°æ®åº“åŠé˜²ç«å¢™é…ç½®ç¤ºä¾‹\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# ä½¿ç”¨è€…éœ€æ›¿æ¢ç”¨æˆ·åã€å¯†ç ã€æ•°æ®åº“åç­‰ä¸ºå®é™…ç¯å¢ƒ\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emysql -u root -p \u003cspan class=\"s\"\u003e\u0026lt;\u0026lt;\u0026#39;EOF\u0026#39;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e-- åˆ›å»ºç”¨æˆ·ï¼ˆå¦‚å·²å­˜åœ¨è¯·å…ˆåˆ é™¤ï¼‰\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eCREATE USER \u0026#39;your_user\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;your_password\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e-- æ›´æ–°ç”¨æˆ·å¯†ç \n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eALTER USER \u0026#39;your_user\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;your_password\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e-- åˆ›å»ºæ•°æ®åº“ï¼ˆä½¿ç”¨è€…éœ€æ›¿æ¢ä¸ºå®é™…æ•°æ®åº“åï¼‰\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eCREATE DATABASE IF NOT EXISTS your_db1 CHARACTER SET utf8mb4 DEFAULT COLLATE utf8mb4_unicode_ci;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eCREATE DATABASE IF NOT EXISTS your_db2 CHARACTER SET utf8mb4 DEFAULT COLLATE utf8mb4_unicode_ci;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e-- æˆæƒç”¨æˆ·è®¿é—®æ•°æ®åº“\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eGRANT ALL PRIVILEGES ON `your_db1`.* TO \u0026#39;your_user\u0026#39;@\u0026#39;%\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eGRANT ALL PRIVILEGES ON `your_db2`.* TO \u0026#39;your_user\u0026#39;@\u0026#39;%\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e-- åˆ·æ–°æƒé™\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eFLUSH PRIVILEGES;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e-- æŸ¥çœ‹ç”¨æˆ·æƒé™\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eSHOW GRANTS FOR \u0026#39;your_user\u0026#39;@\u0026#39;%\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e-- æŸ¥çœ‹æ•°æ®åº“åˆ—è¡¨\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eSHOW DATABASES LIKE \u0026#39;your_db%\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# é˜²ç«å¢™é…ç½®ï¼ˆä½¿ç”¨è€…éœ€æ›¿æ¢ç«¯å£å·ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# æŸ¥çœ‹æ°¸ä¹…å¼€æ”¾çš„ç«¯å£\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo firewall-cmd --permanent --list-ports\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# æŸ¥çœ‹å½“å‰å®æ—¶ç”Ÿæ•ˆçš„å¼€æ”¾ç«¯å£\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo firewall-cmd --zone\u003cspan class=\"o\"\u003e=\u003c/span\u003epublic --list-ports\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# å¼€æ”¾é˜²ç«å¢™ç«¯å£\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo firewall-cmd --zone\u003cspan class=\"o\"\u003e=\u003c/span\u003epublic --add-port\u003cspan class=\"o\"\u003e=\u003c/span\u003e3306/tcp --permanent\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo firewall-cmd --reload\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# ç§»é™¤é˜²ç«å¢™ç«¯å£\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# sudo firewall-cmd --zone=public --remove-port=3306/tcp --permanent\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# sudo firewall-cmd --reload\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"MySQL åˆå§‹åŒ–ç”¨æˆ·ä¸æ•°æ®åº“åŠé˜²ç«å¢™é…ç½®"},{"content":"æœ¬æ–‡æä¾›ä¸€ä¸ªåŸºäº Oracle Data Pump çš„å¯¼å‡ºä¸å¯¼å…¥è„šæœ¬ç¤ºä¾‹ï¼Œé€‚ç”¨äºå¤š Schema æ•°æ®è¿ç§»ã€‚\né€šè¿‡å‚æ•°æ–‡ä»¶æ–¹å¼ç®¡ç†é…ç½®ï¼Œä¾¿äºç»´æŠ¤å’Œå¤ç”¨ã€‚\nè„šæœ¬å†…å®¹ ä»¥ä¸‹è„šæœ¬å¯ä¿å­˜ä¸º datapump_export_import.sh å¹¶æ‰§è¡Œï¼š\n#!/bin/bash # Oracle Data Pump å¯¼å‡ºä¸å¯¼å…¥è„šæœ¬ç¤ºä¾‹ # ä½¿ç”¨è€…éœ€æ›¿æ¢ USERIDã€SCHEMASã€DIRECTORY ç­‰å‚æ•°ä¸ºå®é™…ç¯å¢ƒ ## å¯¼å‡º cat \u0026gt; expdp.par \u0026lt;\u0026lt; \u0026#39;EOF\u0026#39; USERID=\u0026#34;ç”¨æˆ·å/å¯†ç @è¿æ¥ä¸²\u0026#34; SCHEMAS=SCHEMA1, SCHEMA2, SCHEMA3 DIRECTORY=DATA_PUMP_DIR -- ä½¿ç”¨è€…éœ€æ›¿æ¢ä¸ºå®é™…çš„ Oracle DIRECTORY å¯¹è±¡ DUMPFILE=exp_schemas_%U.dmp LOGFILE=exp_schemas.log PARALLEL=4 COMPRESSION=ALL EXCLUDE=STATISTICS REUSE_DUMPFILES=YES EOF expdp parfile=expdp.par rm -rf expdp.par echo \u0026#39;export done\u0026#39; ## å¯¼å…¥ cat \u0026gt; impdp.par \u0026lt;\u0026lt; \u0026#39;EOF\u0026#39; USERID=\u0026#34;ç”¨æˆ·å/å¯†ç @è¿æ¥ä¸²\u0026#34; SCHEMAS=SCHEMA1, SCHEMA2, SCHEMA3 DIRECTORY=DATA_PUMP_DIR -- ä½¿ç”¨è€…éœ€æ›¿æ¢ä¸ºå®é™…çš„ Oracle DIRECTORY å¯¹è±¡ DUMPFILE=exp_schemas_%U.dmp LOGFILE=imp_schemas.log PARALLEL=4 TABLE_EXISTS_ACTION=REPLACE EXCLUDE=STATISTICS EOF impdp parfile=impdp.par rm -rf impdp.par echo \u0026#39;import done\u0026#39; ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/datapump_export_import/","summary":"\u003cp\u003eæœ¬æ–‡æä¾›ä¸€ä¸ªåŸºäº \u003cstrong\u003eOracle Data Pump\u003c/strong\u003e çš„å¯¼å‡ºä¸å¯¼å…¥è„šæœ¬ç¤ºä¾‹ï¼Œé€‚ç”¨äºå¤š Schema æ•°æ®è¿ç§»ã€‚\u003cbr\u003e\né€šè¿‡å‚æ•°æ–‡ä»¶æ–¹å¼ç®¡ç†é…ç½®ï¼Œä¾¿äºç»´æŠ¤å’Œå¤ç”¨ã€‚\u003c/p\u003e\n\u003ch2 id=\"è„šæœ¬å†…å®¹\"\u003eè„šæœ¬å†…å®¹\u003c/h2\u003e\n\u003cp\u003eä»¥ä¸‹è„šæœ¬å¯ä¿å­˜ä¸º \u003ccode\u003edatapump_export_import.sh\u003c/code\u003e å¹¶æ‰§è¡Œï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e\u003c/span\u003e\u003cspan class=\"c1\"\u003e# Oracle Data Pump å¯¼å‡ºä¸å¯¼å…¥è„šæœ¬ç¤ºä¾‹\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# ä½¿ç”¨è€…éœ€æ›¿æ¢ USERIDã€SCHEMASã€DIRECTORY ç­‰å‚æ•°ä¸ºå®é™…ç¯å¢ƒ\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e## å¯¼å‡º\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecat \u0026gt; expdp.par \u003cspan class=\"s\"\u003e\u0026lt;\u0026lt; \u0026#39;EOF\u0026#39;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eUSERID=\u0026#34;ç”¨æˆ·å/å¯†ç @è¿æ¥ä¸²\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eSCHEMAS=SCHEMA1, SCHEMA2, SCHEMA3\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eDIRECTORY=DATA_PUMP_DIR   -- ä½¿ç”¨è€…éœ€æ›¿æ¢ä¸ºå®é™…çš„ Oracle DIRECTORY å¯¹è±¡\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eDUMPFILE=exp_schemas_%U.dmp\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eLOGFILE=exp_schemas.log\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003ePARALLEL=4\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eCOMPRESSION=ALL\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEXCLUDE=STATISTICS\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eREUSE_DUMPFILES=YES\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eexpdp \u003cspan class=\"nv\"\u003eparfile\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eexpdp.par\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003erm -rf expdp.par\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;export done\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e## å¯¼å…¥\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecat \u0026gt; impdp.par \u003cspan class=\"s\"\u003e\u0026lt;\u0026lt; \u0026#39;EOF\u0026#39;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eUSERID=\u0026#34;ç”¨æˆ·å/å¯†ç @è¿æ¥ä¸²\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eSCHEMAS=SCHEMA1, SCHEMA2, SCHEMA3\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eDIRECTORY=DATA_PUMP_DIR   -- ä½¿ç”¨è€…éœ€æ›¿æ¢ä¸ºå®é™…çš„ Oracle DIRECTORY å¯¹è±¡\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eDUMPFILE=exp_schemas_%U.dmp\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eLOGFILE=imp_schemas.log\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003ePARALLEL=4\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eTABLE_EXISTS_ACTION=REPLACE\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEXCLUDE=STATISTICS\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eimpdp \u003cspan class=\"nv\"\u003eparfile\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eimpdp.par\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003erm -rf impdp.par\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s1\"\u003e\u0026#39;import done\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"Oracle Data Pump å¯¼å‡ºä¸å¯¼å…¥è„šæœ¬ç¤ºä¾‹"},{"content":"æœ¬æ–‡è®°å½•äº†åœ¨ CentOS 7 ä¸Šå®‰è£… MySQL 5.7 çš„å®Œæ•´æ­¥éª¤ï¼Œå¹¶æä¾›äº†å¯ç›´æ¥è¿è¡Œçš„è„šæœ¬ã€‚\nè¯·æ ¹æ®å®é™…ç¯å¢ƒæ›¿æ¢æ–‡ä¸­æ ‡æ³¨çš„è·¯å¾„æˆ–å‚æ•°ã€‚\nå®‰è£…è„šæœ¬ ä»¥ä¸‹è„šæœ¬å¯ä¿å­˜ä¸º install_mysql57.sh å¹¶æ‰§è¡Œï¼š\n#!/bin/bash # åœ¨ CentOS 7 ä¸Šå®‰è£… MySQL 5.7 # 1. ä¸‹è½½ RPM ä»“åº“é…ç½® # ä½¿ç”¨è€…å¯æ ¹æ®éœ€è¦æ›¿æ¢æœ¬åœ°ä¿å­˜è·¯å¾„ sudo curl -f -s -S -L -o /tmp/mysql57-community-release-el7-11.noarch.rpm \\ https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm # 2. å®‰è£… RPM ä»“åº“ sudo yum localinstall /tmp/mysql57-community-release-el7-11.noarch.rpm -y # 3. å®‰è£… MySQL å®˜æ–¹å…¬é’¥ sudo rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022 # 4. æ£€æŸ¥ä»“åº“æ˜¯å¦å¯ç”¨ sudo yum repolist all | grep mysql # 5. å®‰è£… MySQL æœåŠ¡å™¨ sudo yum install mysql-community-server -y # 6. å¯åŠ¨æœåŠ¡ sudo systemctl start mysqld # 7. è®¾ç½®å¼€æœºè‡ªå¯ sudo systemctl enable mysqld # 8. è·å–ä¸´æ—¶å¯†ç  # ä½¿ç”¨è€…éœ€ç¡®è®¤æ—¥å¿—è·¯å¾„æ˜¯å¦ä¸€è‡´ sudo grep \u0026#39;temporary password\u0026#39; /var/log/mysqld.log # 9. æ‰§è¡Œå®‰å…¨é…ç½® sudo mysql_secure_installation ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/install_mysql57/","summary":"\u003cp\u003eæœ¬æ–‡è®°å½•äº†åœ¨ \u003cstrong\u003eCentOS 7\u003c/strong\u003e ä¸Šå®‰è£… \u003cstrong\u003eMySQL 5.7\u003c/strong\u003e çš„å®Œæ•´æ­¥éª¤ï¼Œå¹¶æä¾›äº†å¯ç›´æ¥è¿è¡Œçš„è„šæœ¬ã€‚\u003cbr\u003e\nè¯·æ ¹æ®å®é™…ç¯å¢ƒæ›¿æ¢æ–‡ä¸­æ ‡æ³¨çš„è·¯å¾„æˆ–å‚æ•°ã€‚\u003c/p\u003e\n\u003ch2 id=\"å®‰è£…è„šæœ¬\"\u003eå®‰è£…è„šæœ¬\u003c/h2\u003e\n\u003cp\u003eä»¥ä¸‹è„šæœ¬å¯ä¿å­˜ä¸º \u003ccode\u003einstall_mysql57.sh\u003c/code\u003e å¹¶æ‰§è¡Œï¼š\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e\u003c/span\u003e\u003cspan class=\"c1\"\u003e# åœ¨ CentOS 7 ä¸Šå®‰è£… MySQL 5.7\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 1. ä¸‹è½½ RPM ä»“åº“é…ç½®\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# ä½¿ç”¨è€…å¯æ ¹æ®éœ€è¦æ›¿æ¢æœ¬åœ°ä¿å­˜è·¯å¾„\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo curl -f -s -S -L -o /tmp/mysql57-community-release-el7-11.noarch.rpm \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 2. å®‰è£… RPM ä»“åº“\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo yum localinstall /tmp/mysql57-community-release-el7-11.noarch.rpm -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 3. å®‰è£… MySQL å®˜æ–¹å…¬é’¥\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 4. æ£€æŸ¥ä»“åº“æ˜¯å¦å¯ç”¨\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo yum repolist all \u003cspan class=\"p\"\u003e|\u003c/span\u003e grep mysql\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 5. å®‰è£… MySQL æœåŠ¡å™¨\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo yum install mysql-community-server -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 6. å¯åŠ¨æœåŠ¡\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo systemctl start mysqld\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 7. è®¾ç½®å¼€æœºè‡ªå¯\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo systemctl \u003cspan class=\"nb\"\u003eenable\u003c/span\u003e mysqld\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 8. è·å–ä¸´æ—¶å¯†ç \u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# ä½¿ç”¨è€…éœ€ç¡®è®¤æ—¥å¿—è·¯å¾„æ˜¯å¦ä¸€è‡´\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo grep \u003cspan class=\"s1\"\u003e\u0026#39;temporary password\u0026#39;\u003c/span\u003e /var/log/mysqld.log\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# 9. æ‰§è¡Œå®‰å…¨é…ç½®\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo mysql_secure_installation\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"åœ¨ CentOS 7 ä¸Šå®‰è£… MySQL 5.7"},{"content":" æœ¬è„šæœ¬é€‚ç”¨äº CentOS 7 ç¯å¢ƒï¼Œè‡ªåŠ¨å®Œæˆ Docker å®‰è£…åŠé•œåƒåŠ é€Ÿé…ç½®ã€‚\nğŸ“¦ å®‰è£…è„šæœ¬å†…å®¹ #!/bin/bash # CentOS 7 ä¸€é”®å®‰è£… Docker å¹¶é…ç½®é•œåƒåŠ é€Ÿ set -e # é¢œè‰²å®šä¹‰ YELLOW=\u0026#39;\\033[1;33m\u0026#39; GREEN=\u0026#39;\\033[0;32m\u0026#39; NC=\u0026#39;\\033[0m\u0026#39; # é•œåƒåŠ é€Ÿåœ°å€ï¼ˆè¯·æ›¿æ¢ä¸ºä½ çš„ä¸“å±åŠ é€Ÿå™¨ï¼‰ DOCKER_MIRROR=\u0026#34;https://your.mirror.address/\u0026#34; echo -e \u0026#34;${YELLOW}[1/4] æ›´æ–°ç³»ç»ŸåŒ…...${NC}\u0026#34; yum clean all yum makecache fast yum update -y echo -e \u0026#34;${YELLOW}[2/4] å®‰è£… Docker CEï¼ˆå®˜æ–¹æºï¼‰...${NC}\u0026#34; # å®‰è£…å¿…è¦å·¥å…· yum install -y yum-utils device-mapper-persistent-data lvm2 # æ·»åŠ  Docker å®˜æ–¹æºï¼ˆè¯·æ ¹æ®å®é™…æƒ…å†µæ›¿æ¢ï¼‰ yum-config-manager --add-repo https://your.repo.address/docker-ce.repo # å®‰è£…æœ€æ–°ç‰ˆ Docker CE yum makecache fast yum install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin echo -e \u0026#34;${YELLOW}[3/4] é…ç½® Docker é•œåƒåŠ é€Ÿ...${NC}\u0026#34; mkdir -p /etc/docker cat \u0026gt; /etc/docker/daemon.json \u0026lt;\u0026lt; EOF { \u0026#34;registry-mirrors\u0026#34;: [ \u0026#34;${DOCKER_MIRROR}\u0026#34; ], \u0026#34;log-driver\u0026#34;: \u0026#34;json-file\u0026#34;, \u0026#34;log-opts\u0026#34;: { \u0026#34;max-size\u0026#34;: \u0026#34;10m\u0026#34;, \u0026#34;max-file\u0026#34;: \u0026#34;3\u0026#34; } } EOF echo -e \u0026#34;${YELLOW}[4/4] å¯åŠ¨ Docker æœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯...${NC}\u0026#34; systemctl daemon-reload systemctl enable docker systemctl start docker echo -e \u0026#34;${GREEN}Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®å®Œæˆï¼${NC}\u0026#34; echo -e \u0026#34;${GREEN}Docker ç‰ˆæœ¬ï¼š$(docker --version)${NC}\u0026#34; ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/docs/install-docker-centos7-chain/","summary":"\u003cblockquote\u003e\n\u003cp\u003eæœ¬è„šæœ¬é€‚ç”¨äº CentOS 7 ç¯å¢ƒï¼Œè‡ªåŠ¨å®Œæˆ Docker å®‰è£…åŠé•œåƒåŠ é€Ÿé…ç½®ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"-å®‰è£…è„šæœ¬å†…å®¹\"\u003eğŸ“¦ å®‰è£…è„šæœ¬å†…å®¹\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e\u003c/span\u003e\u003cspan class=\"c1\"\u003e# CentOS 7 ä¸€é”®å®‰è£… Docker å¹¶é…ç½®é•œåƒåŠ é€Ÿ\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eset\u003c/span\u003e -e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# é¢œè‰²å®šä¹‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\\033[1;33m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\\033[0;32m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\\033[0m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# é•œåƒåŠ é€Ÿåœ°å€ï¼ˆè¯·æ›¿æ¢ä¸ºä½ çš„ä¸“å±åŠ é€Ÿå™¨ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eDOCKER_MIRROR\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;https://your.mirror.address/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[1/4] æ›´æ–°ç³»ç»ŸåŒ…...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eyum clean all\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eyum makecache fast\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eyum update -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[2/4] å®‰è£… Docker CEï¼ˆå®˜æ–¹æºï¼‰...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# å®‰è£…å¿…è¦å·¥å…·\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eyum install -y yum-utils device-mapper-persistent-data lvm2\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# æ·»åŠ  Docker å®˜æ–¹æºï¼ˆè¯·æ ¹æ®å®é™…æƒ…å†µæ›¿æ¢ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eyum-config-manager --add-repo https://your.repo.address/docker-ce.repo\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# å®‰è£…æœ€æ–°ç‰ˆ Docker CE\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eyum makecache fast\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eyum install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[3/4] é…ç½® Docker é•œåƒåŠ é€Ÿ...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emkdir -p /etc/docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecat \u0026gt; /etc/docker/daemon.json \u003cspan class=\"s\"\u003e\u0026lt;\u0026lt; EOF\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  \u0026#34;registry-mirrors\u0026#34;: [\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e     \u0026#34;${DOCKER_MIRROR}\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  ],\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  \u0026#34;log-driver\u0026#34;: \u0026#34;json-file\u0026#34;,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  \u0026#34;log-opts\u0026#34;: {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    \u0026#34;max-size\u0026#34;: \u0026#34;10m\u0026#34;,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    \u0026#34;max-file\u0026#34;: \u0026#34;3\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[4/4] å¯åŠ¨ Docker æœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esystemctl daemon-reload\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esystemctl \u003cspan class=\"nb\"\u003eenable\u003c/span\u003e docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esystemctl start docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eDocker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®å®Œæˆï¼\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eDocker ç‰ˆæœ¬ï¼š\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003edocker --version\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"CentOS 7 ä¸€é”®å®‰è£… Docker å¹¶é…ç½®é•œåƒåŠ é€Ÿ"},{"content":" æœ¬è„šæœ¬é€‚ç”¨äº Debian 12 ç¯å¢ƒï¼Œè‡ªåŠ¨å®Œæˆ MySQL 5.7 çš„ Docker éƒ¨ç½²ä¸åŸºç¡€é…ç½®ã€‚\nğŸ“¦ éƒ¨ç½²è„šæœ¬å†…å®¹ #!/bin/bash # MySQL 5.7 Docker éƒ¨ç½²è„šæœ¬ # é€‚ç”¨äº Debian 12 set -e # é¢œè‰²å®šä¹‰ YELLOW=\u0026#39;\\033[1;33m\u0026#39; GREEN=\u0026#39;\\033[0;32m\u0026#39; RED=\u0026#39;\\033[0;31m\u0026#39; NC=\u0026#39;\\033[0m\u0026#39; # é…ç½®å˜é‡ï¼ˆè¯·æ ¹æ®éœ€è¦ä¿®æ”¹ï¼‰ MYSQL_ROOT_PASSWORD=\u0026#34;\u0026lt;YOUR_ROOT_PASSWORD\u0026gt;\u0026#34; MYSQL_DATA_DIR=\u0026#34;\u0026lt;YOUR_DATA_DIR\u0026gt;\u0026#34; MYSQL_CONTAINER_NAME=\u0026#34;mysql5\u0026#34; MYSQL_PORT=\u0026#34;3305\u0026#34; echo -e \u0026#34;${YELLOW}[1/4] æ‹‰å– MySQL 5.7 é•œåƒ...${NC}\u0026#34; docker pull mysql:5.7 echo -e \u0026#34;${YELLOW}[2/4] åˆ›å»ºæ•°æ®ä¸é…ç½®ç›®å½•...${NC}\u0026#34; mkdir -p ${MYSQL_DATA_DIR} mkdir -p /etc/mysql5-docker cat \u0026gt; /etc/mysql5-docker/my.cnf \u0026lt;\u0026lt; \u0026#39;MYSQL_EOF\u0026#39; [mysqld] innodb_buffer_pool_size = 256M innodb_log_file_size = 128M max_connections = 50 key_buffer_size = 16M thread_cache_size = 8 character-set-server = utf8mb4 collation-server = utf8mb4_unicode_ci skip-name-resolve lower_case_table_names = 1 MYSQL_EOF echo -e \u0026#34;${YELLOW}[3/4] åœæ­¢å¹¶åˆ é™¤æ—§å®¹å™¨ï¼ˆå¦‚æœ‰ï¼‰...${NC}\u0026#34; docker stop ${MYSQL_CONTAINER_NAME} 2\u0026gt;/dev/null || true docker rm ${MYSQL_CONTAINER_NAME} 2\u0026gt;/dev/null || true rm -rf ${MYSQL_DATA_DIR}/* echo -e \u0026#34;${YELLOW}[4/4] è¿è¡Œ MySQL å®¹å™¨...${NC}\u0026#34; docker run -d \\ --name ${MYSQL_CONTAINER_NAME} \\ --restart always \\ -p ${MYSQL_PORT}:3306 \\ -v ${MYSQL_DATA_DIR}:/var/lib/mysql \\ -v /etc/mysql5-docker/my.cnf:/etc/mysql/conf.d/my.cnf \\ -e MYSQL_ROOT_PASSWORD=\u0026#34;${MYSQL_ROOT_PASSWORD}\u0026#34; \\ mysql:5.7 echo -e \u0026#34;${YELLOW}ç­‰å¾… MySQL å¯åŠ¨...${NC}\u0026#34; sleep 15 if docker ps | grep -q ${MYSQL_CONTAINER_NAME}; then echo -e \u0026#34;${GREEN}MySQL 5.7 éƒ¨ç½²æˆåŠŸï¼${NC}\u0026#34; echo -e \u0026#34;${GREEN}å®¹å™¨åç§°: ${MYSQL_CONTAINER_NAME}${NC}\u0026#34; echo -e \u0026#34;${GREEN}ç«¯å£: ${MYSQL_PORT}${NC}\u0026#34; echo -e \u0026#34;${GREEN}æ•°æ®ç›®å½•: ${MYSQL_DATA_DIR}${NC}\u0026#34; echo -e \u0026#34;${GREEN}é…ç½®æ–‡ä»¶: /etc/mysql5-docker/my.cnf${NC}\u0026#34; echo -e \u0026#34;${GREEN}Root å¯†ç : ${MYSQL_ROOT_PASSWORD}${NC}\u0026#34; # åˆ›å»ºç®¡ç†è„šæœ¬ cat \u0026gt; /usr/local/bin/mysql5-docker \u0026lt;\u0026lt; \u0026#39;SCRIPT_EOF\u0026#39; #!/bin/bash case \u0026#34;$1\u0026#34; in start) docker start mysql5 ;; stop) docker stop mysql5 ;; restart) docker restart mysql5 ;; status) docker ps -a | grep mysql5 ;; logs) docker logs -f mysql5 ;; shell) docker exec -it mysql5 bash ;; mysql) docker exec -it mysql5 mysql -u root -p ;; *) echo \u0026#34;ç”¨æ³•: $0 {start|stop|restart|status|logs|shell|mysql}\u0026#34;; exit 1 ;; esac SCRIPT_EOF chmod +x /usr/local/bin/mysql5-docker echo -e \u0026#34;${GREEN}ç®¡ç†å‘½ä»¤å·²åˆ›å»º: mysql5-docker {start|stop|restart|status|logs|shell|mysql}${NC}\u0026#34; # åˆ›å»ºè¿œç¨‹ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰ echo -e \u0026#34;${YELLOW}åˆ›å»ºè¿œç¨‹ç”¨æˆ· admin...ï¼ˆå¯é€‰ï¼‰${NC}\u0026#34; docker exec -i ${MYSQL_CONTAINER_NAME} mysql -u root -p\u0026#34;${MYSQL_ROOT_PASSWORD}\u0026#34; \u0026lt;\u0026lt;SQL CREATE USER IF NOT EXISTS \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;\u0026lt;YOUR_ADMIN_PASSWORD\u0026gt;\u0026#39;; GRANT ALL PRIVILEGES ON *.* TO \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39; WITH GRANT OPTION; FLUSH PRIVILEGES; SQL echo -e \u0026#34;${GREEN}è¿œç¨‹ç”¨æˆ· admin åˆ›å»ºå®Œæˆï¼${NC}\u0026#34; else echo -e \u0026#34;${RED}MySQL éƒ¨ç½²å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ—¥å¿—ï¼š${NC}\u0026#34; docker logs ${MYSQL_CONTAINER_NAME} exit 1 fi ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/docs/docker-mysql5-deploy/","summary":"\u003cblockquote\u003e\n\u003cp\u003eæœ¬è„šæœ¬é€‚ç”¨äº Debian 12 ç¯å¢ƒï¼Œè‡ªåŠ¨å®Œæˆ MySQL 5.7 çš„ Docker éƒ¨ç½²ä¸åŸºç¡€é…ç½®ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"-éƒ¨ç½²è„šæœ¬å†…å®¹\"\u003eğŸ“¦ éƒ¨ç½²è„šæœ¬å†…å®¹\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e\u003c/span\u003e\u003cspan class=\"c1\"\u003e# MySQL 5.7 Docker éƒ¨ç½²è„šæœ¬\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# é€‚ç”¨äº Debian 12\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eset\u003c/span\u003e -e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# é¢œè‰²å®šä¹‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\\033[1;33m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\\033[0;32m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eRED\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\\033[0;31m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\\033[0m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# é…ç½®å˜é‡ï¼ˆè¯·æ ¹æ®éœ€è¦ä¿®æ”¹ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eMYSQL_ROOT_PASSWORD\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u0026lt;YOUR_ROOT_PASSWORD\u0026gt;\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eMYSQL_DATA_DIR\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u0026lt;YOUR_DATA_DIR\u0026gt;\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eMYSQL_CONTAINER_NAME\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;mysql5\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eMYSQL_PORT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;3305\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[1/4] æ‹‰å– MySQL 5.7 é•œåƒ...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edocker pull mysql:5.7\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[2/4] åˆ›å»ºæ•°æ®ä¸é…ç½®ç›®å½•...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emkdir -p \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_DATA_DIR\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emkdir -p /etc/mysql5-docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecat \u0026gt; /etc/mysql5-docker/my.cnf \u003cspan class=\"s\"\u003e\u0026lt;\u0026lt; \u0026#39;MYSQL_EOF\u0026#39;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e[mysqld]\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003einnodb_buffer_pool_size = 256M\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003einnodb_log_file_size = 128M\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003emax_connections = 50\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003ekey_buffer_size = 16M\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003ethread_cache_size = 8\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003echaracter-set-server = utf8mb4\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003ecollation-server = utf8mb4_unicode_ci\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eskip-name-resolve\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003elower_case_table_names = 1\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eMYSQL_EOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[3/4] åœæ­¢å¹¶åˆ é™¤æ—§å®¹å™¨ï¼ˆå¦‚æœ‰ï¼‰...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edocker stop \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_CONTAINER_NAME\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e 2\u0026gt;/dev/null \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nb\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edocker rm \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_CONTAINER_NAME\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e 2\u0026gt;/dev/null \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nb\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003erm -rf \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_DATA_DIR\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e/*\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[4/4] è¿è¡Œ MySQL å®¹å™¨...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edocker run -d \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  --name \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_CONTAINER_NAME\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  --restart always \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -p \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_PORT\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e:3306 \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_DATA_DIR\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e:/var/lib/mysql \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v /etc/mysql5-docker/my.cnf:/etc/mysql/conf.d/my.cnf \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -e \u003cspan class=\"nv\"\u003eMYSQL_ROOT_PASSWORD\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_ROOT_PASSWORD\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  mysql:5.7\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eç­‰å¾… MySQL å¯åŠ¨...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esleep \u003cspan class=\"m\"\u003e15\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e docker ps \u003cspan class=\"p\"\u003e|\u003c/span\u003e grep -q \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_CONTAINER_NAME\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eMySQL 5.7 éƒ¨ç½²æˆåŠŸï¼\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eå®¹å™¨åç§°: \u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_CONTAINER_NAME\u003c/span\u003e\u003cspan class=\"si\"\u003e}${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eç«¯å£: \u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_PORT\u003c/span\u003e\u003cspan class=\"si\"\u003e}${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eæ•°æ®ç›®å½•: \u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_DATA_DIR\u003c/span\u003e\u003cspan class=\"si\"\u003e}${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eé…ç½®æ–‡ä»¶: /etc/mysql5-docker/my.cnf\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eRoot å¯†ç : \u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_ROOT_PASSWORD\u003c/span\u003e\u003cspan class=\"si\"\u003e}${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"c1\"\u003e# åˆ›å»ºç®¡ç†è„šæœ¬\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    cat \u0026gt; /usr/local/bin/mysql5-docker \u003cspan class=\"s\"\u003e\u0026lt;\u0026lt; \u0026#39;SCRIPT_EOF\u0026#39;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003ecase \u0026#34;$1\u0026#34; in\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    start) docker start mysql5 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    stop) docker stop mysql5 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    restart) docker restart mysql5 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    status) docker ps -a | grep mysql5 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    logs) docker logs -f mysql5 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    shell) docker exec -it mysql5 bash ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    mysql) docker exec -it mysql5 mysql -u root -p ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    *) echo \u0026#34;ç”¨æ³•: $0 {start|stop|restart|status|logs|shell|mysql}\u0026#34;; exit 1 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eesac\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eSCRIPT_EOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    chmod +x /usr/local/bin/mysql5-docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eç®¡ç†å‘½ä»¤å·²åˆ›å»º: mysql5-docker {start|stop|restart|status|logs|shell|mysql}\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"c1\"\u003e# åˆ›å»ºè¿œç¨‹ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eåˆ›å»ºè¿œç¨‹ç”¨æˆ· admin...ï¼ˆå¯é€‰ï¼‰\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    docker \u003cspan class=\"nb\"\u003eexec\u003c/span\u003e -i \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_CONTAINER_NAME\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e mysql -u root -p\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_ROOT_PASSWORD\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026lt;\u0026lt;SQL\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eCREATE USER IF NOT EXISTS \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;\u0026lt;YOUR_ADMIN_PASSWORD\u0026gt;\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eGRANT ALL PRIVILEGES ON *.* TO \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39; WITH GRANT OPTION;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eFLUSH PRIVILEGES;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eSQL\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eè¿œç¨‹ç”¨æˆ· admin åˆ›å»ºå®Œæˆï¼\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eRED\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eMySQL éƒ¨ç½²å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ—¥å¿—ï¼š\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    docker logs \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_CONTAINER_NAME\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eexit\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"Debian 12 ä½¿ç”¨ Docker éƒ¨ç½² MySQL 5.7"},{"content":" æœ¬è„šæœ¬é€‚ç”¨äº Debian 12 ç¯å¢ƒï¼Œè‡ªåŠ¨å®Œæˆ MySQL 8 çš„ Docker éƒ¨ç½²ä¸åŸºç¡€é…ç½®ã€‚\nğŸ“¦ éƒ¨ç½²è„šæœ¬å†…å®¹ #!/bin/bash # MySQL 8 Docker éƒ¨ç½²è„šæœ¬ # é€‚ç”¨äº Debian 12 set -e # é¢œè‰²å®šä¹‰ YELLOW=\u0026#39;\\033[1;33m\u0026#39; GREEN=\u0026#39;\\033[0;32m\u0026#39; RED=\u0026#39;\\033[0;31m\u0026#39; NC=\u0026#39;\\033[0m\u0026#39; # é…ç½®å˜é‡ï¼ˆè¯·æ ¹æ®éœ€è¦ä¿®æ”¹ï¼‰ MYSQL_ROOT_PASSWORD=\u0026#34;\u0026lt;YOUR_ROOT_PASSWORD\u0026gt;\u0026#34; MYSQL_DATA_DIR=\u0026#34;\u0026lt;YOUR_DATA_DIR\u0026gt;\u0026#34; MYSQL_CONTAINER_NAME=\u0026#34;mysql8\u0026#34; MYSQL_PORT=\u0026#34;3306\u0026#34; echo -e \u0026#34;${YELLOW}[1/4] æ‹‰å– MySQL 8 é•œåƒ...${NC}\u0026#34; docker pull mysql:8 echo -e \u0026#34;${YELLOW}[2/4] åˆ›å»ºæ•°æ®ä¸é…ç½®ç›®å½•...${NC}\u0026#34; mkdir -p ${MYSQL_DATA_DIR} mkdir -p /etc/mysql-docker cat \u0026gt; /etc/mysql-docker/my.cnf \u0026lt;\u0026lt; \u0026#39;MYSQL_EOF\u0026#39; [mysqld] innodb_buffer_pool_size = 256M innodb_redo_log_capacity = 134217728 max_connections = 50 key_buffer_size = 16M thread_cache_size = 8 character-set-server = utf8mb4 collation-server = utf8mb4_unicode_ci skip-name-resolve lower_case_table_names = 1 MYSQL_EOF echo -e \u0026#34;${YELLOW}[3/4] åœæ­¢å¹¶åˆ é™¤æ—§å®¹å™¨ï¼ˆå¦‚æœ‰ï¼‰...${NC}\u0026#34; docker stop ${MYSQL_CONTAINER_NAME} 2\u0026gt;/dev/null || true docker rm ${MYSQL_CONTAINER_NAME} 2\u0026gt;/dev/null || true rm -rf ${MYSQL_DATA_DIR}/* echo -e \u0026#34;${YELLOW}[4/4] è¿è¡Œ MySQL å®¹å™¨...${NC}\u0026#34; docker run -d \\ --name ${MYSQL_CONTAINER_NAME} \\ --restart always \\ -p ${MYSQL_PORT}:3306 \\ -v ${MYSQL_DATA_DIR}:/var/lib/mysql \\ -v /etc/mysql-docker/my.cnf:/etc/mysql/conf.d/my.cnf \\ -e MYSQL_ROOT_PASSWORD=\u0026#34;${MYSQL_ROOT_PASSWORD}\u0026#34; \\ mysql:8 echo -e \u0026#34;${YELLOW}ç­‰å¾… MySQL å¯åŠ¨...${NC}\u0026#34; sleep 15 if docker ps | grep -q ${MYSQL_CONTAINER_NAME}; then echo -e \u0026#34;${GREEN}MySQL 8 éƒ¨ç½²æˆåŠŸï¼${NC}\u0026#34; echo -e \u0026#34;${GREEN}å®¹å™¨åç§°: ${MYSQL_CONTAINER_NAME}${NC}\u0026#34; echo -e \u0026#34;${GREEN}ç«¯å£: ${MYSQL_PORT}${NC}\u0026#34; echo -e \u0026#34;${GREEN}æ•°æ®ç›®å½•: ${MYSQL_DATA_DIR}${NC}\u0026#34; echo -e \u0026#34;${GREEN}é…ç½®æ–‡ä»¶: /etc/mysql-docker/my.cnf${NC}\u0026#34; echo -e \u0026#34;${GREEN}Root å¯†ç : ${MYSQL_ROOT_PASSWORD}${NC}\u0026#34; # åˆ›å»ºç®¡ç†è„šæœ¬ cat \u0026gt; /usr/local/bin/mysql-docker \u0026lt;\u0026lt; \u0026#39;SCRIPT_EOF\u0026#39; #!/bin/bash case \u0026#34;$1\u0026#34; in start) docker start mysql8 ;; stop) docker stop mysql8 ;; restart) docker restart mysql8 ;; status) docker ps -a | grep mysql8 ;; logs) docker logs -f mysql8 ;; shell) docker exec -it mysql8 bash ;; mysql) docker exec -it mysql8 mysql -u root -p ;; *) echo \u0026#34;ç”¨æ³•: $0 {start|stop|restart|status|logs|shell|mysql}\u0026#34;; exit 1 ;; esac SCRIPT_EOF chmod +x /usr/local/bin/mysql-docker echo -e \u0026#34;${GREEN}ç®¡ç†å‘½ä»¤å·²åˆ›å»º: mysql-docker {start|stop|restart|status|logs|shell|mysql}${NC}\u0026#34; # åˆ›å»ºè¿œç¨‹ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰ echo -e \u0026#34;${YELLOW}åˆ›å»ºè¿œç¨‹ç”¨æˆ· admin...ï¼ˆå¯é€‰ï¼‰${NC}\u0026#34; docker exec -i ${MYSQL_CONTAINER_NAME} mysql -u root -p\u0026#34;${MYSQL_ROOT_PASSWORD}\u0026#34; \u0026lt;\u0026lt;SQL CREATE USER IF NOT EXISTS \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;\u0026lt;YOUR_ADMIN_PASSWORD\u0026gt;\u0026#39;; GRANT ALL PRIVILEGES ON *.* TO \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39; WITH GRANT OPTION; FLUSH PRIVILEGES; SQL echo -e \u0026#34;${GREEN}è¿œç¨‹ç”¨æˆ· admin åˆ›å»ºå®Œæˆï¼${NC}\u0026#34; else echo -e \u0026#34;${RED}MySQL éƒ¨ç½²å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ—¥å¿—ï¼š${NC}\u0026#34; docker logs ${MYSQL_CONTAINER_NAME} exit 1 fi ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/docs/docker-mysql8-deploy/","summary":"\u003cblockquote\u003e\n\u003cp\u003eæœ¬è„šæœ¬é€‚ç”¨äº Debian 12 ç¯å¢ƒï¼Œè‡ªåŠ¨å®Œæˆ MySQL 8 çš„ Docker éƒ¨ç½²ä¸åŸºç¡€é…ç½®ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"-éƒ¨ç½²è„šæœ¬å†…å®¹\"\u003eğŸ“¦ éƒ¨ç½²è„šæœ¬å†…å®¹\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e\u003c/span\u003e\u003cspan class=\"c1\"\u003e# MySQL 8 Docker éƒ¨ç½²è„šæœ¬\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# é€‚ç”¨äº Debian 12\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eset\u003c/span\u003e -e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# é¢œè‰²å®šä¹‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\\033[1;33m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\\033[0;32m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eRED\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\\033[0;31m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\\033[0m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# é…ç½®å˜é‡ï¼ˆè¯·æ ¹æ®éœ€è¦ä¿®æ”¹ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eMYSQL_ROOT_PASSWORD\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u0026lt;YOUR_ROOT_PASSWORD\u0026gt;\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eMYSQL_DATA_DIR\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u0026lt;YOUR_DATA_DIR\u0026gt;\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eMYSQL_CONTAINER_NAME\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;mysql8\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eMYSQL_PORT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;3306\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[1/4] æ‹‰å– MySQL 8 é•œåƒ...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edocker pull mysql:8\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[2/4] åˆ›å»ºæ•°æ®ä¸é…ç½®ç›®å½•...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emkdir -p \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_DATA_DIR\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emkdir -p /etc/mysql-docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecat \u0026gt; /etc/mysql-docker/my.cnf \u003cspan class=\"s\"\u003e\u0026lt;\u0026lt; \u0026#39;MYSQL_EOF\u0026#39;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e[mysqld]\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003einnodb_buffer_pool_size = 256M\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003einnodb_redo_log_capacity = 134217728\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003emax_connections = 50\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003ekey_buffer_size = 16M\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003ethread_cache_size = 8\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003echaracter-set-server = utf8mb4\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003ecollation-server = utf8mb4_unicode_ci\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eskip-name-resolve\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003elower_case_table_names = 1\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eMYSQL_EOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[3/4] åœæ­¢å¹¶åˆ é™¤æ—§å®¹å™¨ï¼ˆå¦‚æœ‰ï¼‰...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edocker stop \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_CONTAINER_NAME\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e 2\u0026gt;/dev/null \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nb\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edocker rm \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_CONTAINER_NAME\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e 2\u0026gt;/dev/null \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nb\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003erm -rf \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_DATA_DIR\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e/*\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[4/4] è¿è¡Œ MySQL å®¹å™¨...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edocker run -d \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  --name \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_CONTAINER_NAME\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  --restart always \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -p \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_PORT\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e:3306 \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_DATA_DIR\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e:/var/lib/mysql \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v /etc/mysql-docker/my.cnf:/etc/mysql/conf.d/my.cnf \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -e \u003cspan class=\"nv\"\u003eMYSQL_ROOT_PASSWORD\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_ROOT_PASSWORD\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  mysql:8\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eç­‰å¾… MySQL å¯åŠ¨...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esleep \u003cspan class=\"m\"\u003e15\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e docker ps \u003cspan class=\"p\"\u003e|\u003c/span\u003e grep -q \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_CONTAINER_NAME\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"k\"\u003ethen\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eMySQL 8 éƒ¨ç½²æˆåŠŸï¼\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eå®¹å™¨åç§°: \u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_CONTAINER_NAME\u003c/span\u003e\u003cspan class=\"si\"\u003e}${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eç«¯å£: \u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_PORT\u003c/span\u003e\u003cspan class=\"si\"\u003e}${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eæ•°æ®ç›®å½•: \u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_DATA_DIR\u003c/span\u003e\u003cspan class=\"si\"\u003e}${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eé…ç½®æ–‡ä»¶: /etc/mysql-docker/my.cnf\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eRoot å¯†ç : \u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_ROOT_PASSWORD\u003c/span\u003e\u003cspan class=\"si\"\u003e}${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"c1\"\u003e# åˆ›å»ºç®¡ç†è„šæœ¬\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    cat \u0026gt; /usr/local/bin/mysql-docker \u003cspan class=\"s\"\u003e\u0026lt;\u0026lt; \u0026#39;SCRIPT_EOF\u0026#39;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003ecase \u0026#34;$1\u0026#34; in\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    start) docker start mysql8 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    stop) docker stop mysql8 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    restart) docker restart mysql8 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    status) docker ps -a | grep mysql8 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    logs) docker logs -f mysql8 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    shell) docker exec -it mysql8 bash ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    mysql) docker exec -it mysql8 mysql -u root -p ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    *) echo \u0026#34;ç”¨æ³•: $0 {start|stop|restart|status|logs|shell|mysql}\u0026#34;; exit 1 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eesac\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eSCRIPT_EOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    chmod +x /usr/local/bin/mysql-docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eç®¡ç†å‘½ä»¤å·²åˆ›å»º: mysql-docker {start|stop|restart|status|logs|shell|mysql}\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"c1\"\u003e# åˆ›å»ºè¿œç¨‹ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eåˆ›å»ºè¿œç¨‹ç”¨æˆ· admin...ï¼ˆå¯é€‰ï¼‰\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    docker \u003cspan class=\"nb\"\u003eexec\u003c/span\u003e -i \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_CONTAINER_NAME\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e mysql -u root -p\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_ROOT_PASSWORD\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026lt;\u0026lt;SQL\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eCREATE USER IF NOT EXISTS \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;\u0026lt;YOUR_ADMIN_PASSWORD\u0026gt;\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eGRANT ALL PRIVILEGES ON *.* TO \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39; WITH GRANT OPTION;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eFLUSH PRIVILEGES;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eSQL\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eè¿œç¨‹ç”¨æˆ· admin åˆ›å»ºå®Œæˆï¼\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003eelse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eRED\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eMySQL éƒ¨ç½²å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ—¥å¿—ï¼š\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    docker logs \u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eMYSQL_CONTAINER_NAME\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nb\"\u003eexit\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"k\"\u003efi\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"Debian 12 ä½¿ç”¨ Docker éƒ¨ç½² MySQL 8"},{"content":" æœ¬è„šæœ¬é€‚ç”¨äº Debian 12 ç¯å¢ƒï¼Œè‡ªåŠ¨å®Œæˆ Docker å®‰è£…åŠé•œåƒåŠ é€Ÿé…ç½®ã€‚\nğŸ“¦ å®‰è£…è„šæœ¬å†…å®¹ #!/bin/bash # Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬ # é€‚ç”¨äº Debian 12 set -e # é¢œè‰²å®šä¹‰ YELLOW=\u0026#39;\\033[1;33m\u0026#39; GREEN=\u0026#39;\\033[0;32m\u0026#39; NC=\u0026#39;\\033[0m\u0026#39; # é•œåƒåŠ é€Ÿåœ°å€ï¼ˆè¯·æ›¿æ¢ä¸ºä½ çš„ä¸“å±åŠ é€Ÿå™¨ï¼‰ DOCKER_MIRROR=\u0026#34;https://your.mirror.address/\u0026#34; echo -e \u0026#34;${YELLOW}[1/3] æ›´æ–°ç³»ç»ŸåŒ…...${NC}\u0026#34; apt-get update -y echo -e \u0026#34;${YELLOW}[2/3] å®‰è£… Docker...${NC}\u0026#34; apt-get install -y ca-certificates curl gnupg lsb-release mkdir -p /etc/apt/keyrings curl -fsSL https://download.docker.com/linux/debian/gpg | gpg --dearmor -o /etc/apt/keyrings/docker.gpg # æ·»åŠ  Docker å®˜æ–¹æºï¼ˆè§†ç½‘ç»œæƒ…å†µæ›¿æ¢ï¼‰ echo \\ \u0026#34;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian \\ $(lsb_release -cs) stable\u0026#34; | tee /etc/apt/sources.list.d/docker.list \u0026gt; /dev/null apt-get update -y apt-get install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin systemctl enable --now docker echo -e \u0026#34;${YELLOW}[3/3] é…ç½® Docker é•œåƒåŠ é€Ÿ...${NC}\u0026#34; mkdir -p /etc/docker cat \u0026gt; /etc/docker/daemon.json \u0026lt;\u0026lt; EOF { \u0026#34;registry-mirrors\u0026#34;: [ \u0026#34;${DOCKER_MIRROR}\u0026#34; ], \u0026#34;log-driver\u0026#34;: \u0026#34;json-file\u0026#34;, \u0026#34;log-opts\u0026#34;: { \u0026#34;max-size\u0026#34;: \u0026#34;10m\u0026#34;, \u0026#34;max-file\u0026#34;: \u0026#34;3\u0026#34; } } EOF systemctl daemon-reload systemctl restart docker echo -e \u0026#34;${GREEN}Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®å®Œæˆï¼${NC}\u0026#34; ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/docs/debain-docker-setup/","summary":"\u003cblockquote\u003e\n\u003cp\u003eæœ¬è„šæœ¬é€‚ç”¨äº Debian 12 ç¯å¢ƒï¼Œè‡ªåŠ¨å®Œæˆ Docker å®‰è£…åŠé•œåƒåŠ é€Ÿé…ç½®ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"-å®‰è£…è„šæœ¬å†…å®¹\"\u003eğŸ“¦ å®‰è£…è„šæœ¬å†…å®¹\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e\u003c/span\u003e\u003cspan class=\"c1\"\u003e# Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# é€‚ç”¨äº Debian 12\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eset\u003c/span\u003e -e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# é¢œè‰²å®šä¹‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\\033[1;33m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\\033[0;32m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\\033[0m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# é•œåƒåŠ é€Ÿåœ°å€ï¼ˆè¯·æ›¿æ¢ä¸ºä½ çš„ä¸“å±åŠ é€Ÿå™¨ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eDOCKER_MIRROR\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;https://your.mirror.address/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[1/3] æ›´æ–°ç³»ç»ŸåŒ…...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eapt-get update -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[2/3] å®‰è£… Docker...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eapt-get install -y ca-certificates curl gnupg lsb-release\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emkdir -p /etc/apt/keyrings\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecurl -fsSL https://download.docker.com/linux/debian/gpg \u003cspan class=\"p\"\u003e|\u003c/span\u003e gpg --dearmor -o /etc/apt/keyrings/docker.gpg\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# æ·»åŠ  Docker å®˜æ–¹æºï¼ˆè§†ç½‘ç»œæƒ…å†µæ›¿æ¢ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  \u003cspan class=\"s2\"\u003e\u0026#34;deb [arch=\u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003edpkg --print-architecture\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian \\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s2\"\u003e  \u003c/span\u003e\u003cspan class=\"k\"\u003e$(\u003c/span\u003elsb_release -cs\u003cspan class=\"k\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e stable\u0026#34;\u003c/span\u003e \u003cspan class=\"p\"\u003e|\u003c/span\u003e tee /etc/apt/sources.list.d/docker.list \u0026gt; /dev/null\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eapt-get update -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eapt-get install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esystemctl \u003cspan class=\"nb\"\u003eenable\u003c/span\u003e --now docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[3/3] é…ç½® Docker é•œåƒåŠ é€Ÿ...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emkdir -p /etc/docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecat \u0026gt; /etc/docker/daemon.json \u003cspan class=\"s\"\u003e\u0026lt;\u0026lt; EOF\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  \u0026#34;registry-mirrors\u0026#34;: [\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e     \u0026#34;${DOCKER_MIRROR}\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  ],\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  \u0026#34;log-driver\u0026#34;: \u0026#34;json-file\u0026#34;,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  \u0026#34;log-opts\u0026#34;: {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    \u0026#34;max-size\u0026#34;: \u0026#34;10m\u0026#34;,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    \u0026#34;max-file\u0026#34;: \u0026#34;3\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esystemctl daemon-reload\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esystemctl restart docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eDocker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®å®Œæˆï¼\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"Debian 12 ä¸€é”®å®‰è£… Docker å¹¶é…ç½®é•œåƒåŠ é€Ÿ"},{"content":"æ­¤é¡µé¢çš„å½“å‰è¯­è¨€ç‰ˆæœ¬å°šæœªç¿»è¯‘ï¼š\n","permalink":"https://ezkemj.github.io/myHugo/en/docs/install-docker-centos7/","summary":"\u003cp\u003eæ­¤é¡µé¢çš„å½“å‰è¯­è¨€ç‰ˆæœ¬å°šæœªç¿»è¯‘ï¼š\u003c/p\u003e","title":"CentOS 7 Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬"},{"content":"æ­¤é¡µé¢çš„å½“å‰è¯­è¨€ç‰ˆæœ¬å°šæœªç¿»è¯‘ï¼š\n","permalink":"https://ezkemj.github.io/myHugo/ja/docs/install-docker-centos7/","summary":"\u003cp\u003eæ­¤é¡µé¢çš„å½“å‰è¯­è¨€ç‰ˆæœ¬å°šæœªç¿»è¯‘ï¼š\u003c/p\u003e","title":"CentOS 7 Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬"},{"content":"æœ¬æ–‡æä¾›ä¸€ä¸ªé€‚ç”¨äº CentOS 7 çš„ Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬ï¼Œå¸®åŠ©å¿«é€Ÿéƒ¨ç½² Docker ç¯å¢ƒï¼Œå¹¶ä¼˜åŒ–é•œåƒæ‹‰å–é€Ÿåº¦ã€‚\né•œåƒåŠ é€Ÿåœ°å€éœ€æ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œæ›¿æ¢ä¸ºå¯ä¿¡æ¥æºã€‚\nğŸ“Œ ä½¿ç”¨è¯´æ˜ é€‚ç”¨ç¯å¢ƒï¼šCentOS 7.xï¼Œéœ€ root æƒé™ é£é™©æç¤ºï¼š yum update -y ä¼šå‡çº§æ‰€æœ‰ç³»ç»ŸåŒ…ï¼Œå¯èƒ½å½±å“ç°æœ‰æœåŠ¡ é•œåƒåŠ é€Ÿæºåº”æ¥è‡ªå¯ä¿¡æ¸ é“ï¼ˆå¦‚å®˜æ–¹æˆ–ä¼ä¸šå†…éƒ¨æºï¼‰ æ‰§è¡Œæ–¹å¼ï¼š å°†è„šæœ¬ä¿å­˜ä¸º install_docker.sh èµ‹äºˆæ‰§è¡Œæƒé™ï¼šchmod +x install_docker.sh æ‰§è¡Œï¼š./install_docker.sh ğŸ›  è„šæœ¬å†…å®¹ #!/bin/bash # Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬ï¼ˆCentOS 7ç‰ˆï¼‰ # é•œåƒåŠ é€Ÿåœ°å€éœ€è‡ªè¡Œæ›¿æ¢ set -e YELLOW=\u0026#39;\\033[1;33m\u0026#39; GREEN=\u0026#39;\\033[0;32m\u0026#39; NC=\u0026#39;\\033[0m\u0026#39; # é•œåƒåŠ é€Ÿåœ°å€å ä½ç¬¦ï¼Œè¯·æ›¿æ¢ä¸ºå¯ä¿¡æ¥æº DOCKER_MIRROR=\u0026#34;https://your.mirror.address/\u0026#34; echo -e \u0026#34;${YELLOW}[1/3] æ›´æ–°ç³»ç»ŸåŒ…...${NC}\u0026#34; yum update -y echo -e \u0026#34;${YELLOW}[2/3] å®‰è£… Docker...${NC}\u0026#34; yum install -y yum-utils device-mapper-persistent-data lvm2 yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo yum install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin systemctl enable --now docker echo -e \u0026#34;${YELLOW}[3/3] é…ç½® Docker é•œåƒåŠ é€Ÿ...${NC}\u0026#34; mkdir -p /etc/docker cat \u0026gt; /etc/docker/daemon.json \u0026lt;\u0026lt; EOF { \u0026#34;registry-mirrors\u0026#34;: [ \u0026#34;${DOCKER_MIRROR}\u0026#34; ], \u0026#34;log-driver\u0026#34;: \u0026#34;json-file\u0026#34;, \u0026#34;log-opts\u0026#34;: { \u0026#34;max-size\u0026#34;: \u0026#34;10m\u0026#34;, \u0026#34;max-file\u0026#34;: \u0026#34;3\u0026#34; } } EOF systemctl daemon-reload systemctl restart docker echo -e \u0026#34;${GREEN}Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®å®Œæˆï¼ï¼ˆCentOS 7ï¼‰${NC}\u0026#34; ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/docs/install-docker-centos7/","summary":"\u003cp\u003eæœ¬æ–‡æä¾›ä¸€ä¸ªé€‚ç”¨äº \u003cstrong\u003eCentOS 7\u003c/strong\u003e çš„ Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬ï¼Œå¸®åŠ©å¿«é€Ÿéƒ¨ç½² Docker ç¯å¢ƒï¼Œå¹¶ä¼˜åŒ–é•œåƒæ‹‰å–é€Ÿåº¦ã€‚\u003cbr\u003e\né•œåƒåŠ é€Ÿåœ°å€éœ€æ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œæ›¿æ¢ä¸ºå¯ä¿¡æ¥æºã€‚\u003c/p\u003e\n\u003ch2 id=\"-ä½¿ç”¨è¯´æ˜\"\u003eğŸ“Œ ä½¿ç”¨è¯´æ˜\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eé€‚ç”¨ç¯å¢ƒ\u003c/strong\u003eï¼šCentOS 7.xï¼Œéœ€ root æƒé™\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eé£é™©æç¤º\u003c/strong\u003eï¼š\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eyum update -y\u003c/code\u003e ä¼šå‡çº§æ‰€æœ‰ç³»ç»ŸåŒ…ï¼Œå¯èƒ½å½±å“ç°æœ‰æœåŠ¡\u003c/li\u003e\n\u003cli\u003eé•œåƒåŠ é€Ÿæºåº”æ¥è‡ªå¯ä¿¡æ¸ é“ï¼ˆå¦‚å®˜æ–¹æˆ–ä¼ä¸šå†…éƒ¨æºï¼‰\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eæ‰§è¡Œæ–¹å¼\u003c/strong\u003eï¼š\n\u003col\u003e\n\u003cli\u003eå°†è„šæœ¬ä¿å­˜ä¸º \u003ccode\u003einstall_docker.sh\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eèµ‹äºˆæ‰§è¡Œæƒé™ï¼š\u003ccode\u003echmod +x install_docker.sh\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eæ‰§è¡Œï¼š\u003ccode\u003e./install_docker.sh\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"-è„šæœ¬å†…å®¹\"\u003eğŸ›  è„šæœ¬å†…å®¹\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e\u003c/span\u003e\u003cspan class=\"c1\"\u003e# Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬ï¼ˆCentOS 7ç‰ˆï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# é•œåƒåŠ é€Ÿåœ°å€éœ€è‡ªè¡Œæ›¿æ¢\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eset\u003c/span\u003e -e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\\033[1;33m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\\033[0;32m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026#39;\\033[0m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# é•œåƒåŠ é€Ÿåœ°å€å ä½ç¬¦ï¼Œè¯·æ›¿æ¢ä¸ºå¯ä¿¡æ¥æº\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nv\"\u003eDOCKER_MIRROR\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;https://your.mirror.address/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[1/3] æ›´æ–°ç³»ç»ŸåŒ…...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eyum update -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[2/3] å®‰è£… Docker...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eyum install -y yum-utils device-mapper-persistent-data lvm2\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eyum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eyum install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esystemctl \u003cspan class=\"nb\"\u003eenable\u003c/span\u003e --now docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eYELLOW\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e[3/3] é…ç½® Docker é•œåƒåŠ é€Ÿ...\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emkdir -p /etc/docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecat \u0026gt; /etc/docker/daemon.json \u003cspan class=\"s\"\u003e\u0026lt;\u0026lt; EOF\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  \u0026#34;registry-mirrors\u0026#34;: [\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e     \u0026#34;${DOCKER_MIRROR}\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  ],\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  \u0026#34;log-driver\u0026#34;: \u0026#34;json-file\u0026#34;,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  \u0026#34;log-opts\u0026#34;: {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    \u0026#34;max-size\u0026#34;: \u0026#34;10m\u0026#34;,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    \u0026#34;max-file\u0026#34;: \u0026#34;3\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esystemctl daemon-reload\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esystemctl restart docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eDocker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®å®Œæˆï¼ï¼ˆCentOS 7ï¼‰\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eNC\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"CentOS 7 Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬"},{"content":"æ­¤é¡µé¢çš„å½“å‰è¯­è¨€ç‰ˆæœ¬å°šæœªç¿»è¯‘ï¼š\n","permalink":"https://ezkemj.github.io/myHugo/zh-tw/docs/install-docker-centos7/","summary":"\u003cp\u003eæ­¤é¡µé¢çš„å½“å‰è¯­è¨€ç‰ˆæœ¬å°šæœªç¿»è¯‘ï¼š\u003c/p\u003e","title":"CentOS 7 Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬"},{"content":"AdGuard Home Docker éƒ¨ç½²æœ€ä½³å®è·µ - ä¸€é”®è„šæœ¬ç‰ˆ æœ¬æ–‡æä¾›ä¸€ä»½å¯ç›´æ¥å¤åˆ¶æ‰§è¡Œçš„å‘½ä»¤è¡Œè„šæœ¬ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®Œæˆ AdGuard Home çš„ Docker éƒ¨ç½²ã€‚\nAdGuard Home æ˜¯ä¸€æ¬¾å…¨åŠŸèƒ½çš„ç½‘ç»œå¹¿å‘Šä¸è·Ÿè¸ªæ‹¦æˆª DNS æœåŠ¡å™¨ã€‚\nğŸš€ ä¸€é”®éƒ¨ç½²è„šæœ¬ #!/bin/bash set -e docker run -d \\ --name adguardhome \\ --restart unless-stopped \\ -v /srv/adguard/work:/opt/adguardhome/work \\ -v /srv/adguard/conf:/opt/adguardhome/conf \\ -p 53:53/tcp -p 53:53/udp \\ -p 3000:3000/tcp \\ -p 80:80/tcp \\ -p 443:443/tcp -p 443:443/udp \\ -p 853:853/tcp \\ adguard/adguardhome:latest echo \u0026#34;âœ… AdGuard Home å·²å¯åŠ¨å®Œæˆ\u0026#34; echo \u0026#34;ğŸ‘‰ Web ç®¡ç†ç•Œé¢ï¼šhttp://\u0026lt;æœåŠ¡å™¨IP\u0026gt;:3000\u0026#34; ğŸ“ é…ç½®è¯´æ˜ æ•°æ®ç›®å½•ï¼š/srv/adguard/workã€/srv/adguard/conf\nç«¯å£æ˜ å°„ï¼š\n53 (DNS)\n3000 (åˆå§‹ Web ç®¡ç†ç•Œé¢)\n80/443 (HTTP/HTTPS)\n853 (DNS-over-TLS)\n","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/adguardhome-docker-oneclick-deployment/","summary":"\u003ch1 id=\"adguard-home-docker-éƒ¨ç½²æœ€ä½³å®è·µ---ä¸€é”®è„šæœ¬ç‰ˆ\"\u003eAdGuard Home Docker éƒ¨ç½²æœ€ä½³å®è·µ - ä¸€é”®è„šæœ¬ç‰ˆ\u003c/h1\u003e\n\u003cp\u003eæœ¬æ–‡æä¾›ä¸€ä»½\u003cstrong\u003eå¯ç›´æ¥å¤åˆ¶æ‰§è¡Œ\u003c/strong\u003eçš„å‘½ä»¤è¡Œè„šæœ¬ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®Œæˆ AdGuard Home çš„ Docker éƒ¨ç½²ã€‚\u003cbr\u003e\nAdGuard Home æ˜¯ä¸€æ¬¾å…¨åŠŸèƒ½çš„ç½‘ç»œå¹¿å‘Šä¸è·Ÿè¸ªæ‹¦æˆª DNS æœåŠ¡å™¨ã€‚\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"-ä¸€é”®éƒ¨ç½²è„šæœ¬\"\u003eğŸš€ ä¸€é”®éƒ¨ç½²è„šæœ¬\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e\u003c/span\u003e\u003cspan class=\"nb\"\u003eset\u003c/span\u003e -e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edocker run -d \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  --name adguardhome \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  --restart unless-stopped \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v /srv/adguard/work:/opt/adguardhome/work \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v /srv/adguard/conf:/opt/adguardhome/conf \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -p 53:53/tcp -p 53:53/udp \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -p 3000:3000/tcp \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -p 80:80/tcp \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -p 443:443/tcp -p 443:443/udp \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -p 853:853/tcp \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  adguard/adguardhome:latest\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;âœ… AdGuard Home å·²å¯åŠ¨å®Œæˆ\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;ğŸ‘‰ Web ç®¡ç†ç•Œé¢ï¼šhttp://\u0026lt;æœåŠ¡å™¨IP\u0026gt;:3000\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eğŸ“ é…ç½®è¯´æ˜\næ•°æ®ç›®å½•ï¼š/srv/adguard/workã€/srv/adguard/conf\u003c/p\u003e","title":""},{"content":"Fail2ban éƒ¨ç½²ä¸é…ç½®æŒ‡å—ï¼ˆDebian 12 å®è·µï¼‰ æœ¬æ–‡æä¾›ä¸€ä»½å¯ç›´æ¥å¤åˆ¶æ‰§è¡Œçš„å‘½ä»¤è¡Œè„šæœ¬ä¸é…ç½®ç¤ºä¾‹ï¼Œå¸®åŠ©ä½ åœ¨ Debian 12 ä¸Šå¿«é€Ÿéƒ¨ç½²å¹¶å¯ç”¨ Fail2banã€‚\né‡ç‚¹è§£å†³ Debian 12 é»˜è®¤æ—  /var/log/auth.log çš„é—®é¢˜ï¼Œæ¨èä½¿ç”¨ systemd backendã€‚\nğŸ“ èƒŒæ™¯è¯´æ˜ Debian 12 é»˜è®¤ä¸å†ç”Ÿæˆ /var/log/auth.logï¼ŒSSH ç™»å½•å¤±è´¥è®°å½•å­˜æ”¾åœ¨ systemd journal ä¸­ã€‚ Fail2ban é»˜è®¤é…ç½®ä¼šæŠ¥é”™ï¼Œéœ€è¦è°ƒæ•´ï¼š æ–¹æ³•ä¸€ï¼šå®‰è£… rsyslog ç”Ÿæˆä¼ ç»Ÿæ—¥å¿—æ–‡ä»¶ æ–¹æ³•äºŒï¼ˆæ¨èï¼‰ï¼šè®© Fail2ban ç›´æ¥è¯»å– systemd æ—¥å¿— ğŸš€ å®‰è£…ä¸å¯ç”¨ sudo apt update sudo apt install fail2ban -y sudo systemctl enable --now fail2ban âš™ï¸ é…ç½® Fail2ban ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š\nbash sudo nano /etc/fail2ban/jail.d/defaults-debian.local ç¤ºä¾‹é…ç½®ï¼š\nini [DEFAULT] backend = systemd allowipv6 = auto\n[sshd] enabled = true mode = extra maxretry = 5 bantime = 3600 findtime = 600\n[nginx-http-auth] enabled = true port = http,https logpath = /srv/nginx/logs/error.log maxretry = 5 bantime = 3600 findtime = 600\n[nginx-botsearch] enabled = true port = http,https logpath = /srv/nginx/logs/access.log maxretry = 3 bantime = 86400\n[nginx-limit-req] enabled = true port = http,https logpath = /srv/nginx/logs/error.log maxretry = 10 bantime = 3600 findtime = 600\n[mysqld-auth] enabled = true port = 3308 filter = mysqld-auth logpath = /srv/mysql/8.0/prod/logs/error.log maxretry = 5 findtime = 600 bantime = 3600 ä¿å­˜åé‡å¯ï¼š\nbash sudo systemctl restart fail2ban sudo systemctl status fail2ban ğŸ”§ å¸¸ç”¨ç®¡ç†å‘½ä»¤ bash\nå¯åŠ¨ / åœæ­¢ / é‡å¯ sudo systemctl start fail2ban sudo systemctl stop fail2ban sudo systemctl restart fail2ban\nè®¾ç½®å¼€æœºè‡ªå¯ sudo systemctl enable fail2ban\næŸ¥çœ‹æœåŠ¡çŠ¶æ€ sudo systemctl status fail2ban\næŸ¥çœ‹æ€»ä½“çŠ¶æ€ï¼ˆæœ‰å“ªäº› jail åœ¨è¿è¡Œï¼‰ sudo fail2ban-client status\næŸ¥çœ‹æŸä¸ª jail çš„è¯¦ç»†çŠ¶æ€ sudo fail2ban-client status sshd sudo fail2ban-client status nginx-botsearch\næ‰‹åŠ¨å°ç¦ / è§£å° IP sudo fail2ban-client set sshd banip 1.2.3.4 sudo fail2ban-client set sshd unbanip 1.2.3.4\né‡æ–°åŠ è½½é…ç½®ï¼ˆä¸é‡å¯æœåŠ¡ï¼‰ sudo fail2ban-client reload\næµ‹è¯•æ—¥å¿—æ–‡ä»¶æ˜¯å¦èƒ½åŒ¹é…è¿‡æ»¤å™¨ sudo fail2ban-regex /var/log/auth.log /etc/fail2ban/filter.d/sshd.conf\næŸ¥çœ‹ Fail2ban æ—¥å¿— tail -f /var/log/fail2ban.log\næœç´¢å°ç¦è®°å½• grep \u0026ldquo;Ban\u0026rdquo; /var/log/fail2ban.log ğŸ“ æ€»ç»“ âœ… Debian 12 æ¨èä½¿ç”¨ systemd backendï¼Œé¿å…ä¾èµ–ä¼ ç»Ÿæ—¥å¿—æ–‡ä»¶\nâœ… å¯é’ˆå¯¹ SSHã€Nginxã€MySQL ç­‰æœåŠ¡å•ç‹¬é…ç½® jail\nâœ… æä¾›å¸¸ç”¨ç®¡ç†å‘½ä»¤ï¼Œæ–¹ä¾¿æ—¥å¸¸è¿ç»´\n","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/fail2ban-debian12-deployment-guide/","summary":"\u003ch1 id=\"fail2ban-éƒ¨ç½²ä¸é…ç½®æŒ‡å—debian-12-å®è·µ\"\u003eFail2ban éƒ¨ç½²ä¸é…ç½®æŒ‡å—ï¼ˆDebian 12 å®è·µï¼‰\u003c/h1\u003e\n\u003cp\u003eæœ¬æ–‡æä¾›ä¸€ä»½\u003cstrong\u003eå¯ç›´æ¥å¤åˆ¶æ‰§è¡Œ\u003c/strong\u003eçš„å‘½ä»¤è¡Œè„šæœ¬ä¸é…ç½®ç¤ºä¾‹ï¼Œå¸®åŠ©ä½ åœ¨ Debian 12 ä¸Šå¿«é€Ÿéƒ¨ç½²å¹¶å¯ç”¨ Fail2banã€‚\u003cbr\u003e\né‡ç‚¹è§£å†³ Debian 12 é»˜è®¤æ—  \u003ccode\u003e/var/log/auth.log\u003c/code\u003e çš„é—®é¢˜ï¼Œæ¨èä½¿ç”¨ \u003cstrong\u003esystemd backend\u003c/strong\u003eã€‚\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"-èƒŒæ™¯è¯´æ˜\"\u003eğŸ“ èƒŒæ™¯è¯´æ˜\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eDebian 12 é»˜è®¤ä¸å†ç”Ÿæˆ \u003ccode\u003e/var/log/auth.log\u003c/code\u003eï¼ŒSSH ç™»å½•å¤±è´¥è®°å½•å­˜æ”¾åœ¨ \u003cstrong\u003esystemd journal\u003c/strong\u003e ä¸­ã€‚\u003c/li\u003e\n\u003cli\u003eFail2ban é»˜è®¤é…ç½®ä¼šæŠ¥é”™ï¼Œéœ€è¦è°ƒæ•´ï¼š\n\u003cul\u003e\n\u003cli\u003eæ–¹æ³•ä¸€ï¼šå®‰è£… \u003ccode\u003ersyslog\u003c/code\u003e ç”Ÿæˆä¼ ç»Ÿæ—¥å¿—æ–‡ä»¶\u003c/li\u003e\n\u003cli\u003eæ–¹æ³•äºŒï¼ˆæ¨èï¼‰ï¼šè®© Fail2ban ç›´æ¥è¯»å– systemd æ—¥å¿—\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"-å®‰è£…ä¸å¯ç”¨\"\u003eğŸš€ å®‰è£…ä¸å¯ç”¨\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo apt update\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo apt install fail2ban -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003esudo systemctl \u003cspan class=\"nb\"\u003eenable\u003c/span\u003e --now fail2ban\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eâš™ï¸ é…ç½® Fail2ban\nç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š\u003c/p\u003e","title":""},{"content":"MySQL 5.7 Docker éƒ¨ç½²æœ€ä½³å®è·µ - ä¸€é”®è„šæœ¬ç‰ˆ æœ¬æ–‡æä¾›ä¸€ä»½å¯ç›´æ¥å¤åˆ¶æ‰§è¡Œçš„å‘½ä»¤è¡Œè„šæœ¬ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®Œæˆ MySQL 5.7 çš„ Docker éƒ¨ç½²ã€‚\nè„šæœ¬å†…å®¹æ¶µç›–ï¼šç›®å½•åˆå§‹åŒ–ã€è‡ªå®šä¹‰é…ç½®ã€æƒé™è®¾ç½®ä¸å®¹å™¨å¯åŠ¨ã€‚\nğŸ“ é…ç½®è¯´æ˜ï¼ˆç®€è¦ï¼‰ åŸºç¡€ä¿¡æ¯ --name mysql57-prodï¼šå®¹å™¨åç§° --restart unless-stoppedï¼šå¼€æœºè‡ªå¯ï¼Œé™¤éæ‰‹åŠ¨åœæ­¢ -p 3309:3306ï¼šå®¿ä¸»æœº 3309 ç«¯å£æ˜ å°„åˆ°å®¹å™¨ 3306 æ•°æ®ç›®å½•ä¸é…ç½® /srv/mysql/5.7/prod/dataï¼šæ•°æ®ç›®å½• /srv/mysql/5.7/prod/confï¼šè‡ªå®šä¹‰é…ç½®ç›®å½• /srv/mysql/5.7/prod/logsï¼šæ—¥å¿—ç›®å½• åˆå§‹åŒ–å‚æ•° MYSQL_ROOT_PASSWORDï¼šroot ç”¨æˆ·å¯†ç  MYSQL_DATABASEï¼šåˆå§‹åŒ–æ•°æ®åº“ MYSQL_USER / MYSQL_PASSWORDï¼šåˆå§‹åŒ–æ™®é€šç”¨æˆ· è‡ªå®šä¹‰é…ç½®ï¼ˆcustom.cnfï¼‰ å†…å­˜ä¸è¿æ¥æ•°é™åˆ¶ï¼šinnodb_buffer_pool_sizeã€max_connections ç­‰ å­—ç¬¦é›†ä¸æ’åºè§„åˆ™ï¼šutf8mb4 / utf8mb4_unicode_ci ç½‘ç»œä¸å…¼å®¹æ€§ï¼šskip-name-resolveã€lower_case_table_names=1 ğŸš€ ä¸€é”®éƒ¨ç½²è„šæœ¬ #!/bin/bash set -e # === 1. åˆ›å»ºç›®å½• === mkdir -p /srv/mysql/5.7/prod/{data,conf,logs} # === 2. å†™è‡ªå®šä¹‰é…ç½® === cat \u0026gt; /srv/mysql/5.7/prod/conf/custom.cnf \u0026lt;\u0026lt;\u0026#39;EOF\u0026#39; [mysqld] # å†…å­˜ä¸è¿æ¥æ•°é™åˆ¶ innodb_buffer_pool_size = 256M innodb_log_file_size = 128M innodb_log_files_in_group = 2 max_connections = 50 key_buffer_size = 16M thread_cache_size = 8 # å­—ç¬¦é›†ä¸æ’åºè§„åˆ™ character-set-server = utf8mb4 collation-server = utf8mb4_unicode_ci # ç½‘ç»œä¸å…¼å®¹æ€§ skip-name-resolve lower_case_table_names = 1 EOF # === 3. è®¾ç½®ç›®å½•æƒé™ === chown -R 999:999 /srv/mysql/5.7/prod/{data,logs} # === 4. å¯åŠ¨å®¹å™¨ === docker run -d \\ --name mysql57-prod \\ --restart unless-stopped \\ -p 3309:3306 \\ -v /srv/mysql/5.7/prod/data:/var/lib/mysql \\ -v /srv/mysql/5.7/prod/conf:/etc/mysql/conf.d \\ -v /srv/mysql/5.7/prod/logs:/var/log/mysql \\ -e MYSQL_ROOT_PASSWORD=\u0026#34;PleaseEnterStrongPassw0rd!\u0026#34; \\ -e MYSQL_DATABASE=myapp \\ -e MYSQL_USER=myuser \\ -e MYSQL_PASSWORD=mypassword \\ mysql:5.7 echo \u0026#34;âœ… MySQL 5.7 å·²å¯åŠ¨å®Œæˆ\u0026#34; echo \u0026#34;ğŸ‘‰ Run \u0026#39;docker ps | grep mysql57-prod\u0026#39; to verify the container status.\u0026#34; echo \u0026#34;ğŸ‘‰ Run \u0026#39;docker exec -it mysql57-prod mysql -uroot -p\u0026#39; to connect.\u0026#34; ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/mysql57-docker-oneclick-deployment/","summary":"\u003ch1 id=\"mysql-57-docker-éƒ¨ç½²æœ€ä½³å®è·µ---ä¸€é”®è„šæœ¬ç‰ˆ\"\u003eMySQL 5.7 Docker éƒ¨ç½²æœ€ä½³å®è·µ - ä¸€é”®è„šæœ¬ç‰ˆ\u003c/h1\u003e\n\u003cp\u003eæœ¬æ–‡æä¾›ä¸€ä»½\u003cstrong\u003eå¯ç›´æ¥å¤åˆ¶æ‰§è¡Œ\u003c/strong\u003eçš„å‘½ä»¤è¡Œè„šæœ¬ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®Œæˆ MySQL 5.7 çš„ Docker éƒ¨ç½²ã€‚\u003cbr\u003e\nè„šæœ¬å†…å®¹æ¶µç›–ï¼šç›®å½•åˆå§‹åŒ–ã€è‡ªå®šä¹‰é…ç½®ã€æƒé™è®¾ç½®ä¸å®¹å™¨å¯åŠ¨ã€‚\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"-é…ç½®è¯´æ˜ç®€è¦\"\u003eğŸ“ é…ç½®è¯´æ˜ï¼ˆç®€è¦ï¼‰\u003c/h2\u003e\n\u003ch3 id=\"åŸºç¡€ä¿¡æ¯\"\u003eåŸºç¡€ä¿¡æ¯\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e--name mysql57-prod\u003c/code\u003eï¼šå®¹å™¨åç§°\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e--restart unless-stopped\u003c/code\u003eï¼šå¼€æœºè‡ªå¯ï¼Œé™¤éæ‰‹åŠ¨åœæ­¢\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e-p 3309:3306\u003c/code\u003eï¼šå®¿ä¸»æœº 3309 ç«¯å£æ˜ å°„åˆ°å®¹å™¨ 3306\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"æ•°æ®ç›®å½•ä¸é…ç½®\"\u003eæ•°æ®ç›®å½•ä¸é…ç½®\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e/srv/mysql/5.7/prod/data\u003c/code\u003eï¼šæ•°æ®ç›®å½•\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e/srv/mysql/5.7/prod/conf\u003c/code\u003eï¼šè‡ªå®šä¹‰é…ç½®ç›®å½•\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e/srv/mysql/5.7/prod/logs\u003c/code\u003eï¼šæ—¥å¿—ç›®å½•\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"åˆå§‹åŒ–å‚æ•°\"\u003eåˆå§‹åŒ–å‚æ•°\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eMYSQL_ROOT_PASSWORD\u003c/code\u003eï¼šroot ç”¨æˆ·å¯†ç \u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eMYSQL_DATABASE\u003c/code\u003eï¼šåˆå§‹åŒ–æ•°æ®åº“\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eMYSQL_USER\u003c/code\u003e / \u003ccode\u003eMYSQL_PASSWORD\u003c/code\u003eï¼šåˆå§‹åŒ–æ™®é€šç”¨æˆ·\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"è‡ªå®šä¹‰é…ç½®customcnf\"\u003eè‡ªå®šä¹‰é…ç½®ï¼ˆcustom.cnfï¼‰\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eå†…å­˜ä¸è¿æ¥æ•°é™åˆ¶ï¼š\u003ccode\u003einnodb_buffer_pool_size\u003c/code\u003eã€\u003ccode\u003emax_connections\u003c/code\u003e ç­‰\u003c/li\u003e\n\u003cli\u003eå­—ç¬¦é›†ä¸æ’åºè§„åˆ™ï¼š\u003ccode\u003eutf8mb4\u003c/code\u003e / \u003ccode\u003eutf8mb4_unicode_ci\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eç½‘ç»œä¸å…¼å®¹æ€§ï¼š\u003ccode\u003eskip-name-resolve\u003c/code\u003eã€\u003ccode\u003elower_case_table_names=1\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"-ä¸€é”®éƒ¨ç½²è„šæœ¬\"\u003eğŸš€ ä¸€é”®éƒ¨ç½²è„šæœ¬\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e\u003c/span\u003e\u003cspan class=\"nb\"\u003eset\u003c/span\u003e -e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# === 1. åˆ›å»ºç›®å½• ===\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emkdir -p /srv/mysql/5.7/prod/\u003cspan class=\"o\"\u003e{\u003c/span\u003edata,conf,logs\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# === 2. å†™è‡ªå®šä¹‰é…ç½® ===\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecat \u0026gt; /srv/mysql/5.7/prod/conf/custom.cnf \u003cspan class=\"s\"\u003e\u0026lt;\u0026lt;\u0026#39;EOF\u0026#39;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e[mysqld]\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e# å†…å­˜ä¸è¿æ¥æ•°é™åˆ¶\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003einnodb_buffer_pool_size = 256M\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003einnodb_log_file_size = 128M\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003einnodb_log_files_in_group = 2\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003emax_connections = 50\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003ekey_buffer_size = 16M\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003ethread_cache_size = 8\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e# å­—ç¬¦é›†ä¸æ’åºè§„åˆ™\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003echaracter-set-server = utf8mb4\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003ecollation-server = utf8mb4_unicode_ci\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e# ç½‘ç»œä¸å…¼å®¹æ€§\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eskip-name-resolve\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003elower_case_table_names = 1\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# === 3. è®¾ç½®ç›®å½•æƒé™ ===\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003echown -R 999:999 /srv/mysql/5.7/prod/\u003cspan class=\"o\"\u003e{\u003c/span\u003edata,logs\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# === 4. å¯åŠ¨å®¹å™¨ ===\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edocker run -d \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  --name mysql57-prod \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  --restart unless-stopped \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -p 3309:3306 \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v /srv/mysql/5.7/prod/data:/var/lib/mysql \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v /srv/mysql/5.7/prod/conf:/etc/mysql/conf.d \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v /srv/mysql/5.7/prod/logs:/var/log/mysql \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -e \u003cspan class=\"nv\"\u003eMYSQL_ROOT_PASSWORD\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;PleaseEnterStrongPassw0rd!\u0026#34;\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -e \u003cspan class=\"nv\"\u003eMYSQL_DATABASE\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003emyapp \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -e \u003cspan class=\"nv\"\u003eMYSQL_USER\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003emyuser \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -e \u003cspan class=\"nv\"\u003eMYSQL_PASSWORD\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003emypassword \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  mysql:5.7\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;âœ… MySQL 5.7 å·²å¯åŠ¨å®Œæˆ\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;ğŸ‘‰ Run \u0026#39;docker ps | grep mysql57-prod\u0026#39; to verify the container status.\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;ğŸ‘‰ Run \u0026#39;docker exec -it mysql57-prod mysql -uroot -p\u0026#39; to connect.\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":""},{"content":"MySQL 8.0 Docker éƒ¨ç½²æœ€ä½³å®è·µ - ä¸€é”®è„šæœ¬ç‰ˆ æœ¬æ–‡æä¾›ä¸€ä»½å¯ç›´æ¥å¤åˆ¶æ‰§è¡Œçš„å‘½ä»¤è¡Œè„šæœ¬ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®Œæˆ MySQL 8.0 çš„ Docker éƒ¨ç½²ã€‚ è„šæœ¬å†…å®¹æ¶µç›–ï¼šç›®å½•åˆå§‹åŒ–ã€è‡ªå®šä¹‰é…ç½®ã€æƒé™è®¾ç½®ä¸å®¹å™¨å¯åŠ¨ã€‚\nğŸ“ é…ç½®è¯´æ˜ï¼ˆç®€è¦ï¼‰ åŸºç¡€ä¿¡æ¯ --name mysql8-prodï¼šå®¹å™¨åç§° --restart unless-stoppedï¼šå¼€æœºè‡ªå¯ï¼Œé™¤éæ‰‹åŠ¨åœæ­¢ -p 3308:3306ï¼šå®¿ä¸»æœº 3308 ç«¯å£æ˜ å°„åˆ°å®¹å™¨ 3306 æ•°æ®ç›®å½•ä¸é…ç½® /srv/mysql/8.0/prod/dataï¼šæ•°æ®ç›®å½• /srv/mysql/8.0/prod/confï¼šè‡ªå®šä¹‰é…ç½®ç›®å½• /srv/mysql/8.0/prod/logsï¼šæ—¥å¿—ç›®å½• åˆå§‹åŒ–å‚æ•° MYSQL_ROOT_PASSWORDï¼šroot ç”¨æˆ·å¯†ç  custom.cnfï¼šåªè¦†ç›–å¿…è¦å‚æ•°ï¼ˆå†…å­˜é™åˆ¶ã€å­—ç¬¦é›†ã€æ—¥å¿—è·¯å¾„ç­‰ï¼‰ ğŸš€ ä¸€é”®éƒ¨ç½²è„šæœ¬ #!/bin/bash set -e # === 1. åˆ›å»ºç›®å½• === mkdir -p /srv/mysql/8.0/prod/{data,conf,logs} # === 2. å†™è‡ªå®šä¹‰é…ç½®ï¼ˆåªè¦†ç›–å¿…è¦å‚æ•°ï¼‰ === cat \u0026gt; /srv/mysql/8.0/prod/conf/custom.cnf \u0026lt;\u0026lt;\u0026#39;EOF\u0026#39; [mysqld] # å†…å­˜ä¸è¿æ¥æ•°é™åˆ¶ innodb_buffer_pool_size = 256M innodb_redo_log_capacity = 134217728 max_connections = 50 key_buffer_size = 16M thread_cache_size = 8 # å­—ç¬¦é›†ä¸æ’åºè§„åˆ™ character-set-server = utf8mb4 collation-server = utf8mb4_unicode_ci # ç½‘ç»œä¸å…¼å®¹æ€§ skip-name-resolve lower_case_table_names = 1 # æ—¥å¿— log_error = /var/log/mysql/error.log EOF # === 3. è®¾ç½®ç›®å½•æƒé™ === chown -R 999:999 /srv/mysql/8.0/prod/{data,logs} # === 4. å¯åŠ¨å®¹å™¨ === docker run -d \\ --name mysql8-prod \\ --restart unless-stopped \\ -p 3308:3306 \\ -v /srv/mysql/8.0/prod/data:/var/lib/mysql \\ -v /srv/mysql/8.0/prod/conf:/etc/mysql/conf.d \\ -v /srv/mysql/8.0/prod/logs:/var/log/mysql \\ -e MYSQL_ROOT_PASSWORD=\u0026#34;PleaseEnterStrongPassw0rd!\u0026#34; \\ mysql:8 echo \u0026#34;âœ… MySQL 8.0 å·²å¯åŠ¨å®Œæˆ\u0026#34; echo \u0026#34;ğŸ‘‰ Run \u0026#39;docker ps | grep mysql8-prod\u0026#39; to verify the container status.\u0026#34; echo \u0026#34;ğŸ‘‰ Run \u0026#39;docker exec -it mysql8-prod mysql -uroot -p\u0026#39; to connect.\u0026#34; ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/mysql8-docker-oneclick-deployment/","summary":"\u003ch1 id=\"mysql-80-docker-éƒ¨ç½²æœ€ä½³å®è·µ---ä¸€é”®è„šæœ¬ç‰ˆ\"\u003eMySQL 8.0 Docker éƒ¨ç½²æœ€ä½³å®è·µ - ä¸€é”®è„šæœ¬ç‰ˆ\u003c/h1\u003e\n\u003cp\u003eæœ¬æ–‡æä¾›ä¸€ä»½\u003cstrong\u003eå¯ç›´æ¥å¤åˆ¶æ‰§è¡Œ\u003c/strong\u003eçš„å‘½ä»¤è¡Œè„šæœ¬ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®Œæˆ MySQL 8.0 çš„ Docker éƒ¨ç½²ã€‚\nè„šæœ¬å†…å®¹æ¶µç›–ï¼šç›®å½•åˆå§‹åŒ–ã€è‡ªå®šä¹‰é…ç½®ã€æƒé™è®¾ç½®ä¸å®¹å™¨å¯åŠ¨ã€‚\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"-é…ç½®è¯´æ˜ç®€è¦\"\u003eğŸ“ é…ç½®è¯´æ˜ï¼ˆç®€è¦ï¼‰\u003c/h2\u003e\n\u003ch3 id=\"åŸºç¡€ä¿¡æ¯\"\u003eåŸºç¡€ä¿¡æ¯\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e--name mysql8-prod\u003c/code\u003eï¼šå®¹å™¨åç§°\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e--restart unless-stopped\u003c/code\u003eï¼šå¼€æœºè‡ªå¯ï¼Œé™¤éæ‰‹åŠ¨åœæ­¢\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e-p 3308:3306\u003c/code\u003eï¼šå®¿ä¸»æœº 3308 ç«¯å£æ˜ å°„åˆ°å®¹å™¨ 3306\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"æ•°æ®ç›®å½•ä¸é…ç½®\"\u003eæ•°æ®ç›®å½•ä¸é…ç½®\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e/srv/mysql/8.0/prod/data\u003c/code\u003eï¼šæ•°æ®ç›®å½•\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e/srv/mysql/8.0/prod/conf\u003c/code\u003eï¼šè‡ªå®šä¹‰é…ç½®ç›®å½•\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e/srv/mysql/8.0/prod/logs\u003c/code\u003eï¼šæ—¥å¿—ç›®å½•\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"åˆå§‹åŒ–å‚æ•°\"\u003eåˆå§‹åŒ–å‚æ•°\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eMYSQL_ROOT_PASSWORD\u003c/code\u003eï¼šroot ç”¨æˆ·å¯†ç \u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ecustom.cnf\u003c/code\u003eï¼šåªè¦†ç›–å¿…è¦å‚æ•°ï¼ˆå†…å­˜é™åˆ¶ã€å­—ç¬¦é›†ã€æ—¥å¿—è·¯å¾„ç­‰ï¼‰\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"-ä¸€é”®éƒ¨ç½²è„šæœ¬\"\u003eğŸš€ ä¸€é”®éƒ¨ç½²è„šæœ¬\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e\u003c/span\u003e\u003cspan class=\"nb\"\u003eset\u003c/span\u003e -e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# === 1. åˆ›å»ºç›®å½• ===\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emkdir -p /srv/mysql/8.0/prod/\u003cspan class=\"o\"\u003e{\u003c/span\u003edata,conf,logs\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# === 2. å†™è‡ªå®šä¹‰é…ç½®ï¼ˆåªè¦†ç›–å¿…è¦å‚æ•°ï¼‰ ===\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ecat \u0026gt; /srv/mysql/8.0/prod/conf/custom.cnf \u003cspan class=\"s\"\u003e\u0026lt;\u0026lt;\u0026#39;EOF\u0026#39;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e[mysqld]\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e# å†…å­˜ä¸è¿æ¥æ•°é™åˆ¶\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003einnodb_buffer_pool_size = 256M\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003einnodb_redo_log_capacity = 134217728\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003emax_connections = 50\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003ekey_buffer_size = 16M\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003ethread_cache_size = 8\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e# å­—ç¬¦é›†ä¸æ’åºè§„åˆ™\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003echaracter-set-server = utf8mb4\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    collation-server = utf8mb4_unicode_ci\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    # ç½‘ç»œä¸å…¼å®¹æ€§\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eskip-name-resolve\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003elower_case_table_names = 1\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003e    # æ—¥å¿—\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003elog_error = /var/log/mysql/error.log\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"s\"\u003eEOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# === 3. è®¾ç½®ç›®å½•æƒé™ ===\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003echown -R 999:999 /srv/mysql/8.0/prod/\u003cspan class=\"o\"\u003e{\u003c/span\u003edata,logs\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# === 4. å¯åŠ¨å®¹å™¨ ===\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edocker run -d \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  --name mysql8-prod \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  --restart unless-stopped \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -p 3308:3306 \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v /srv/mysql/8.0/prod/data:/var/lib/mysql \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v /srv/mysql/8.0/prod/conf:/etc/mysql/conf.d \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v /srv/mysql/8.0/prod/logs:/var/log/mysql \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -e \u003cspan class=\"nv\"\u003eMYSQL_ROOT_PASSWORD\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;PleaseEnterStrongPassw0rd!\u0026#34;\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  mysql:8\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;âœ… MySQL 8.0 å·²å¯åŠ¨å®Œæˆ\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;ğŸ‘‰ Run \u0026#39;docker ps | grep mysql8-prod\u0026#39; to verify the container status.\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;ğŸ‘‰ Run \u0026#39;docker exec -it mysql8-prod mysql -uroot -p\u0026#39; to connect.\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":""},{"content":"Nginx Docker åå‘ä»£ç†éƒ¨ç½²æœ€ä½³å®è·µ - ä¸€é”®è„šæœ¬ç‰ˆ æœ¬æ–‡æä¾›ä¸€ä»½å¯ç›´æ¥å¤åˆ¶æ‰§è¡Œçš„å‘½ä»¤è¡Œè„šæœ¬ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®Œæˆ Nginx åå‘ä»£ç†çš„ Docker éƒ¨ç½²ã€‚\nè„šæœ¬å†…å®¹æ¶µç›–ï¼šç›®å½•åˆå§‹åŒ–ã€æƒé™è®¾ç½®ã€å®‰å…¨å‚æ•°ã€å®¹å™¨è¿è¡Œä¸ç¤ºä¾‹é…ç½®ã€‚\nğŸ“ é…ç½®è¯´æ˜ï¼ˆç®€è¦ï¼‰ ç›®å½•ä¸æƒé™ /srv/nginx/confï¼šNginx é…ç½®æ–‡ä»¶ï¼ˆåªè¯»ï¼Œroot:rootï¼‰ /srv/nginx/certsï¼šè¯ä¹¦ç›®å½•ï¼ˆåªè¯»ï¼Œroot:rootï¼‰ /srv/nginx/cacheã€/srv/nginx/runã€/srv/nginx/logsï¼šè¿è¡Œæ—¶ç›®å½•ï¼ˆUID 101 å¯å†™ï¼‰ /srv/nginx/htmlï¼šé™æ€æ–‡ä»¶ç›®å½•ï¼ˆåªè¯»ï¼‰ å®‰å…¨å‚æ•° --pids-limit=200ï¼šé™åˆ¶è¿›ç¨‹æ•° --memory=256mï¼šé™åˆ¶å†…å­˜ --security-opt no-new-privilegesï¼šç¦æ­¢ææƒ --read-onlyï¼šå®¹å™¨æ ¹æ–‡ä»¶ç³»ç»Ÿåªè¯» --cap-drop ALLï¼šç§»é™¤æ‰€æœ‰ Linux capabilities é…ç½®æ–‡ä»¶ç¤ºä¾‹ é™æµä¸è¿æ¥æ•°é™åˆ¶ï¼šlimit_req_zoneã€limit_conn_zone å®‰å…¨å¤´éƒ¨ï¼šX-Frame-Optionsã€Content-Security-Policy ç­‰ åå‘ä»£ç†ï¼šProwlarrã€Radarrã€qBittorrentã€Jellyfin WebSocket æ”¯æŒï¼šJellyfin è§†é¢‘æµ ğŸš€ ä¸€é”®éƒ¨ç½²è„šæœ¬ #!/bin/bash set -e # === 1. åˆ›å»ºç›®å½• === mkdir -p /srv/nginx/{conf,certs,cache,run,logs} # === 2. è®¾ç½®æƒé™ === chown -R 101:101 /srv/nginx/{cache,run,logs} chown -R root:root /srv/nginx/conf chown -R root:root /srv/nginx/certs # === 3. å¯åŠ¨å®¹å™¨ === docker run -d \\ --name nginx-proxy \\ --restart unless-stopped \\ --pids-limit=200 \\ --memory=256m \\ -p 80:80 \\ -p 443:443 \\ --security-opt no-new-privileges \\ --read-only \\ --cap-drop ALL \\ -v /srv/nginx/conf:/etc/nginx/conf.d:ro \\ -v /srv/nginx/certs:/etc/nginx/certs:ro \\ -v /srv/nginx/cache:/var/cache/nginx \\ -v /srv/nginx/run:/var/run \\ -v /srv/nginx/logs:/var/log/nginx \\ -v /srv/nginx/html:/usr/share/nginx/html:ro \\ -e NGINX_ENTRYPOINT_QUIET_LOGS=1 \\ nginx:stable-alpine echo \u0026#34;âœ… Nginx åå‘ä»£ç†å·²å¯åŠ¨å®Œæˆ\u0026#34; ğŸ”§ å¸¸ç”¨æ“ä½œ æ‹·è´é»˜è®¤é™æ€ç›®å½• docker cp nginx-proxy:/usr/share/nginx/html /srv/nginx/html\næ— ä¸­æ–­é‡è½½é…ç½® docker exec -it nginx-proxy nginx -s reload\nå°†ä»£ç†å®¹å™¨åŠ å…¥æŒ‡å®šç½‘ç»œ docker network connect media nginx-proxy\næ—¥å¿—æ’æŸ¥ docker logs nginx-proxy docker exec -it nginx-proxy nginx -t ğŸ“„ ç¤ºä¾‹é…ç½®æ–‡ä»¶ /srv/nginx/conf/myapp.conf nginx\nlimit_req_zone $binary_remote_addr zone=one:10m rate=10r/s; limit_conn_zone $binary_remote_addr zone=addr:10m; limit_conn addr 20; server { listen 80; server_name yourdomain.com; server_tokens off; # å®‰å…¨å¤´éƒ¨ add_header X-Frame-Options SAMEORIGIN; add_header X-Content-Type-Options nosniff; add_header X-XSS-Protection \u0026#34;1; mode=block\u0026#34;; add_header Referrer-Policy strict-origin-when-cross-origin; add_header Content-Security-Policy \u0026#34;default-src \u0026#39;self\u0026#39;; style-src \u0026#39;self\u0026#39; \u0026#39;unsafe-inline\u0026#39;; script-src \u0026#39;self\u0026#39; \u0026#39;unsafe-inline\u0026#39;;\u0026#34;; add_header Permissions-Policy \u0026#34;geolocation=(), microphone=(), camera=()\u0026#34;; add_header X-Permitted-Cross-Domain-Policies \u0026#34;none\u0026#34;; # é™æ€é¦–é¡µ location / { limit_req zone=one burst=20 nodelay; root /usr/share/nginx/html; index index.html; } # ä»£ç†ç¤ºä¾‹ï¼šProwlarr location /prowlarr/ { proxy_pass http://prowlarr:9696/; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; } # ä»£ç† Radarr location /radarr/ { proxy_pass http://radarr:7878/; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; } # ä»£ç† qBittorrent location /qbittorrent/ { proxy_pass http://qbittorrent:8080/; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; } # ä»£ç† Jellyfin location /jellyfin/ { proxy_pass http://jellyfin:8096/; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; # WebSocket æ”¯æŒ proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;upgrade\u0026#34;; # é¿å…è§†é¢‘æµç¼“å­˜ proxy_buffering off; } # å¦‚æœæœªæ¥è¦å¯ç”¨ HTTPSï¼Œå¯ä»¥å–æ¶ˆä¸‹é¢çš„æ³¨é‡Š # return 301 https://$host$request_uri; } ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/nginx-docker-reverse-proxy-oneclick/","summary":"\u003ch1 id=\"nginx-docker-åå‘ä»£ç†éƒ¨ç½²æœ€ä½³å®è·µ---ä¸€é”®è„šæœ¬ç‰ˆ\"\u003eNginx Docker åå‘ä»£ç†éƒ¨ç½²æœ€ä½³å®è·µ - ä¸€é”®è„šæœ¬ç‰ˆ\u003c/h1\u003e\n\u003cp\u003eæœ¬æ–‡æä¾›ä¸€ä»½\u003cstrong\u003eå¯ç›´æ¥å¤åˆ¶æ‰§è¡Œ\u003c/strong\u003eçš„å‘½ä»¤è¡Œè„šæœ¬ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®Œæˆ Nginx åå‘ä»£ç†çš„ Docker éƒ¨ç½²ã€‚\u003cbr\u003e\nè„šæœ¬å†…å®¹æ¶µç›–ï¼šç›®å½•åˆå§‹åŒ–ã€æƒé™è®¾ç½®ã€å®‰å…¨å‚æ•°ã€å®¹å™¨è¿è¡Œä¸ç¤ºä¾‹é…ç½®ã€‚\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"-é…ç½®è¯´æ˜ç®€è¦\"\u003eğŸ“ é…ç½®è¯´æ˜ï¼ˆç®€è¦ï¼‰\u003c/h2\u003e\n\u003ch3 id=\"ç›®å½•ä¸æƒé™\"\u003eç›®å½•ä¸æƒé™\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e/srv/nginx/conf\u003c/code\u003eï¼šNginx é…ç½®æ–‡ä»¶ï¼ˆåªè¯»ï¼Œroot:rootï¼‰\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e/srv/nginx/certs\u003c/code\u003eï¼šè¯ä¹¦ç›®å½•ï¼ˆåªè¯»ï¼Œroot:rootï¼‰\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e/srv/nginx/cache\u003c/code\u003eã€\u003ccode\u003e/srv/nginx/run\u003c/code\u003eã€\u003ccode\u003e/srv/nginx/logs\u003c/code\u003eï¼šè¿è¡Œæ—¶ç›®å½•ï¼ˆUID 101 å¯å†™ï¼‰\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e/srv/nginx/html\u003c/code\u003eï¼šé™æ€æ–‡ä»¶ç›®å½•ï¼ˆåªè¯»ï¼‰\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"å®‰å…¨å‚æ•°\"\u003eå®‰å…¨å‚æ•°\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e--pids-limit=200\u003c/code\u003eï¼šé™åˆ¶è¿›ç¨‹æ•°\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e--memory=256m\u003c/code\u003eï¼šé™åˆ¶å†…å­˜\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e--security-opt no-new-privileges\u003c/code\u003eï¼šç¦æ­¢ææƒ\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e--read-only\u003c/code\u003eï¼šå®¹å™¨æ ¹æ–‡ä»¶ç³»ç»Ÿåªè¯»\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e--cap-drop ALL\u003c/code\u003eï¼šç§»é™¤æ‰€æœ‰ Linux capabilities\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"é…ç½®æ–‡ä»¶ç¤ºä¾‹\"\u003eé…ç½®æ–‡ä»¶ç¤ºä¾‹\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eé™æµä¸è¿æ¥æ•°é™åˆ¶ï¼š\u003ccode\u003elimit_req_zone\u003c/code\u003eã€\u003ccode\u003elimit_conn_zone\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eå®‰å…¨å¤´éƒ¨ï¼š\u003ccode\u003eX-Frame-Options\u003c/code\u003eã€\u003ccode\u003eContent-Security-Policy\u003c/code\u003e ç­‰\u003c/li\u003e\n\u003cli\u003eåå‘ä»£ç†ï¼šProwlarrã€Radarrã€qBittorrentã€Jellyfin\u003c/li\u003e\n\u003cli\u003eWebSocket æ”¯æŒï¼šJellyfin è§†é¢‘æµ\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"-ä¸€é”®éƒ¨ç½²è„šæœ¬\"\u003eğŸš€ ä¸€é”®éƒ¨ç½²è„šæœ¬\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e\u003c/span\u003e\u003cspan class=\"nb\"\u003eset\u003c/span\u003e -e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# === 1. åˆ›å»ºç›®å½• ===\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003emkdir -p /srv/nginx/\u003cspan class=\"o\"\u003e{\u003c/span\u003econf,certs,cache,run,logs\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# === 2. è®¾ç½®æƒé™ ===\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003echown -R 101:101 /srv/nginx/\u003cspan class=\"o\"\u003e{\u003c/span\u003ecache,run,logs\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003echown -R root:root /srv/nginx/conf\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003echown -R root:root /srv/nginx/certs\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# === 3. å¯åŠ¨å®¹å™¨ ===\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edocker run -d \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  --name nginx-proxy \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  --restart unless-stopped \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  --pids-limit\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"m\"\u003e200\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  --memory\u003cspan class=\"o\"\u003e=\u003c/span\u003e256m \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -p 80:80 \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -p 443:443 \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  --security-opt no-new-privileges \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  --read-only \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  --cap-drop ALL \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v /srv/nginx/conf:/etc/nginx/conf.d:ro \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v /srv/nginx/certs:/etc/nginx/certs:ro \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v /srv/nginx/cache:/var/cache/nginx \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v /srv/nginx/run:/var/run \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v /srv/nginx/logs:/var/log/nginx \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -v /srv/nginx/html:/usr/share/nginx/html:ro \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  -e \u003cspan class=\"nv\"\u003eNGINX_ENTRYPOINT_QUIET_LOGS\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"m\"\u003e1\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"se\"\u003e\u003c/span\u003e  nginx:stable-alpine\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nb\"\u003eecho\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;âœ… Nginx åå‘ä»£ç†å·²å¯åŠ¨å®Œæˆ\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"-å¸¸ç”¨æ“ä½œ\"\u003eğŸ”§ å¸¸ç”¨æ“ä½œ\u003c/h2\u003e\n\u003ch1 id=\"æ‹·è´é»˜è®¤é™æ€ç›®å½•\"\u003eæ‹·è´é»˜è®¤é™æ€ç›®å½•\u003c/h1\u003e\n\u003cp\u003edocker cp nginx-proxy:/usr/share/nginx/html /srv/nginx/html\u003c/p\u003e","title":""},{"content":"PostgreSQL 16 Docker éƒ¨ç½²æœ€ä½³å®è·µ - ä¸€é”®è„šæœ¬ç‰ˆ æœ¬æ–‡æä¾›ä¸€ä»½å¯ç›´æ¥å¤åˆ¶æ‰§è¡Œçš„å‘½ä»¤è¡Œè„šæœ¬ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®Œæˆ PostgreSQL 16 çš„ Docker éƒ¨ç½²ã€‚ åŒæ—¶é™„å¸¦å¸¸è§é—®é¢˜æ’æŸ¥ï¼Œç¡®ä¿æ–°æ‰‹ä¹Ÿèƒ½é¡ºåˆ©å®Œæˆã€‚\nğŸ“ é…ç½®è¯´æ˜ï¼ˆç®€è¦ï¼‰ åŸºç¡€ä¿¡æ¯ \u0026ndash;name postgres16ï¼šå®¹å™¨åç§°\n\u0026ndash;restart=unless-stoppedï¼šå¼€æœºè‡ªå¯ï¼Œé™¤éæ‰‹åŠ¨åœæ­¢\n\u0026ndash;shm-size=128mï¼šå…±äº«å†…å­˜å¤§å°ï¼Œé¿å…å¤§æŸ¥è¯¢æŠ¥é”™\næ•°æ®åº“åˆå§‹åŒ– POSTGRES_USER=admin / POSTGRES_PASSWORD=\u0026hellip;ï¼šåˆå§‹åŒ–è¶…çº§ç”¨æˆ·\nPOSTGRES_DB=appdbï¼šåˆå§‹åŒ–æ•°æ®åº“\nPOSTGRES_INITDB_ARGS=\u0026quot;\u0026ndash;encoding=UTF8 \u0026ndash;locale=C.UTF-8\u0026quot;ï¼šè®¾ç½®ç¼–ç å’Œ locale\nPGDATA=/var/lib/postgresql/data/pgdataï¼šæ•°æ®ç›®å½•ä½ç½®\næ—¶åŒºä¸æœ¬åœ°åŒ– TZ=Asia/Shanghaiï¼šå®¹å™¨æ—¶åŒº\n-c timezone / -c log_timezone / -c datestyleï¼šæ•°æ®åº“æ—¶åŒºå’Œæ—¥æœŸæ ¼å¼\nå­˜å‚¨æŒ‚è½½ /srv/postgres16/dataï¼šæ•°æ®ç›®å½•\n/srv/postgres16/logsï¼šæ—¥å¿—ç›®å½•\n/srv/postgres16/backupï¼šå¤‡ä»½ç›®å½•\næ€§èƒ½å‚æ•°ï¼ˆé€‚åˆå°å†…å­˜æœºå™¨ï¼‰ shared_buffers=64MBã€work_mem=2MBã€max_connections=50 ç­‰ï¼šå†…å­˜å’Œè¿æ¥æ•°ä¼˜åŒ–\ncheckpoint_completion_targetã€wal_buffersã€max_wal_sizeï¼šWAL æ—¥å¿—è°ƒä¼˜\nrandom_page_costã€effective_io_concurrencyï¼šI/O ä¼˜åŒ–\næ—¥å¿—é…ç½® logging_collector=onï¼šå¯ç”¨æ—¥å¿—æ”¶é›†\nlog_directoryã€log_filenameï¼šæ—¥å¿—ç›®å½•å’Œæ–‡ä»¶å\nlog_rotation_age=1dã€log_rotation_size=100MBï¼šæ—¥å¿—è½®è½¬ç­–ç•¥\nlog_min_duration_statement=1000ï¼šè®°å½•è¶…è¿‡ 1 ç§’çš„æ…¢æŸ¥è¯¢ ğŸš€ ä¸€é”®éƒ¨ç½²è„šæœ¬ #!/bin/bash set -e # === 1. æ¸…ç†æ—§å®¹å™¨å’Œç›®å½• === docker stop postgres16 2\u0026gt;/dev/null || true docker rm -f postgres16 2\u0026gt;/dev/null || true sudo rm -rf /srv/postgres16/data/* sudo rm -rf /srv/postgres16/logs/* sudo rm -rf /srv/postgres16/backup/* # === 2. åˆ›å»ºç›®å½•å¹¶è®¾ç½®æƒé™ === sudo mkdir -p /srv/postgres16/{data,logs,backup,init} sudo chown -R 999:999 /srv/postgres16/{data,logs} # === 3. å¯åŠ¨å®¹å™¨ === docker run -d \\ --name postgres16 \\ --restart=unless-stopped \\ --shm-size=128m \\ -e POSTGRES_USER=admin \\ -e POSTGRES_PASSWORD=\u0026#39;PleaseEnterStrongPassw0rd!\u0026#39; \\ -e POSTGRES_DB=appdb \\ -e POSTGRES_INITDB_ARGS=\u0026#34;--encoding=UTF8 --locale=C.UTF-8\u0026#34; \\ -e TZ=Asia/Shanghai \\ -e PGDATA=/var/lib/postgresql/data/pgdata \\ -v /srv/postgres16/data:/var/lib/postgresql/data \\ -v /srv/postgres16/logs:/var/lib/postgresql/logs \\ -v /srv/postgres16/backup:/backup \\ -p 5432:5432 \\ --log-opt max-size=10m \\ --log-opt max-file=3 \\ postgres:16-bookworm \\ -c shared_buffers=64MB \\ -c effective_cache_size=256MB \\ -c work_mem=2MB \\ -c maintenance_work_mem=32MB \\ -c max_connections=50 \\ -c timezone=\u0026#39;Asia/Shanghai\u0026#39; \\ -c log_timezone=\u0026#39;Asia/Shanghai\u0026#39; \\ -c datestyle=\u0026#39;iso, ymd\u0026#39; \\ -c default_text_search_config=\u0026#39;pg_catalog.simple\u0026#39; \\ -c checkpoint_completion_target=0.9 \\ -c wal_buffers=8MB \\ -c max_wal_size=512MB \\ -c min_wal_size=128MB \\ -c random_page_cost=1.1 \\ -c effective_io_concurrency=200 \\ -c logging_collector=on \\ -c log_directory=\u0026#39;/var/lib/postgresql/logs\u0026#39; \\ -c log_filename=\u0026#39;postgresql-%Y-%m-%d.log\u0026#39; \\ -c log_rotation_age=1d \\ -c log_rotation_size=100MB \\ -c log_min_duration_statement=1000 echo \u0026#34;âœ… PostgreSQL 16 å·²å¯åŠ¨å®Œæˆ\u0026#34; echo \u0026#34;ğŸ‰ PostgreSQL 16 has been deployed and started successfully!\u0026#34; echo \u0026#34;ğŸ‘‰ Run \u0026#39;docker ps | grep postgres16\u0026#39; to verify the container status.\u0026#34; echo \u0026#34;ğŸ‘‰ Run \u0026#39;docker exec -it postgres16 psql -U admin -d appdb -c \\\u0026#34;SELECT version();\\\u0026#34;\u0026#39; to test the database connection.\u0026#34; ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/postgresql16-docker-oneclick-deployment/","summary":"\u003ch1 id=\"postgresql-16-docker-éƒ¨ç½²æœ€ä½³å®è·µ---ä¸€é”®è„šæœ¬ç‰ˆ\"\u003ePostgreSQL 16 Docker éƒ¨ç½²æœ€ä½³å®è·µ - ä¸€é”®è„šæœ¬ç‰ˆ\u003c/h1\u003e\n\u003cp\u003eæœ¬æ–‡æä¾›ä¸€ä»½\u003cstrong\u003eå¯ç›´æ¥å¤åˆ¶æ‰§è¡Œ\u003c/strong\u003eçš„å‘½ä»¤è¡Œè„šæœ¬ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®Œæˆ PostgreSQL 16 çš„ Docker éƒ¨ç½²ã€‚\nåŒæ—¶é™„å¸¦å¸¸è§é—®é¢˜æ’æŸ¥ï¼Œç¡®ä¿æ–°æ‰‹ä¹Ÿèƒ½é¡ºåˆ©å®Œæˆã€‚\u003c/p\u003e\n\u003ch1 id=\"-é…ç½®è¯´æ˜ç®€è¦\"\u003eğŸ“ é…ç½®è¯´æ˜ï¼ˆç®€è¦ï¼‰\u003c/h1\u003e\n\u003ch2 id=\"åŸºç¡€ä¿¡æ¯\"\u003eåŸºç¡€ä¿¡æ¯\u003c/h2\u003e\n\u003cp\u003e\u0026ndash;name postgres16ï¼šå®¹å™¨åç§°\u003c/p\u003e\n\u003cp\u003e\u0026ndash;restart=unless-stoppedï¼šå¼€æœºè‡ªå¯ï¼Œé™¤éæ‰‹åŠ¨åœæ­¢\u003c/p\u003e\n\u003cp\u003e\u0026ndash;shm-size=128mï¼šå…±äº«å†…å­˜å¤§å°ï¼Œé¿å…å¤§æŸ¥è¯¢æŠ¥é”™\u003c/p\u003e","title":""},{"content":"å¸¸ç”¨å…¬å…± DNS æä¾›å•†æ¸…å•ï¼ˆIPv4 / IPv6 / DoH / DoTï¼‰ æœ¬æ–‡æ•´ç†äº†å›½å¤–å¸¸ç”¨çš„å…¬å…± DNS æä¾›å•†ï¼Œæ¶µç›– IPv4ã€IPv6ã€DoHï¼ˆDNS over HTTPSï¼‰ã€DoTï¼ˆDNS over TLSï¼‰ç­‰æ¥å…¥æ–¹å¼ï¼Œæ–¹ä¾¿åœ¨ä¸åŒåœºæ™¯ä¸‹å¿«é€ŸæŸ¥é˜…å’Œé…ç½®ã€‚\nğŸŒ IPv4 DNS Cloudflare DNS æ ‡å‡†ï¼š1.1.1.1 / 1.0.0.1 ä»…é˜»æ­¢æ¶æ„è½¯ä»¶ï¼š1.1.1.2 / 1.0.0.2 é˜»æ­¢æ¶æ„è½¯ä»¶å’Œæˆäººå†…å®¹ï¼š1.1.1.3 / 1.0.0.3 Quad9 DNS æ ‡å‡†ï¼š9.9.9.9 / 149.112.112.112 ä¸å®‰å…¨ï¼ˆæ— è¿‡æ»¤ï¼‰ï¼š9.9.9.10 / 149.112.112.10 ECS æ”¯æŒï¼š9.9.9.11 / 149.112.112.11 OpenDNS (Cisco) æ ‡å‡†ï¼š208.67.222.222 / 208.67.220.220 FamilyShieldï¼ˆæˆäººå†…å®¹è¿‡æ»¤ï¼‰ï¼š208.67.222.123 / 208.67.220.123 Sandboxï¼ˆæ— è¿‡æ»¤ï¼‰ï¼š208.67.222.2 / 208.67.220.2 Comodo Secure DNS 8.26.56.26 / 8.20.247.20 Yandex DNS (ä¿„ç½—æ–¯) Basicï¼ˆæ— è¿‡æ»¤ï¼‰ï¼š77.88.8.8 / 77.88.8.1 Safeï¼ˆå®‰å…¨è¿‡æ»¤ï¼‰ï¼š77.88.8.88 / 77.88.8.2 å®¶åº­ï¼ˆæˆäººå†…å®¹è¿‡æ»¤ï¼‰ï¼š77.88.8.3 / 77.88.8.7 Quad101 (å°æ¹¾å­¦æœ¯ç½‘ç»œ) 101.101.101.101 / 101.102.103.104 ğŸŒ IPv6 DNS Cloudflare DNS æ ‡å‡†ï¼š2606:4700:4700::1111 / 2606:4700:4700::1001 ä»…é˜»æ­¢æ¶æ„è½¯ä»¶ï¼š2606:4700:4700::1112 / 2606:4700:4700::1002 é˜»æ­¢æ¶æ„è½¯ä»¶å’Œæˆäººå†…å®¹ï¼š2606:4700:4700::1113 / 2606:4700:4700::1003 Quad9 DNS æ ‡å‡†ï¼š2620:fe::fe / 2620:fe::9 ä¸å®‰å…¨ï¼ˆæ— è¿‡æ»¤ï¼‰ï¼š2620:fe::10 / 2620:fe::fe:10 ECS æ”¯æŒï¼š2620:fe::11 / 2620:fe::fe:11 OpenDNS (Cisco) æ ‡å‡†ï¼š2620:119:35::35 / 2620:119:53::53 Sandboxï¼ˆæ— è¿‡æ»¤ï¼‰ï¼š2620:0:ccc::2 / 2620:0:ccd::2 Yandex DNS (ä¿„ç½—æ–¯) Basicï¼ˆæ— è¿‡æ»¤ï¼‰ï¼š2a02:6b8::feed:0ff / 2a02:6b8:0:1::feed:0ff Safeï¼ˆå®‰å…¨è¿‡æ»¤ï¼‰ï¼š2a02:6b8::feed:bad / 2a02:6b8:0:1::feed:bad å®¶åº­ï¼ˆæˆäººå†…å®¹è¿‡æ»¤ï¼‰ï¼š2a02:6b8::feed:a11 / 2a02:6b8:0:1::feed:a11 Quad101 (å°æ¹¾å­¦æœ¯ç½‘ç»œ) 2001:de4::101 / 2001:de4::102 ğŸ”’ DoHï¼ˆDNS over HTTPSï¼‰ Cloudflare DNS æ ‡å‡†ï¼šhttps://dns.cloudflare.com/dns-query ä»…é˜»æ­¢æ¶æ„è½¯ä»¶ï¼šhttps://security.cloudflare-dns.com/dns-query é˜»æ­¢æ¶æ„è½¯ä»¶å’Œæˆäººå†…å®¹ï¼šhttps://family.cloudflare-dns.com/dns-query Quad9 DNS æ ‡å‡†ï¼šhttps://dns.quad9.net/dns-query ä¸å®‰å…¨ï¼ˆæ— è¿‡æ»¤ï¼‰ï¼šhttps://dns10.quad9.net/dns-query ECS æ”¯æŒï¼šhttps://dns11.quad9.net/dns-query OpenDNS (Cisco) æ ‡å‡†ï¼šhttps://doh.opendns.com/dns-query FamilyShieldï¼šhttps://doh.familyshield.opendns.com/dns-query Sandboxï¼šhttps://doh.sandbox.opendns.com/dns-query Yandex DNS (ä¿„ç½—æ–¯) Basicï¼šhttps://common.dot.dns.yandex.net/dns-query Safeï¼šhttps://safe.dot.dns.yandex.net/dns-query å®¶åº­ï¼šhttps://family.dot.dns.yandex.net/dns-query IIJ.JP DNS (æ—¥æœ¬) https://public.dns.iij.jp/dns-query ğŸ”’ DoTï¼ˆDNS over TLSï¼‰ Cloudflare DNS æ ‡å‡†ï¼štls://one.one.one.one ä»…é˜»æ­¢æ¶æ„è½¯ä»¶ï¼štls://security.cloudflare-dns.com é˜»æ­¢æ¶æ„è½¯ä»¶å’Œæˆäººå†…å®¹ï¼štls://family.cloudflare-dns.com Quad9 DNS æ ‡å‡†ï¼štls://dns.quad9.net ä¸å®‰å…¨ï¼ˆæ— è¿‡æ»¤ï¼‰ï¼štls://dns10.quad9.net ECS æ”¯æŒï¼štls://dns11.quad9.net OpenDNS (Cisco) æ ‡å‡†ï¼štls://dns.opendns.com FamilyShieldï¼štls://familyshield.opendns.com Sandboxï¼štls://sandbox.opendns.com Yandex DNS (ä¿„ç½—æ–¯) Basicï¼štls://common.dot.dns.yandex.net Safeï¼štls://safe.dot.dns.yandex.net å®¶åº­ï¼štls://family.dot.dns.yandex.net IIJ.JP DNS (æ—¥æœ¬) tls://public.dns.iij.jp Quad101 (å°æ¹¾å­¦æœ¯ç½‘ç»œ) tls://101.101.101.101 âš ï¸ å…è´£å£°æ˜ æœ¬æ–‡ä»…ä¸º å­¦ä¹ ä¸ç ”ç©¶ æ•´ç†çš„å…¬å…± DNS ä¿¡æ¯ï¼Œæ—¨åœ¨æ–¹ä¾¿å¿«é€ŸæŸ¥é˜…ã€‚ ä¸ä¿è¯æ‰€æœ‰æœåŠ¡åœ¨ä»»ä½•åœ°åŒºå‡å¯ç”¨ï¼Œäº¦ä¸ä¿è¯å…¶é•¿æœŸç¨³å®šæ€§ã€‚ ä½¿ç”¨è€…éœ€è‡ªè¡Œç¡®ä¿å…¶è¡Œä¸ºç¬¦åˆæ‰€åœ¨åœ°åŒºçš„æ³•å¾‹æ³•è§„ä¸ç½‘ç»œæ”¿ç­–ã€‚ ä½œè€…ä¸å¯¹å› ä½¿ç”¨æœ¬æ–‡ä¿¡æ¯è€Œäº§ç”Ÿçš„ä»»ä½•åæœæ‰¿æ‹…è´£ä»»ã€‚ ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/public-dns-providers-reference/","summary":"\u003ch1 id=\"å¸¸ç”¨å…¬å…±-dns-æä¾›å•†æ¸…å•ipv4--ipv6--doh--dot\"\u003eå¸¸ç”¨å…¬å…± DNS æä¾›å•†æ¸…å•ï¼ˆIPv4 / IPv6 / DoH / DoTï¼‰\u003c/h1\u003e\n\u003cp\u003eæœ¬æ–‡æ•´ç†äº†å›½å¤–å¸¸ç”¨çš„å…¬å…± DNS æä¾›å•†ï¼Œæ¶µç›– IPv4ã€IPv6ã€DoHï¼ˆDNS over HTTPSï¼‰ã€DoTï¼ˆDNS over TLSï¼‰ç­‰æ¥å…¥æ–¹å¼ï¼Œæ–¹ä¾¿åœ¨ä¸åŒåœºæ™¯ä¸‹å¿«é€ŸæŸ¥é˜…å’Œé…ç½®ã€‚\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"-ipv4-dns\"\u003eğŸŒ IPv4 DNS\u003c/h2\u003e\n\u003ch3 id=\"cloudflare-dns\"\u003eCloudflare DNS\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eæ ‡å‡†ï¼š\u003ccode\u003e1.1.1.1\u003c/code\u003e / \u003ccode\u003e1.0.0.1\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eä»…é˜»æ­¢æ¶æ„è½¯ä»¶ï¼š\u003ccode\u003e1.1.1.2\u003c/code\u003e / \u003ccode\u003e1.0.0.2\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eé˜»æ­¢æ¶æ„è½¯ä»¶å’Œæˆäººå†…å®¹ï¼š\u003ccode\u003e1.1.1.3\u003c/code\u003e / \u003ccode\u003e1.0.0.3\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"quad9-dns\"\u003eQuad9 DNS\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eæ ‡å‡†ï¼š\u003ccode\u003e9.9.9.9\u003c/code\u003e / \u003ccode\u003e149.112.112.112\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eä¸å®‰å…¨ï¼ˆæ— è¿‡æ»¤ï¼‰ï¼š\u003ccode\u003e9.9.9.10\u003c/code\u003e / \u003ccode\u003e149.112.112.10\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eECS æ”¯æŒï¼š\u003ccode\u003e9.9.9.11\u003c/code\u003e / \u003ccode\u003e149.112.112.11\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"opendns-cisco\"\u003eOpenDNS (Cisco)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eæ ‡å‡†ï¼š\u003ccode\u003e208.67.222.222\u003c/code\u003e / \u003ccode\u003e208.67.220.220\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eFamilyShieldï¼ˆæˆäººå†…å®¹è¿‡æ»¤ï¼‰ï¼š\u003ccode\u003e208.67.222.123\u003c/code\u003e / \u003ccode\u003e208.67.220.123\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eSandboxï¼ˆæ— è¿‡æ»¤ï¼‰ï¼š\u003ccode\u003e208.67.222.2\u003c/code\u003e / \u003ccode\u003e208.67.220.2\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"comodo-secure-dns\"\u003eComodo Secure DNS\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e8.26.56.26\u003c/code\u003e / \u003ccode\u003e8.20.247.20\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"yandex-dns-ä¿„ç½—æ–¯\"\u003eYandex DNS (ä¿„ç½—æ–¯)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eBasicï¼ˆæ— è¿‡æ»¤ï¼‰ï¼š\u003ccode\u003e77.88.8.8\u003c/code\u003e / \u003ccode\u003e77.88.8.1\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eSafeï¼ˆå®‰å…¨è¿‡æ»¤ï¼‰ï¼š\u003ccode\u003e77.88.8.88\u003c/code\u003e / \u003ccode\u003e77.88.8.2\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eå®¶åº­ï¼ˆæˆäººå†…å®¹è¿‡æ»¤ï¼‰ï¼š\u003ccode\u003e77.88.8.3\u003c/code\u003e / \u003ccode\u003e77.88.8.7\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"quad101-å°æ¹¾å­¦æœ¯ç½‘ç»œ\"\u003eQuad101 (å°æ¹¾å­¦æœ¯ç½‘ç»œ)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e101.101.101.101\u003c/code\u003e / \u003ccode\u003e101.102.103.104\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"-ipv6-dns\"\u003eğŸŒ IPv6 DNS\u003c/h2\u003e\n\u003ch3 id=\"cloudflare-dns-1\"\u003eCloudflare DNS\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eæ ‡å‡†ï¼š\u003ccode\u003e2606:4700:4700::1111\u003c/code\u003e / \u003ccode\u003e2606:4700:4700::1001\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eä»…é˜»æ­¢æ¶æ„è½¯ä»¶ï¼š\u003ccode\u003e2606:4700:4700::1112\u003c/code\u003e / \u003ccode\u003e2606:4700:4700::1002\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eé˜»æ­¢æ¶æ„è½¯ä»¶å’Œæˆäººå†…å®¹ï¼š\u003ccode\u003e2606:4700:4700::1113\u003c/code\u003e / \u003ccode\u003e2606:4700:4700::1003\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"quad9-dns-1\"\u003eQuad9 DNS\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eæ ‡å‡†ï¼š\u003ccode\u003e2620:fe::fe\u003c/code\u003e / \u003ccode\u003e2620:fe::9\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eä¸å®‰å…¨ï¼ˆæ— è¿‡æ»¤ï¼‰ï¼š\u003ccode\u003e2620:fe::10\u003c/code\u003e / \u003ccode\u003e2620:fe::fe:10\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eECS æ”¯æŒï¼š\u003ccode\u003e2620:fe::11\u003c/code\u003e / \u003ccode\u003e2620:fe::fe:11\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"opendns-cisco-1\"\u003eOpenDNS (Cisco)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eæ ‡å‡†ï¼š\u003ccode\u003e2620:119:35::35\u003c/code\u003e / \u003ccode\u003e2620:119:53::53\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eSandboxï¼ˆæ— è¿‡æ»¤ï¼‰ï¼š\u003ccode\u003e2620:0:ccc::2\u003c/code\u003e / \u003ccode\u003e2620:0:ccd::2\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"yandex-dns-ä¿„ç½—æ–¯-1\"\u003eYandex DNS (ä¿„ç½—æ–¯)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eBasicï¼ˆæ— è¿‡æ»¤ï¼‰ï¼š\u003ccode\u003e2a02:6b8::feed:0ff\u003c/code\u003e / \u003ccode\u003e2a02:6b8:0:1::feed:0ff\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eSafeï¼ˆå®‰å…¨è¿‡æ»¤ï¼‰ï¼š\u003ccode\u003e2a02:6b8::feed:bad\u003c/code\u003e / \u003ccode\u003e2a02:6b8:0:1::feed:bad\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eå®¶åº­ï¼ˆæˆäººå†…å®¹è¿‡æ»¤ï¼‰ï¼š\u003ccode\u003e2a02:6b8::feed:a11\u003c/code\u003e / \u003ccode\u003e2a02:6b8:0:1::feed:a11\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"quad101-å°æ¹¾å­¦æœ¯ç½‘ç»œ-1\"\u003eQuad101 (å°æ¹¾å­¦æœ¯ç½‘ç»œ)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e2001:de4::101\u003c/code\u003e / \u003ccode\u003e2001:de4::102\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"-dohdns-over-https\"\u003eğŸ”’ DoHï¼ˆDNS over HTTPSï¼‰\u003c/h2\u003e\n\u003ch3 id=\"cloudflare-dns-2\"\u003eCloudflare DNS\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eæ ‡å‡†ï¼šhttps://dns.cloudflare.com/dns-query\u003c/li\u003e\n\u003cli\u003eä»…é˜»æ­¢æ¶æ„è½¯ä»¶ï¼šhttps://security.cloudflare-dns.com/dns-query\u003c/li\u003e\n\u003cli\u003eé˜»æ­¢æ¶æ„è½¯ä»¶å’Œæˆäººå†…å®¹ï¼šhttps://family.cloudflare-dns.com/dns-query\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"quad9-dns-2\"\u003eQuad9 DNS\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eæ ‡å‡†ï¼šhttps://dns.quad9.net/dns-query\u003c/li\u003e\n\u003cli\u003eä¸å®‰å…¨ï¼ˆæ— è¿‡æ»¤ï¼‰ï¼šhttps://dns10.quad9.net/dns-query\u003c/li\u003e\n\u003cli\u003eECS æ”¯æŒï¼šhttps://dns11.quad9.net/dns-query\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"opendns-cisco-2\"\u003eOpenDNS (Cisco)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eæ ‡å‡†ï¼šhttps://doh.opendns.com/dns-query\u003c/li\u003e\n\u003cli\u003eFamilyShieldï¼šhttps://doh.familyshield.opendns.com/dns-query\u003c/li\u003e\n\u003cli\u003eSandboxï¼šhttps://doh.sandbox.opendns.com/dns-query\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"yandex-dns-ä¿„ç½—æ–¯-2\"\u003eYandex DNS (ä¿„ç½—æ–¯)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eBasicï¼šhttps://common.dot.dns.yandex.net/dns-query\u003c/li\u003e\n\u003cli\u003eSafeï¼šhttps://safe.dot.dns.yandex.net/dns-query\u003c/li\u003e\n\u003cli\u003eå®¶åº­ï¼šhttps://family.dot.dns.yandex.net/dns-query\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"iijjp-dns-æ—¥æœ¬\"\u003eIIJ.JP DNS (æ—¥æœ¬)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://public.dns.iij.jp/dns-query\"\u003ehttps://public.dns.iij.jp/dns-query\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"-dotdns-over-tls\"\u003eğŸ”’ DoTï¼ˆDNS over TLSï¼‰\u003c/h2\u003e\n\u003ch3 id=\"cloudflare-dns-3\"\u003eCloudflare DNS\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eæ ‡å‡†ï¼š\u003ccode\u003etls://one.one.one.one\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eä»…é˜»æ­¢æ¶æ„è½¯ä»¶ï¼š\u003ccode\u003etls://security.cloudflare-dns.com\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eé˜»æ­¢æ¶æ„è½¯ä»¶å’Œæˆäººå†…å®¹ï¼š\u003ccode\u003etls://family.cloudflare-dns.com\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"quad9-dns-3\"\u003eQuad9 DNS\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eæ ‡å‡†ï¼š\u003ccode\u003etls://dns.quad9.net\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eä¸å®‰å…¨ï¼ˆæ— è¿‡æ»¤ï¼‰ï¼š\u003ccode\u003etls://dns10.quad9.net\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eECS æ”¯æŒï¼š\u003ccode\u003etls://dns11.quad9.net\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"opendns-cisco-3\"\u003eOpenDNS (Cisco)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eæ ‡å‡†ï¼š\u003ccode\u003etls://dns.opendns.com\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eFamilyShieldï¼š\u003ccode\u003etls://familyshield.opendns.com\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eSandboxï¼š\u003ccode\u003etls://sandbox.opendns.com\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"yandex-dns-ä¿„ç½—æ–¯-3\"\u003eYandex DNS (ä¿„ç½—æ–¯)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eBasicï¼š\u003ccode\u003etls://common.dot.dns.yandex.net\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eSafeï¼š\u003ccode\u003etls://safe.dot.dns.yandex.net\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eå®¶åº­ï¼š\u003ccode\u003etls://family.dot.dns.yandex.net\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"iijjp-dns-æ—¥æœ¬-1\"\u003eIIJ.JP DNS (æ—¥æœ¬)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003etls://public.dns.iij.jp\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"quad101-å°æ¹¾å­¦æœ¯ç½‘ç»œ-2\"\u003eQuad101 (å°æ¹¾å­¦æœ¯ç½‘ç»œ)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003etls://101.101.101.101\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"-å…è´£å£°æ˜\"\u003eâš ï¸ å…è´£å£°æ˜\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eæœ¬æ–‡ä»…ä¸º \u003cstrong\u003eå­¦ä¹ ä¸ç ”ç©¶\u003c/strong\u003e æ•´ç†çš„å…¬å…± DNS ä¿¡æ¯ï¼Œæ—¨åœ¨æ–¹ä¾¿å¿«é€ŸæŸ¥é˜…ã€‚\u003c/li\u003e\n\u003cli\u003eä¸ä¿è¯æ‰€æœ‰æœåŠ¡åœ¨ä»»ä½•åœ°åŒºå‡å¯ç”¨ï¼Œäº¦ä¸ä¿è¯å…¶é•¿æœŸç¨³å®šæ€§ã€‚\u003c/li\u003e\n\u003cli\u003eä½¿ç”¨è€…éœ€è‡ªè¡Œç¡®ä¿å…¶è¡Œä¸ºç¬¦åˆæ‰€åœ¨åœ°åŒºçš„æ³•å¾‹æ³•è§„ä¸ç½‘ç»œæ”¿ç­–ã€‚\u003c/li\u003e\n\u003cli\u003eä½œè€…ä¸å¯¹å› ä½¿ç”¨æœ¬æ–‡ä¿¡æ¯è€Œäº§ç”Ÿçš„ä»»ä½•åæœæ‰¿æ‹…è´£ä»»ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e","title":""},{"content":"Disclaimer / å…è´£å£°æ˜ This project and all related documentation are provided for educational and research purposes only.\nThey are intended to demonstrate Docker deployment practices and system configuration examples.\nThe author does not encourage, endorse, or promote any use of the software or configurations that may violate local laws or regulations. Users are solely responsible for ensuring that their usage complies with all applicable laws, policies, and service agreements in their jurisdiction. The author assumes no liability for any misuse, damages, or legal consequences arising from the use of this content. æœ¬é¡¹ç›®åŠç›¸å…³æ–‡æ¡£ä»…ç”¨äº å­¦ä¹ å’Œç ”ç©¶ç›®çš„ï¼Œæ—¨åœ¨æ¼”ç¤º Docker éƒ¨ç½²ä¸ç³»ç»Ÿé…ç½®ç¤ºä¾‹ã€‚\nä½œè€…ä¸é¼“åŠ±ã€ä¸æ”¯æŒã€ä¹Ÿä¸æ¨å¹¿ä»»ä½•å¯èƒ½è¿åå½“åœ°æ³•å¾‹æ³•è§„çš„ç”¨é€”ã€‚ ä½¿ç”¨è€…éœ€è‡ªè¡Œç¡®ä¿å…¶ä½¿ç”¨è¡Œä¸ºç¬¦åˆæ‰€åœ¨åœ°åŒºçš„æ³•å¾‹ã€æ”¿ç­–åŠæœåŠ¡æ¡æ¬¾ã€‚ å› ä½¿ç”¨æœ¬å†…å®¹è€Œäº§ç”Ÿçš„ä»»ä½•è¯¯ç”¨ã€æŸå®³æˆ–æ³•å¾‹åæœï¼Œä½œè€…æ¦‚ä¸è´Ÿè´£ã€‚ # V2RayA Docker éƒ¨ç½²æœ€ä½³å®è·µ - ä¸€é”®è„šæœ¬ç‰ˆ æœ¬æ–‡æä¾›ä¸€ä»½**å¯ç›´æ¥å¤åˆ¶æ‰§è¡Œ**çš„å‘½ä»¤è¡Œè„šæœ¬ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®Œæˆ V2RayA çš„ Docker éƒ¨ç½²ã€‚ V2RayA æ˜¯ä¸€ä¸ªåŸºäº Web çš„ V2Ray/Xray ç®¡ç†é¢æ¿ã€‚ --- ## ğŸš€ ä¸€é”®éƒ¨ç½²è„šæœ¬ ```bash #!/bin/bash set -e docker run -d \\ --restart=always \\ --privileged \\ --network=host \\ --name v2raya \\ -e V2RAYA_LOG_FILE=/tmp/v2raya.log \\ -e V2RAYA_V2RAY_BIN=/usr/local/bin/xray \\ -e V2RAYA_NFTABLES_SUPPORT=off \\ -e IPTABLES_MODE=legacy \\ -v /lib/modules:/lib/modules:ro \\ -v /etc/resolv.conf:/etc/resolv.conf \\ -v /etc/v2raya:/etc/v2raya \\ mzz2017/v2raya echo \u0026#34;âœ… V2RayA å·²å¯åŠ¨å®Œæˆ\u0026#34; echo \u0026#34;ğŸ‘‰ Web ç®¡ç†ç•Œé¢ï¼šhttp://\u0026lt;æœåŠ¡å™¨IP\u0026gt;:2017\u0026#34; ğŸ“ é…ç½®è¯´æ˜ è¿è¡Œæ¨¡å¼ï¼š\u0026ndash;network=hostï¼Œç›´æ¥ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œ\næƒé™ï¼š\u0026ndash;privilegedï¼Œéœ€è¦è®¿é—®å†…æ ¸ç½‘ç»œæ¨¡å—\nç¯å¢ƒå˜é‡ï¼š\nV2RAYA_LOG_FILEï¼šæ—¥å¿—è·¯å¾„\nV2RAYA_V2RAY_BINï¼šXray äºŒè¿›åˆ¶è·¯å¾„\nIPTABLES_MODE=legacyï¼šå…¼å®¹ iptables æ¨¡å¼\næŒ‚è½½ç›®å½•ï¼š\n/etc/v2rayaï¼šé…ç½®æ–‡ä»¶\n/lib/modulesï¼šå†…æ ¸æ¨¡å—åªè¯»æŒ‚è½½\n","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/v2raya-docker-oneclick-deployment/","summary":"\u003ch2 id=\"disclaimer--å…è´£å£°æ˜\"\u003eDisclaimer / å…è´£å£°æ˜\u003c/h2\u003e\n\u003cp\u003eThis project and all related documentation are provided \u003cstrong\u003efor educational and research purposes only\u003c/strong\u003e.\u003cbr\u003e\nThey are intended to demonstrate Docker deployment practices and system configuration examples.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe author does \u003cstrong\u003enot\u003c/strong\u003e encourage, endorse, or promote any use of the software or configurations that may violate local laws or regulations.\u003c/li\u003e\n\u003cli\u003eUsers are solely responsible for ensuring that their usage complies with all applicable laws, policies, and service agreements in their jurisdiction.\u003c/li\u003e\n\u003cli\u003eThe author assumes \u003cstrong\u003eno liability\u003c/strong\u003e for any misuse, damages, or legal consequences arising from the use of this content.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eæœ¬é¡¹ç›®åŠç›¸å…³æ–‡æ¡£ä»…ç”¨äº \u003cstrong\u003eå­¦ä¹ å’Œç ”ç©¶ç›®çš„\u003c/strong\u003eï¼Œæ—¨åœ¨æ¼”ç¤º Docker éƒ¨ç½²ä¸ç³»ç»Ÿé…ç½®ç¤ºä¾‹ã€‚\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eä½œè€…ä¸é¼“åŠ±ã€ä¸æ”¯æŒã€ä¹Ÿä¸æ¨å¹¿ä»»ä½•å¯èƒ½è¿åå½“åœ°æ³•å¾‹æ³•è§„çš„ç”¨é€”ã€‚\u003c/li\u003e\n\u003cli\u003eä½¿ç”¨è€…éœ€è‡ªè¡Œç¡®ä¿å…¶ä½¿ç”¨è¡Œä¸ºç¬¦åˆæ‰€åœ¨åœ°åŒºçš„æ³•å¾‹ã€æ”¿ç­–åŠæœåŠ¡æ¡æ¬¾ã€‚\u003c/li\u003e\n\u003cli\u003eå› ä½¿ç”¨æœ¬å†…å®¹è€Œäº§ç”Ÿçš„ä»»ä½•è¯¯ç”¨ã€æŸå®³æˆ–æ³•å¾‹åæœï¼Œä½œè€…æ¦‚ä¸è´Ÿè´£ã€‚\u003c/li\u003e\n\u003cli\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-markdown\" data-lang=\"markdown\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"gh\"\u003e# V2RayA Docker éƒ¨ç½²æœ€ä½³å®è·µ - ä¸€é”®è„šæœ¬ç‰ˆ\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"gh\"\u003e\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eæœ¬æ–‡æä¾›ä¸€ä»½**å¯ç›´æ¥å¤åˆ¶æ‰§è¡Œ**çš„å‘½ä»¤è¡Œè„šæœ¬ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®Œæˆ V2RayA çš„ Docker éƒ¨ç½²ã€‚  \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eV2RayA æ˜¯ä¸€ä¸ªåŸºäº Web çš„ V2Ray/Xray ç®¡ç†é¢æ¿ã€‚\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e---\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"gu\"\u003e## ğŸš€ ä¸€é”®éƒ¨ç½²è„šæœ¬\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"gu\"\u003e\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e```bash\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"gh\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"gh\"\u003e\u003c/span\u003eset -e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edocker run -d \\\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  --restart=always \\\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  --privileged \\\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  --network=host \\\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  --name v2raya \\\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  -e V2RAYA_LOG_FILE=/tmp/v2raya.log \\\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  -e V2RAYA_V2RAY_BIN=/usr/local/bin/xray \\\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  -e V2RAYA_NFTABLES_SUPPORT=off \\\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  -e IPTABLES_MODE=legacy \\\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  -v /lib/modules:/lib/modules:ro \\\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  -v /etc/resolv.conf:/etc/resolv.conf \\\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  -v /etc/v2raya:/etc/v2raya \\\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  mzz2017/v2raya\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eecho \u0026#34;âœ… V2RayA å·²å¯åŠ¨å®Œæˆ\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003eecho \u0026#34;ğŸ‘‰ Web ç®¡ç†ç•Œé¢ï¼šhttp://\u0026lt;æœåŠ¡å™¨IP\u0026gt;:2017\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eğŸ“ é…ç½®è¯´æ˜\nè¿è¡Œæ¨¡å¼ï¼š\u0026ndash;network=hostï¼Œç›´æ¥ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œ\u003c/p\u003e","title":""}]