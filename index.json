[{"content":"ğŸ“Œ ç®€ä»‹ æœ¬æ–‡åˆ†äº«ä¸€ä¸ª PowerShell è„šæœ¬ï¼Œç”¨äº è‡ªåŠ¨æ¸…ç†æ— æ•ˆçš„ Windows é˜²ç«å¢™å…¥ç«™è§„åˆ™ã€‚\nè„šæœ¬ä¼šåœ¨æ‰§è¡Œå‰è‡ªåŠ¨å¤‡ä»½å½“å‰è§„åˆ™ï¼Œå¹¶åœ¨æ—¥å¿—ä¸­è¯¦ç»†è®°å½•æ¯ä¸€æ­¥æ“ä½œï¼Œç¡®ä¿å¯è¿½æº¯æ€§å’Œå®‰å…¨æ€§ã€‚\nâš ï¸ æ³¨æ„ï¼šæ—¥å¿—ä¸­å¯èƒ½åŒ…å«è§„åˆ™åç§°å’Œç¨‹åºè·¯å¾„ã€‚\nğŸ›  åŠŸèƒ½è¯´æ˜ è‡ªåŠ¨ç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„é˜²ç«å¢™è§„åˆ™å¤‡ä»½æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶ã€‚ å®šä¹‰ç³»ç»Ÿè§„åˆ™ç™½åå•ï¼Œé¿å…è¯¯åˆ å…³é”®è§„åˆ™ã€‚ æ£€æµ‹å…¥ç«™è§„åˆ™å¯¹åº”çš„ç¨‹åºè·¯å¾„æ˜¯å¦å­˜åœ¨ã€‚ åˆ é™¤æ— æ•ˆè§„åˆ™ï¼ˆéç³»ç»Ÿã€éæ‰‹åŠ¨åˆ›å»ºï¼‰ã€‚ åœ¨æ—¥å¿—æœ«å°¾åˆ—å‡ºæ‰€æœ‰æ‰‹åŠ¨è§„åˆ™ï¼Œæ–¹ä¾¿äººå·¥æ£€æŸ¥ã€‚ ğŸ’» è„šæœ¬ä»£ç  \u0026lt;# .SYNOPSIS è‡ªåŠ¨æ¸…ç†æ— æ•ˆçš„ Windows é˜²ç«å¢™å…¥ç«™è§„åˆ™ï¼Œå¹¶å¤‡ä»½å½“å‰è§„åˆ™å’Œè®°å½•è¯¦ç»†æ—¥å¿—ã€‚ .NOTE æ—¥å¿—ä¸­ä¼šè®°å½•è§„åˆ™åç§°å’Œç¨‹åºè·¯å¾„ã€‚ #\u0026gt; # 1. ç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„å¤‡ä»½æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶ $timestamp = Get-Date -Format \u0026#34;yyyyMMdd_HHmmss\u0026#34; $backupPath = \u0026#34;C:\\Path\\To\\Backup\\firewall_backup_$timestamp.pol\u0026#34; $logPath = \u0026#34;C:\\Path\\To\\Logs\\firewall_cleanup_$timestamp.log\u0026#34; # 2. å¤‡ä»½å½“å‰é˜²ç«å¢™è§„åˆ™ netsh advfirewall export $backupPath | Out-Null Write-Output \u0026#34;[$(Get-Date -Format \u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;)] é˜²ç«å¢™è§„åˆ™å·²å¤‡ä»½åˆ°: $backupPath\u0026#34; | Tee-Object -FilePath $logPath -Append # 3. å®šä¹‰ç³»ç»Ÿè§„åˆ™ç™½åå•ï¼ˆé˜²æ­¢è¯¯åˆ å…³é”®ç³»ç»Ÿè§„åˆ™ï¼‰ $systemRules = @(\u0026#34;*Windows*\u0026#34;, \u0026#34;*System*\u0026#34;, \u0026#34;*svchost*\u0026#34;, \u0026#34;*lsass*\u0026#34;, \u0026#34;*wininit*\u0026#34;) $systemPaths = @(\u0026#34;*\\Windows\\*\u0026#34;, \u0026#34;*\\Program Files\\*\u0026#34;, \u0026#34;*\\Program Files (x86)\\*\u0026#34;) # 4. è·å–æ‰€æœ‰æ‰‹åŠ¨åˆ›å»ºçš„è§„åˆ™ï¼ˆPersistentStoreï¼‰ $manualRules = Get-NetFirewallRule | Where-Object { $_.PolicyStore -eq \u0026#34;PersistentStore\u0026#34; } # 5. æ¸…ç†æ— æ•ˆè§„åˆ™ï¼ˆéç³»ç»Ÿ+éæ‰‹åŠ¨ï¼‰ $rules = Get-NetFirewallRule -Direction Inbound | Where-Object { $_.Enabled -eq \u0026#39;True\u0026#39; } foreach ($rule in $rules) { $program = ($rule | Get-NetFirewallApplicationFilter).Program if ($program -and (Test-Path $program) -eq $false) { # æ£€æŸ¥æ˜¯å¦ä¸ºç³»ç»Ÿè§„åˆ™æˆ–æ‰‹åŠ¨è§„åˆ™ $isSystemRule = $systemRules -contains $rule.Name -or ($program -and ($systemPaths | Where-Object { $program -like $_ })) $isManualRule = ($rule.PolicyStore -eq \u0026#34;PersistentStore\u0026#34;) if (-not $isSystemRule -and -not $isManualRule) { $logMessage = \u0026#34;[$(Get-Date -Format \u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;)] åˆ é™¤æ— æ•ˆè§„åˆ™: $($rule.Name) (ç¨‹åºè·¯å¾„: $program)\u0026#34; Write-Output $logMessage | Tee-Object -FilePath $logPath -Append $rule | Remove-NetFirewallRule -Confirm:$false } elseif ($isSystemRule) { $logMessage = \u0026#34;[$(Get-Date -Format \u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;)] è·³è¿‡ç³»ç»Ÿè§„åˆ™: $($rule.Name) (ç¨‹åºè·¯å¾„: $program)\u0026#34; Write-Output $logMessage | Tee-Object -FilePath $logPath -Append } elseif ($isManualRule) { $logMessage = \u0026#34;[$(Get-Date -Format \u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;)] è·³è¿‡æ‰‹åŠ¨è§„åˆ™: $($rule.Name) (ç¨‹åºè·¯å¾„: $program)\u0026#34; Write-Output $logMessage | Tee-Object -FilePath $logPath -Append } } else { $logMessage = \u0026#34;[$(Get-Date -Format \u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;)] ä¿ç•™æœ‰æ•ˆè§„åˆ™: $($rule.Name) (ç¨‹åºè·¯å¾„: $program)\u0026#34; Write-Output $logMessage | Tee-Object -FilePath $logPath -Append } } # 6. åœ¨æ—¥å¿—æœ«å°¾åˆ—å‡ºæ‰€æœ‰æ‰‹åŠ¨è§„åˆ™ Write-Output \u0026#34;`n[$(Get-Date -Format \u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;)] å½“å‰æ‰€æœ‰æ‰‹åŠ¨è§„åˆ™åˆ—è¡¨ï¼š\u0026#34; | Tee-Object -FilePath $logPath -Append $manualRules | ForEach-Object { $program = ($_ | Get-NetFirewallApplicationFilter).Program Write-Output \u0026#34; - è§„åˆ™åç§°: $($_.Name), ç¨‹åºè·¯å¾„: $program\u0026#34; | Tee-Object -FilePath $logPath -Append } Write-Output \u0026#34;[$(Get-Date -Format \u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;)] æ¸…ç†å®Œæˆï¼æ—¥å¿—å·²ä¿å­˜åˆ°: $logPath\u0026#34; | Tee-Object -FilePath $logPath -Append ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/posts/win64_firewallcleanup/","summary":"\u003ch2 id=\"-ç®€ä»‹\"\u003eğŸ“Œ ç®€ä»‹\u003c/h2\u003e\n\u003cp\u003eæœ¬æ–‡åˆ†äº«ä¸€ä¸ª PowerShell è„šæœ¬ï¼Œç”¨äº \u003cstrong\u003eè‡ªåŠ¨æ¸…ç†æ— æ•ˆçš„ Windows é˜²ç«å¢™å…¥ç«™è§„åˆ™\u003c/strong\u003eã€‚\u003cbr\u003e\nè„šæœ¬ä¼šåœ¨æ‰§è¡Œå‰è‡ªåŠ¨å¤‡ä»½å½“å‰è§„åˆ™ï¼Œå¹¶åœ¨æ—¥å¿—ä¸­è¯¦ç»†è®°å½•æ¯ä¸€æ­¥æ“ä½œï¼Œç¡®ä¿å¯è¿½æº¯æ€§å’Œå®‰å…¨æ€§ã€‚\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eâš ï¸ æ³¨æ„ï¼šæ—¥å¿—ä¸­å¯èƒ½åŒ…å«è§„åˆ™åç§°å’Œç¨‹åºè·¯å¾„ã€‚\u003c/p\u003e\u003c/blockquote\u003e\n\u003chr\u003e\n\u003ch2 id=\"-åŠŸèƒ½è¯´æ˜\"\u003eğŸ›  åŠŸèƒ½è¯´æ˜\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eè‡ªåŠ¨ç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„é˜²ç«å¢™è§„åˆ™å¤‡ä»½æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶ã€‚\u003c/li\u003e\n\u003cli\u003eå®šä¹‰ç³»ç»Ÿè§„åˆ™ç™½åå•ï¼Œé¿å…è¯¯åˆ å…³é”®è§„åˆ™ã€‚\u003c/li\u003e\n\u003cli\u003eæ£€æµ‹å…¥ç«™è§„åˆ™å¯¹åº”çš„ç¨‹åºè·¯å¾„æ˜¯å¦å­˜åœ¨ã€‚\u003c/li\u003e\n\u003cli\u003eåˆ é™¤æ— æ•ˆè§„åˆ™ï¼ˆéç³»ç»Ÿã€éæ‰‹åŠ¨åˆ›å»ºï¼‰ã€‚\u003c/li\u003e\n\u003cli\u003eåœ¨æ—¥å¿—æœ«å°¾åˆ—å‡ºæ‰€æœ‰æ‰‹åŠ¨è§„åˆ™ï¼Œæ–¹ä¾¿äººå·¥æ£€æŸ¥ã€‚\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2 id=\"-è„šæœ¬ä»£ç \"\u003eğŸ’» è„šæœ¬ä»£ç \u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-powershell\" data-lang=\"powershell\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u0026lt;#\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eSYNOPSIS\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003eè‡ªåŠ¨æ¸…ç†æ— æ•ˆçš„ Windows é˜²ç«å¢™å…¥ç«™è§„åˆ™ï¼Œå¹¶å¤‡ä»½å½“å‰è§„åˆ™å’Œè®°å½•è¯¦ç»†æ—¥å¿—ã€‚\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e.NOTE\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003eæ—¥å¿—ä¸­ä¼šè®°å½•è§„åˆ™åç§°å’Œç¨‹åºè·¯å¾„ã€‚\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 1. ç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„å¤‡ä»½æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$timestamp = Get-Date -Format \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;yyyyMMdd_HHmmss\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$backupPath = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;C:\\Path\\To\\Backup\\firewall_backup_\u003c/span\u003e$timestamp\u003cspan style=\"color:#e6db74\"\u003e.pol\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$logPath = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;C:\\Path\\To\\Logs\\firewall_cleanup_\u003c/span\u003e$timestamp\u003cspan style=\"color:#e6db74\"\u003e.log\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 2. å¤‡ä»½å½“å‰é˜²ç«å¢™è§„åˆ™\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003enetsh advfirewall export $backupPath | Out-Null\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eWrite-Output \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;[\u003c/span\u003e$(Get-Date -Format \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;\u003c/span\u003e)\u003cspan style=\"color:#e6db74\"\u003e] é˜²ç«å¢™è§„åˆ™å·²å¤‡ä»½åˆ°: \u003c/span\u003e$backupPath\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e | Tee-Object -FilePath $logPath -Append\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 3. å®šä¹‰ç³»ç»Ÿè§„åˆ™ç™½åå•ï¼ˆé˜²æ­¢è¯¯åˆ å…³é”®ç³»ç»Ÿè§„åˆ™ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$systemRules = @(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;*Windows*\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;*System*\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;*svchost*\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;*lsass*\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;*wininit*\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$systemPaths = @(\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;*\\Windows\\*\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;*\\Program Files\\*\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;*\\Program Files (x86)\\*\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 4. è·å–æ‰€æœ‰æ‰‹åŠ¨åˆ›å»ºçš„è§„åˆ™ï¼ˆPersistentStoreï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$manualRules = Get-NetFirewallRule | Where-Object { $_.PolicyStore \u003cspan style=\"color:#f92672\"\u003e-eq\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;PersistentStore\u0026#34;\u003c/span\u003e }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 5. æ¸…ç†æ— æ•ˆè§„åˆ™ï¼ˆéç³»ç»Ÿ+éæ‰‹åŠ¨ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$rules = Get-NetFirewallRule -Direction Inbound | Where-Object { $_.Enabled \u003cspan style=\"color:#f92672\"\u003e-eq\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;True\u0026#39;\u003c/span\u003e }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eforeach\u003c/span\u003e ($rule \u003cspan style=\"color:#66d9ef\"\u003ein\u003c/span\u003e $rules) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    $program = ($rule | Get-NetFirewallApplicationFilter).Program\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e ($program \u003cspan style=\"color:#f92672\"\u003e-and\u003c/span\u003e (Test-Path $program) \u003cspan style=\"color:#f92672\"\u003e-eq\u003c/span\u003e $false) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#75715e\"\u003e# æ£€æŸ¥æ˜¯å¦ä¸ºç³»ç»Ÿè§„åˆ™æˆ–æ‰‹åŠ¨è§„åˆ™\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        $isSystemRule = $systemRules \u003cspan style=\"color:#f92672\"\u003e-contains\u003c/span\u003e $rule.Name \u003cspan style=\"color:#f92672\"\u003e-or\u003c/span\u003e \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e                       ($program \u003cspan style=\"color:#f92672\"\u003e-and\u003c/span\u003e ($systemPaths | Where-Object { $program \u003cspan style=\"color:#f92672\"\u003e-like\u003c/span\u003e $_ }))\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        $isManualRule = ($rule.PolicyStore \u003cspan style=\"color:#f92672\"\u003e-eq\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;PersistentStore\u0026#34;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        \u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e (\u003cspan style=\"color:#f92672\"\u003e-not\u003c/span\u003e $isSystemRule \u003cspan style=\"color:#f92672\"\u003e-and\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e-not\u003c/span\u003e $isManualRule) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            $logMessage = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;[\u003c/span\u003e$(Get-Date -Format \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;\u003c/span\u003e)\u003cspan style=\"color:#e6db74\"\u003e] åˆ é™¤æ— æ•ˆè§„åˆ™: \u003c/span\u003e$($rule.Name)\u003cspan style=\"color:#e6db74\"\u003e (ç¨‹åºè·¯å¾„: \u003c/span\u003e$program\u003cspan style=\"color:#e6db74\"\u003e)\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            Write-Output $logMessage | Tee-Object -FilePath $logPath -Append\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            $rule | Remove-NetFirewallRule -Confirm:$false\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        } \u003cspan style=\"color:#66d9ef\"\u003eelseif\u003c/span\u003e ($isSystemRule) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            $logMessage = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;[\u003c/span\u003e$(Get-Date -Format \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;\u003c/span\u003e)\u003cspan style=\"color:#e6db74\"\u003e] è·³è¿‡ç³»ç»Ÿè§„åˆ™: \u003c/span\u003e$($rule.Name)\u003cspan style=\"color:#e6db74\"\u003e (ç¨‹åºè·¯å¾„: \u003c/span\u003e$program\u003cspan style=\"color:#e6db74\"\u003e)\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            Write-Output $logMessage | Tee-Object -FilePath $logPath -Append\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        } \u003cspan style=\"color:#66d9ef\"\u003eelseif\u003c/span\u003e ($isManualRule) {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            $logMessage = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;[\u003c/span\u003e$(Get-Date -Format \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;\u003c/span\u003e)\u003cspan style=\"color:#e6db74\"\u003e] è·³è¿‡æ‰‹åŠ¨è§„åˆ™: \u003c/span\u003e$($rule.Name)\u003cspan style=\"color:#e6db74\"\u003e (ç¨‹åºè·¯å¾„: \u003c/span\u003e$program\u003cspan style=\"color:#e6db74\"\u003e)\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e            Write-Output $logMessage | Tee-Object -FilePath $logPath -Append\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    } \u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        $logMessage = \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;[\u003c/span\u003e$(Get-Date -Format \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;\u003c/span\u003e)\u003cspan style=\"color:#e6db74\"\u003e] ä¿ç•™æœ‰æ•ˆè§„åˆ™: \u003c/span\u003e$($rule.Name)\u003cspan style=\"color:#e6db74\"\u003e (ç¨‹åºè·¯å¾„: \u003c/span\u003e$program\u003cspan style=\"color:#e6db74\"\u003e)\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e        Write-Output $logMessage | Tee-Object -FilePath $logPath -Append\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    }\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# 6. åœ¨æ—¥å¿—æœ«å°¾åˆ—å‡ºæ‰€æœ‰æ‰‹åŠ¨è§„åˆ™\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eWrite-Output \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#ae81ff\"\u003e`n\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[\u003c/span\u003e$(Get-Date -Format \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;\u003c/span\u003e)\u003cspan style=\"color:#e6db74\"\u003e] å½“å‰æ‰€æœ‰æ‰‹åŠ¨è§„åˆ™åˆ—è¡¨ï¼š\u0026#34;\u003c/span\u003e | Tee-Object -FilePath $logPath -Append\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e$manualRules | ForEach-Object {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    $program = ($_ | Get-NetFirewallApplicationFilter).Program\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    Write-Output \u003cspan style=\"color:#e6db74\"\u003e\u0026#34; - è§„åˆ™åç§°: \u003c/span\u003e$($_.Name)\u003cspan style=\"color:#e6db74\"\u003e, ç¨‹åºè·¯å¾„: \u003c/span\u003e$program\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e | Tee-Object -FilePath $logPath -Append\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eWrite-Output \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;[\u003c/span\u003e$(Get-Date -Format \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;yyyy-MM-dd HH:mm:ss\u0026#39;\u003c/span\u003e)\u003cspan style=\"color:#e6db74\"\u003e] æ¸…ç†å®Œæˆï¼æ—¥å¿—å·²ä¿å­˜åˆ°: \u003c/span\u003e$logPath\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e | Tee-Object -FilePath $logPath -Append\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"è‡ªåŠ¨æ¸…ç†æ— æ•ˆçš„ Windows é˜²ç«å¢™å…¥ç«™è§„åˆ™"},{"content":" æœ¬è„šæœ¬é€‚ç”¨äº CentOS 7 ç¯å¢ƒï¼Œè‡ªåŠ¨å®Œæˆ Docker å®‰è£…åŠé•œåƒåŠ é€Ÿé…ç½®ã€‚\nğŸ“¦ å®‰è£…è„šæœ¬å†…å®¹ #!/bin/bash # CentOS 7 ä¸€é”®å®‰è£… Docker å¹¶é…ç½®é•œåƒåŠ é€Ÿ set -e # é¢œè‰²å®šä¹‰ YELLOW=\u0026#39;\\033[1;33m\u0026#39; GREEN=\u0026#39;\\033[0;32m\u0026#39; NC=\u0026#39;\\033[0m\u0026#39; # é•œåƒåŠ é€Ÿåœ°å€ï¼ˆè¯·æ›¿æ¢ä¸ºä½ çš„ä¸“å±åŠ é€Ÿå™¨ï¼‰ DOCKER_MIRROR=\u0026#34;https://your.mirror.address/\u0026#34; echo -e \u0026#34;${YELLOW}[1/4] æ›´æ–°ç³»ç»ŸåŒ…...${NC}\u0026#34; yum clean all yum makecache fast yum update -y echo -e \u0026#34;${YELLOW}[2/4] å®‰è£… Docker CEï¼ˆå®˜æ–¹æºï¼‰...${NC}\u0026#34; # å®‰è£…å¿…è¦å·¥å…· yum install -y yum-utils device-mapper-persistent-data lvm2 # æ·»åŠ  Docker å®˜æ–¹æºï¼ˆè¯·æ ¹æ®å®é™…æƒ…å†µæ›¿æ¢ï¼‰ yum-config-manager --add-repo https://your.repo.address/docker-ce.repo # å®‰è£…æœ€æ–°ç‰ˆ Docker CE yum makecache fast yum install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin echo -e \u0026#34;${YELLOW}[3/4] é…ç½® Docker é•œåƒåŠ é€Ÿ...${NC}\u0026#34; mkdir -p /etc/docker cat \u0026gt; /etc/docker/daemon.json \u0026lt;\u0026lt; EOF { \u0026#34;registry-mirrors\u0026#34;: [ \u0026#34;${DOCKER_MIRROR}\u0026#34; ], \u0026#34;log-driver\u0026#34;: \u0026#34;json-file\u0026#34;, \u0026#34;log-opts\u0026#34;: { \u0026#34;max-size\u0026#34;: \u0026#34;10m\u0026#34;, \u0026#34;max-file\u0026#34;: \u0026#34;3\u0026#34; } } EOF echo -e \u0026#34;${YELLOW}[4/4] å¯åŠ¨ Docker æœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯...${NC}\u0026#34; systemctl daemon-reload systemctl enable docker systemctl start docker echo -e \u0026#34;${GREEN}Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®å®Œæˆï¼${NC}\u0026#34; echo -e \u0026#34;${GREEN}Docker ç‰ˆæœ¬ï¼š$(docker --version)${NC}\u0026#34; ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/docs/install-docker-centos7-chain/","summary":"\u003cblockquote\u003e\n\u003cp\u003eæœ¬è„šæœ¬é€‚ç”¨äº CentOS 7 ç¯å¢ƒï¼Œè‡ªåŠ¨å®Œæˆ Docker å®‰è£…åŠé•œåƒåŠ é€Ÿé…ç½®ã€‚\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"-å®‰è£…è„šæœ¬å†…å®¹\"\u003eğŸ“¦ å®‰è£…è„šæœ¬å†…å®¹\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# CentOS 7 ä¸€é”®å®‰è£… Docker å¹¶é…ç½®é•œåƒåŠ é€Ÿ\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eset -e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# é¢œè‰²å®šä¹‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eYELLOW\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\\033[1;33m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eGREEN\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\\033[0;32m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eNC\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\\033[0m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# é•œåƒåŠ é€Ÿåœ°å€ï¼ˆè¯·æ›¿æ¢ä¸ºä½ çš„ä¸“å±åŠ é€Ÿå™¨ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eDOCKER_MIRROR\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;https://your.mirror.address/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[1/4] æ›´æ–°ç³»ç»ŸåŒ…...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eyum clean all\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eyum makecache fast\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eyum update -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[2/4] å®‰è£… Docker CEï¼ˆå®˜æ–¹æºï¼‰...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# å®‰è£…å¿…è¦å·¥å…·\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eyum install -y yum-utils device-mapper-persistent-data lvm2\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# æ·»åŠ  Docker å®˜æ–¹æºï¼ˆè¯·æ ¹æ®å®é™…æƒ…å†µæ›¿æ¢ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eyum-config-manager --add-repo https://your.repo.address/docker-ce.repo\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# å®‰è£…æœ€æ–°ç‰ˆ Docker CE\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eyum makecache fast\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eyum install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[3/4] é…ç½® Docker é•œåƒåŠ é€Ÿ...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emkdir -p /etc/docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecat \u0026gt; /etc/docker/daemon.json \u003cspan style=\"color:#e6db74\"\u003e\u0026lt;\u0026lt; EOF\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  \u0026#34;registry-mirrors\u0026#34;: [\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e     \u0026#34;${DOCKER_MIRROR}\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  ],\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  \u0026#34;log-driver\u0026#34;: \u0026#34;json-file\u0026#34;,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  \u0026#34;log-opts\u0026#34;: {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    \u0026#34;max-size\u0026#34;: \u0026#34;10m\u0026#34;,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    \u0026#34;max-file\u0026#34;: \u0026#34;3\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eEOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[4/4] å¯åŠ¨ Docker æœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esystemctl daemon-reload\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esystemctl enable docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esystemctl start docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eDocker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®å®Œæˆï¼\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eDocker ç‰ˆæœ¬ï¼š\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003e$(\u003c/span\u003edocker --version\u003cspan style=\"color:#66d9ef\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"CentOS 7 ä¸€é”®å®‰è£… Docker å¹¶é…ç½®é•œåƒåŠ é€Ÿ"},{"content":" æœ¬è„šæœ¬é€‚ç”¨äº Debian 12 ç¯å¢ƒï¼Œè‡ªåŠ¨å®Œæˆ MySQL 5.7 çš„ Docker éƒ¨ç½²ä¸åŸºç¡€é…ç½®ã€‚\nğŸ“¦ éƒ¨ç½²è„šæœ¬å†…å®¹ #!/bin/bash # MySQL 5.7 Docker éƒ¨ç½²è„šæœ¬ # é€‚ç”¨äº Debian 12 set -e # é¢œè‰²å®šä¹‰ YELLOW=\u0026#39;\\033[1;33m\u0026#39; GREEN=\u0026#39;\\033[0;32m\u0026#39; RED=\u0026#39;\\033[0;31m\u0026#39; NC=\u0026#39;\\033[0m\u0026#39; # é…ç½®å˜é‡ï¼ˆè¯·æ ¹æ®éœ€è¦ä¿®æ”¹ï¼‰ MYSQL_ROOT_PASSWORD=\u0026#34;\u0026lt;YOUR_ROOT_PASSWORD\u0026gt;\u0026#34; MYSQL_DATA_DIR=\u0026#34;\u0026lt;YOUR_DATA_DIR\u0026gt;\u0026#34; MYSQL_CONTAINER_NAME=\u0026#34;mysql5\u0026#34; MYSQL_PORT=\u0026#34;3305\u0026#34; echo -e \u0026#34;${YELLOW}[1/4] æ‹‰å– MySQL 5.7 é•œåƒ...${NC}\u0026#34; docker pull mysql:5.7 echo -e \u0026#34;${YELLOW}[2/4] åˆ›å»ºæ•°æ®ä¸é…ç½®ç›®å½•...${NC}\u0026#34; mkdir -p ${MYSQL_DATA_DIR} mkdir -p /etc/mysql5-docker cat \u0026gt; /etc/mysql5-docker/my.cnf \u0026lt;\u0026lt; \u0026#39;MYSQL_EOF\u0026#39; [mysqld] innodb_buffer_pool_size = 256M innodb_log_file_size = 128M max_connections = 50 key_buffer_size = 16M thread_cache_size = 8 character-set-server = utf8mb4 collation-server = utf8mb4_unicode_ci skip-name-resolve lower_case_table_names = 1 MYSQL_EOF echo -e \u0026#34;${YELLOW}[3/4] åœæ­¢å¹¶åˆ é™¤æ—§å®¹å™¨ï¼ˆå¦‚æœ‰ï¼‰...${NC}\u0026#34; docker stop ${MYSQL_CONTAINER_NAME} 2\u0026gt;/dev/null || true docker rm ${MYSQL_CONTAINER_NAME} 2\u0026gt;/dev/null || true rm -rf ${MYSQL_DATA_DIR}/* echo -e \u0026#34;${YELLOW}[4/4] è¿è¡Œ MySQL å®¹å™¨...${NC}\u0026#34; docker run -d \\ --name ${MYSQL_CONTAINER_NAME} \\ --restart always \\ -p ${MYSQL_PORT}:3306 \\ -v ${MYSQL_DATA_DIR}:/var/lib/mysql \\ -v /etc/mysql5-docker/my.cnf:/etc/mysql/conf.d/my.cnf \\ -e MYSQL_ROOT_PASSWORD=\u0026#34;${MYSQL_ROOT_PASSWORD}\u0026#34; \\ mysql:5.7 echo -e \u0026#34;${YELLOW}ç­‰å¾… MySQL å¯åŠ¨...${NC}\u0026#34; sleep 15 if docker ps | grep -q ${MYSQL_CONTAINER_NAME}; then echo -e \u0026#34;${GREEN}MySQL 5.7 éƒ¨ç½²æˆåŠŸï¼${NC}\u0026#34; echo -e \u0026#34;${GREEN}å®¹å™¨åç§°: ${MYSQL_CONTAINER_NAME}${NC}\u0026#34; echo -e \u0026#34;${GREEN}ç«¯å£: ${MYSQL_PORT}${NC}\u0026#34; echo -e \u0026#34;${GREEN}æ•°æ®ç›®å½•: ${MYSQL_DATA_DIR}${NC}\u0026#34; echo -e \u0026#34;${GREEN}é…ç½®æ–‡ä»¶: /etc/mysql5-docker/my.cnf${NC}\u0026#34; echo -e \u0026#34;${GREEN}Root å¯†ç : ${MYSQL_ROOT_PASSWORD}${NC}\u0026#34; # åˆ›å»ºç®¡ç†è„šæœ¬ cat \u0026gt; /usr/local/bin/mysql5-docker \u0026lt;\u0026lt; \u0026#39;SCRIPT_EOF\u0026#39; #!/bin/bash case \u0026#34;$1\u0026#34; in start) docker start mysql5 ;; stop) docker stop mysql5 ;; restart) docker restart mysql5 ;; status) docker ps -a | grep mysql5 ;; logs) docker logs -f mysql5 ;; shell) docker exec -it mysql5 bash ;; mysql) docker exec -it mysql5 mysql -u root -p ;; *) echo \u0026#34;ç”¨æ³•: $0 {start|stop|restart|status|logs|shell|mysql}\u0026#34;; exit 1 ;; esac SCRIPT_EOF chmod +x /usr/local/bin/mysql5-docker echo -e \u0026#34;${GREEN}ç®¡ç†å‘½ä»¤å·²åˆ›å»º: mysql5-docker {start|stop|restart|status|logs|shell|mysql}${NC}\u0026#34; # åˆ›å»ºè¿œç¨‹ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰ echo -e \u0026#34;${YELLOW}åˆ›å»ºè¿œç¨‹ç”¨æˆ· admin...ï¼ˆå¯é€‰ï¼‰${NC}\u0026#34; docker exec -i ${MYSQL_CONTAINER_NAME} mysql -u root -p\u0026#34;${MYSQL_ROOT_PASSWORD}\u0026#34; \u0026lt;\u0026lt;SQL CREATE USER IF NOT EXISTS \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;\u0026lt;YOUR_ADMIN_PASSWORD\u0026gt;\u0026#39;; GRANT ALL PRIVILEGES ON *.* TO \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39; WITH GRANT OPTION; FLUSH PRIVILEGES; SQL echo -e \u0026#34;${GREEN}è¿œç¨‹ç”¨æˆ· admin åˆ›å»ºå®Œæˆï¼${NC}\u0026#34; else echo -e \u0026#34;${RED}MySQL éƒ¨ç½²å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ—¥å¿—ï¼š${NC}\u0026#34; docker logs ${MYSQL_CONTAINER_NAME} exit 1 fi ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/docs/docker-mysql5-deploy/","summary":"\u003cblockquote\u003e\n\u003cp\u003eæœ¬è„šæœ¬é€‚ç”¨äº Debian 12 ç¯å¢ƒï¼Œè‡ªåŠ¨å®Œæˆ MySQL 5.7 çš„ Docker éƒ¨ç½²ä¸åŸºç¡€é…ç½®ã€‚\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"-éƒ¨ç½²è„šæœ¬å†…å®¹\"\u003eğŸ“¦ éƒ¨ç½²è„šæœ¬å†…å®¹\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# MySQL 5.7 Docker éƒ¨ç½²è„šæœ¬\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# é€‚ç”¨äº Debian 12\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eset -e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# é¢œè‰²å®šä¹‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eYELLOW\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\\033[1;33m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eGREEN\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\\033[0;32m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eRED\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\\033[0;31m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eNC\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\\033[0m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# é…ç½®å˜é‡ï¼ˆè¯·æ ¹æ®éœ€è¦ä¿®æ”¹ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eMYSQL_ROOT_PASSWORD\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026lt;YOUR_ROOT_PASSWORD\u0026gt;\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eMYSQL_DATA_DIR\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026lt;YOUR_DATA_DIR\u0026gt;\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eMYSQL_CONTAINER_NAME\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;mysql5\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eMYSQL_PORT\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;3305\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[1/4] æ‹‰å– MySQL 5.7 é•œåƒ...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker pull mysql:5.7\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[2/4] åˆ›å»ºæ•°æ®ä¸é…ç½®ç›®å½•...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emkdir -p \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_DATA_DIR\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emkdir -p /etc/mysql5-docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecat \u0026gt; /etc/mysql5-docker/my.cnf \u003cspan style=\"color:#e6db74\"\u003e\u0026lt;\u0026lt; \u0026#39;MYSQL_EOF\u0026#39;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e[mysqld]\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003einnodb_buffer_pool_size = 256M\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003einnodb_log_file_size = 128M\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003emax_connections = 50\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003ekey_buffer_size = 16M\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003ethread_cache_size = 8\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003echaracter-set-server = utf8mb4\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003ecollation-server = utf8mb4_unicode_ci\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eskip-name-resolve\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003elower_case_table_names = 1\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eMYSQL_EOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[3/4] åœæ­¢å¹¶åˆ é™¤æ—§å®¹å™¨ï¼ˆå¦‚æœ‰ï¼‰...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker stop \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_CONTAINER_NAME\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e 2\u0026gt;/dev/null \u003cspan style=\"color:#f92672\"\u003e||\u003c/span\u003e true\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker rm \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_CONTAINER_NAME\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e 2\u0026gt;/dev/null \u003cspan style=\"color:#f92672\"\u003e||\u003c/span\u003e true\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003erm -rf \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_DATA_DIR\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e/*\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[4/4] è¿è¡Œ MySQL å®¹å™¨...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker run -d \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --name \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_CONTAINER_NAME\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --restart always \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  -p \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_PORT\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e:3306 \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  -v \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_DATA_DIR\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e:/var/lib/mysql \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  -v /etc/mysql5-docker/my.cnf:/etc/mysql/conf.d/my.cnf \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  -e MYSQL_ROOT_PASSWORD\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_ROOT_PASSWORD\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  mysql:5.7\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eç­‰å¾… MySQL å¯åŠ¨...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esleep \u003cspan style=\"color:#ae81ff\"\u003e15\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e docker ps | grep -q \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_CONTAINER_NAME\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e; \u003cspan style=\"color:#66d9ef\"\u003ethen\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eMySQL 5.7 éƒ¨ç½²æˆåŠŸï¼\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eå®¹å™¨åç§°: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_CONTAINER_NAME\u003cspan style=\"color:#e6db74\"\u003e}${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eç«¯å£: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_PORT\u003cspan style=\"color:#e6db74\"\u003e}${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eæ•°æ®ç›®å½•: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_DATA_DIR\u003cspan style=\"color:#e6db74\"\u003e}${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eé…ç½®æ–‡ä»¶: /etc/mysql5-docker/my.cnf\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eRoot å¯†ç : \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_ROOT_PASSWORD\u003cspan style=\"color:#e6db74\"\u003e}${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# åˆ›å»ºç®¡ç†è„šæœ¬\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    cat \u0026gt; /usr/local/bin/mysql5-docker \u003cspan style=\"color:#e6db74\"\u003e\u0026lt;\u0026lt; \u0026#39;SCRIPT_EOF\u0026#39;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003ecase \u0026#34;$1\u0026#34; in\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    start) docker start mysql5 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    stop) docker stop mysql5 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    restart) docker restart mysql5 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    status) docker ps -a | grep mysql5 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    logs) docker logs -f mysql5 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    shell) docker exec -it mysql5 bash ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    mysql) docker exec -it mysql5 mysql -u root -p ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    *) echo \u0026#34;ç”¨æ³•: $0 {start|stop|restart|status|logs|shell|mysql}\u0026#34;; exit 1 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eesac\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eSCRIPT_EOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    chmod +x /usr/local/bin/mysql5-docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eç®¡ç†å‘½ä»¤å·²åˆ›å»º: mysql5-docker {start|stop|restart|status|logs|shell|mysql}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# åˆ›å»ºè¿œç¨‹ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eåˆ›å»ºè¿œç¨‹ç”¨æˆ· admin...ï¼ˆå¯é€‰ï¼‰\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    docker exec -i \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_CONTAINER_NAME\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e mysql -u root -p\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_ROOT_PASSWORD\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026lt;\u0026lt;SQL\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eCREATE USER IF NOT EXISTS \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;\u0026lt;YOUR_ADMIN_PASSWORD\u0026gt;\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eGRANT ALL PRIVILEGES ON *.* TO \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39; WITH GRANT OPTION;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eFLUSH PRIVILEGES;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eSQL\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eè¿œç¨‹ç”¨æˆ· admin åˆ›å»ºå®Œæˆï¼\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eRED\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eMySQL éƒ¨ç½²å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ—¥å¿—ï¼š\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    docker logs \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_CONTAINER_NAME\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    exit \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efi\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"Debian 12 ä½¿ç”¨ Docker éƒ¨ç½² MySQL 5.7"},{"content":" æœ¬è„šæœ¬é€‚ç”¨äº Debian 12 ç¯å¢ƒï¼Œè‡ªåŠ¨å®Œæˆ MySQL 8 çš„ Docker éƒ¨ç½²ä¸åŸºç¡€é…ç½®ã€‚\nğŸ“¦ éƒ¨ç½²è„šæœ¬å†…å®¹ #!/bin/bash # MySQL 8 Docker éƒ¨ç½²è„šæœ¬ # é€‚ç”¨äº Debian 12 set -e # é¢œè‰²å®šä¹‰ YELLOW=\u0026#39;\\033[1;33m\u0026#39; GREEN=\u0026#39;\\033[0;32m\u0026#39; RED=\u0026#39;\\033[0;31m\u0026#39; NC=\u0026#39;\\033[0m\u0026#39; # é…ç½®å˜é‡ï¼ˆè¯·æ ¹æ®éœ€è¦ä¿®æ”¹ï¼‰ MYSQL_ROOT_PASSWORD=\u0026#34;\u0026lt;YOUR_ROOT_PASSWORD\u0026gt;\u0026#34; MYSQL_DATA_DIR=\u0026#34;\u0026lt;YOUR_DATA_DIR\u0026gt;\u0026#34; MYSQL_CONTAINER_NAME=\u0026#34;mysql8\u0026#34; MYSQL_PORT=\u0026#34;3306\u0026#34; echo -e \u0026#34;${YELLOW}[1/4] æ‹‰å– MySQL 8 é•œåƒ...${NC}\u0026#34; docker pull mysql:8 echo -e \u0026#34;${YELLOW}[2/4] åˆ›å»ºæ•°æ®ä¸é…ç½®ç›®å½•...${NC}\u0026#34; mkdir -p ${MYSQL_DATA_DIR} mkdir -p /etc/mysql-docker cat \u0026gt; /etc/mysql-docker/my.cnf \u0026lt;\u0026lt; \u0026#39;MYSQL_EOF\u0026#39; [mysqld] innodb_buffer_pool_size = 256M innodb_redo_log_capacity = 134217728 max_connections = 50 key_buffer_size = 16M thread_cache_size = 8 character-set-server = utf8mb4 collation-server = utf8mb4_unicode_ci skip-name-resolve lower_case_table_names = 1 MYSQL_EOF echo -e \u0026#34;${YELLOW}[3/4] åœæ­¢å¹¶åˆ é™¤æ—§å®¹å™¨ï¼ˆå¦‚æœ‰ï¼‰...${NC}\u0026#34; docker stop ${MYSQL_CONTAINER_NAME} 2\u0026gt;/dev/null || true docker rm ${MYSQL_CONTAINER_NAME} 2\u0026gt;/dev/null || true rm -rf ${MYSQL_DATA_DIR}/* echo -e \u0026#34;${YELLOW}[4/4] è¿è¡Œ MySQL å®¹å™¨...${NC}\u0026#34; docker run -d \\ --name ${MYSQL_CONTAINER_NAME} \\ --restart always \\ -p ${MYSQL_PORT}:3306 \\ -v ${MYSQL_DATA_DIR}:/var/lib/mysql \\ -v /etc/mysql-docker/my.cnf:/etc/mysql/conf.d/my.cnf \\ -e MYSQL_ROOT_PASSWORD=\u0026#34;${MYSQL_ROOT_PASSWORD}\u0026#34; \\ mysql:8 echo -e \u0026#34;${YELLOW}ç­‰å¾… MySQL å¯åŠ¨...${NC}\u0026#34; sleep 15 if docker ps | grep -q ${MYSQL_CONTAINER_NAME}; then echo -e \u0026#34;${GREEN}MySQL 8 éƒ¨ç½²æˆåŠŸï¼${NC}\u0026#34; echo -e \u0026#34;${GREEN}å®¹å™¨åç§°: ${MYSQL_CONTAINER_NAME}${NC}\u0026#34; echo -e \u0026#34;${GREEN}ç«¯å£: ${MYSQL_PORT}${NC}\u0026#34; echo -e \u0026#34;${GREEN}æ•°æ®ç›®å½•: ${MYSQL_DATA_DIR}${NC}\u0026#34; echo -e \u0026#34;${GREEN}é…ç½®æ–‡ä»¶: /etc/mysql-docker/my.cnf${NC}\u0026#34; echo -e \u0026#34;${GREEN}Root å¯†ç : ${MYSQL_ROOT_PASSWORD}${NC}\u0026#34; # åˆ›å»ºç®¡ç†è„šæœ¬ cat \u0026gt; /usr/local/bin/mysql-docker \u0026lt;\u0026lt; \u0026#39;SCRIPT_EOF\u0026#39; #!/bin/bash case \u0026#34;$1\u0026#34; in start) docker start mysql8 ;; stop) docker stop mysql8 ;; restart) docker restart mysql8 ;; status) docker ps -a | grep mysql8 ;; logs) docker logs -f mysql8 ;; shell) docker exec -it mysql8 bash ;; mysql) docker exec -it mysql8 mysql -u root -p ;; *) echo \u0026#34;ç”¨æ³•: $0 {start|stop|restart|status|logs|shell|mysql}\u0026#34;; exit 1 ;; esac SCRIPT_EOF chmod +x /usr/local/bin/mysql-docker echo -e \u0026#34;${GREEN}ç®¡ç†å‘½ä»¤å·²åˆ›å»º: mysql-docker {start|stop|restart|status|logs|shell|mysql}${NC}\u0026#34; # åˆ›å»ºè¿œç¨‹ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰ echo -e \u0026#34;${YELLOW}åˆ›å»ºè¿œç¨‹ç”¨æˆ· admin...ï¼ˆå¯é€‰ï¼‰${NC}\u0026#34; docker exec -i ${MYSQL_CONTAINER_NAME} mysql -u root -p\u0026#34;${MYSQL_ROOT_PASSWORD}\u0026#34; \u0026lt;\u0026lt;SQL CREATE USER IF NOT EXISTS \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;\u0026lt;YOUR_ADMIN_PASSWORD\u0026gt;\u0026#39;; GRANT ALL PRIVILEGES ON *.* TO \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39; WITH GRANT OPTION; FLUSH PRIVILEGES; SQL echo -e \u0026#34;${GREEN}è¿œç¨‹ç”¨æˆ· admin åˆ›å»ºå®Œæˆï¼${NC}\u0026#34; else echo -e \u0026#34;${RED}MySQL éƒ¨ç½²å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ—¥å¿—ï¼š${NC}\u0026#34; docker logs ${MYSQL_CONTAINER_NAME} exit 1 fi ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/docs/docker-mysql8-deploy/","summary":"\u003cblockquote\u003e\n\u003cp\u003eæœ¬è„šæœ¬é€‚ç”¨äº Debian 12 ç¯å¢ƒï¼Œè‡ªåŠ¨å®Œæˆ MySQL 8 çš„ Docker éƒ¨ç½²ä¸åŸºç¡€é…ç½®ã€‚\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"-éƒ¨ç½²è„šæœ¬å†…å®¹\"\u003eğŸ“¦ éƒ¨ç½²è„šæœ¬å†…å®¹\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# MySQL 8 Docker éƒ¨ç½²è„šæœ¬\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# é€‚ç”¨äº Debian 12\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eset -e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# é¢œè‰²å®šä¹‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eYELLOW\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\\033[1;33m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eGREEN\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\\033[0;32m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eRED\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\\033[0;31m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eNC\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\\033[0m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# é…ç½®å˜é‡ï¼ˆè¯·æ ¹æ®éœ€è¦ä¿®æ”¹ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eMYSQL_ROOT_PASSWORD\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026lt;YOUR_ROOT_PASSWORD\u0026gt;\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eMYSQL_DATA_DIR\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u0026lt;YOUR_DATA_DIR\u0026gt;\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eMYSQL_CONTAINER_NAME\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;mysql8\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eMYSQL_PORT\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;3306\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[1/4] æ‹‰å– MySQL 8 é•œåƒ...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker pull mysql:8\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[2/4] åˆ›å»ºæ•°æ®ä¸é…ç½®ç›®å½•...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emkdir -p \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_DATA_DIR\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emkdir -p /etc/mysql-docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecat \u0026gt; /etc/mysql-docker/my.cnf \u003cspan style=\"color:#e6db74\"\u003e\u0026lt;\u0026lt; \u0026#39;MYSQL_EOF\u0026#39;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e[mysqld]\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003einnodb_buffer_pool_size = 256M\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003einnodb_redo_log_capacity = 134217728\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003emax_connections = 50\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003ekey_buffer_size = 16M\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003ethread_cache_size = 8\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003echaracter-set-server = utf8mb4\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003ecollation-server = utf8mb4_unicode_ci\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eskip-name-resolve\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003elower_case_table_names = 1\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eMYSQL_EOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[3/4] åœæ­¢å¹¶åˆ é™¤æ—§å®¹å™¨ï¼ˆå¦‚æœ‰ï¼‰...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker stop \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_CONTAINER_NAME\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e 2\u0026gt;/dev/null \u003cspan style=\"color:#f92672\"\u003e||\u003c/span\u003e true\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker rm \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_CONTAINER_NAME\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e 2\u0026gt;/dev/null \u003cspan style=\"color:#f92672\"\u003e||\u003c/span\u003e true\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003erm -rf \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_DATA_DIR\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e/*\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[4/4] è¿è¡Œ MySQL å®¹å™¨...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003edocker run -d \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --name \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_CONTAINER_NAME\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  --restart always \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  -p \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_PORT\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e:3306 \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  -v \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_DATA_DIR\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e:/var/lib/mysql \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  -v /etc/mysql-docker/my.cnf:/etc/mysql/conf.d/my.cnf \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  -e MYSQL_ROOT_PASSWORD\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_ROOT_PASSWORD\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  mysql:8\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eç­‰å¾… MySQL å¯åŠ¨...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esleep \u003cspan style=\"color:#ae81ff\"\u003e15\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eif\u003c/span\u003e docker ps | grep -q \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_CONTAINER_NAME\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e; \u003cspan style=\"color:#66d9ef\"\u003ethen\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eMySQL 8 éƒ¨ç½²æˆåŠŸï¼\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eå®¹å™¨åç§°: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_CONTAINER_NAME\u003cspan style=\"color:#e6db74\"\u003e}${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eç«¯å£: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_PORT\u003cspan style=\"color:#e6db74\"\u003e}${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eæ•°æ®ç›®å½•: \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_DATA_DIR\u003cspan style=\"color:#e6db74\"\u003e}${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eé…ç½®æ–‡ä»¶: /etc/mysql-docker/my.cnf\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eRoot å¯†ç : \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_ROOT_PASSWORD\u003cspan style=\"color:#e6db74\"\u003e}${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# åˆ›å»ºç®¡ç†è„šæœ¬\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    cat \u0026gt; /usr/local/bin/mysql-docker \u003cspan style=\"color:#e6db74\"\u003e\u0026lt;\u0026lt; \u0026#39;SCRIPT_EOF\u0026#39;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003ecase \u0026#34;$1\u0026#34; in\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    start) docker start mysql8 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    stop) docker stop mysql8 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    restart) docker restart mysql8 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    status) docker ps -a | grep mysql8 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    logs) docker logs -f mysql8 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    shell) docker exec -it mysql8 bash ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    mysql) docker exec -it mysql8 mysql -u root -p ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    *) echo \u0026#34;ç”¨æ³•: $0 {start|stop|restart|status|logs|shell|mysql}\u0026#34;; exit 1 ;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eesac\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eSCRIPT_EOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    chmod +x /usr/local/bin/mysql-docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eç®¡ç†å‘½ä»¤å·²åˆ›å»º: mysql-docker {start|stop|restart|status|logs|shell|mysql}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e# åˆ›å»ºè¿œç¨‹ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eåˆ›å»ºè¿œç¨‹ç”¨æˆ· admin...ï¼ˆå¯é€‰ï¼‰\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    docker exec -i \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_CONTAINER_NAME\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e mysql -u root -p\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_ROOT_PASSWORD\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026lt;\u0026lt;SQL\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eCREATE USER IF NOT EXISTS \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;\u0026lt;YOUR_ADMIN_PASSWORD\u0026gt;\u0026#39;;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eGRANT ALL PRIVILEGES ON *.* TO \u0026#39;admin\u0026#39;@\u0026#39;%\u0026#39; WITH GRANT OPTION;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eFLUSH PRIVILEGES;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eSQL\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eè¿œç¨‹ç”¨æˆ· admin åˆ›å»ºå®Œæˆï¼\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eelse\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    echo -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eRED\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eMySQL éƒ¨ç½²å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ—¥å¿—ï¼š\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    docker logs \u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eMYSQL_CONTAINER_NAME\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    exit \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003efi\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"Debian 12 ä½¿ç”¨ Docker éƒ¨ç½² MySQL 8"},{"content":" æœ¬è„šæœ¬é€‚ç”¨äº Debian 12 ç¯å¢ƒï¼Œè‡ªåŠ¨å®Œæˆ Docker å®‰è£…åŠé•œåƒåŠ é€Ÿé…ç½®ã€‚\nğŸ“¦ å®‰è£…è„šæœ¬å†…å®¹ #!/bin/bash # Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬ # é€‚ç”¨äº Debian 12 set -e # é¢œè‰²å®šä¹‰ YELLOW=\u0026#39;\\033[1;33m\u0026#39; GREEN=\u0026#39;\\033[0;32m\u0026#39; NC=\u0026#39;\\033[0m\u0026#39; # é•œåƒåŠ é€Ÿåœ°å€ï¼ˆè¯·æ›¿æ¢ä¸ºä½ çš„ä¸“å±åŠ é€Ÿå™¨ï¼‰ DOCKER_MIRROR=\u0026#34;https://your.mirror.address/\u0026#34; echo -e \u0026#34;${YELLOW}[1/3] æ›´æ–°ç³»ç»ŸåŒ…...${NC}\u0026#34; apt-get update -y echo -e \u0026#34;${YELLOW}[2/3] å®‰è£… Docker...${NC}\u0026#34; apt-get install -y ca-certificates curl gnupg lsb-release mkdir -p /etc/apt/keyrings curl -fsSL https://download.docker.com/linux/debian/gpg | gpg --dearmor -o /etc/apt/keyrings/docker.gpg # æ·»åŠ  Docker å®˜æ–¹æºï¼ˆè§†ç½‘ç»œæƒ…å†µæ›¿æ¢ï¼‰ echo \\ \u0026#34;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian \\ $(lsb_release -cs) stable\u0026#34; | tee /etc/apt/sources.list.d/docker.list \u0026gt; /dev/null apt-get update -y apt-get install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin systemctl enable --now docker echo -e \u0026#34;${YELLOW}[3/3] é…ç½® Docker é•œåƒåŠ é€Ÿ...${NC}\u0026#34; mkdir -p /etc/docker cat \u0026gt; /etc/docker/daemon.json \u0026lt;\u0026lt; EOF { \u0026#34;registry-mirrors\u0026#34;: [ \u0026#34;${DOCKER_MIRROR}\u0026#34; ], \u0026#34;log-driver\u0026#34;: \u0026#34;json-file\u0026#34;, \u0026#34;log-opts\u0026#34;: { \u0026#34;max-size\u0026#34;: \u0026#34;10m\u0026#34;, \u0026#34;max-file\u0026#34;: \u0026#34;3\u0026#34; } } EOF systemctl daemon-reload systemctl restart docker echo -e \u0026#34;${GREEN}Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®å®Œæˆï¼${NC}\u0026#34; ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/docs/debain-docker-setup/","summary":"\u003cblockquote\u003e\n\u003cp\u003eæœ¬è„šæœ¬é€‚ç”¨äº Debian 12 ç¯å¢ƒï¼Œè‡ªåŠ¨å®Œæˆ Docker å®‰è£…åŠé•œåƒåŠ é€Ÿé…ç½®ã€‚\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"-å®‰è£…è„šæœ¬å†…å®¹\"\u003eğŸ“¦ å®‰è£…è„šæœ¬å†…å®¹\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# é€‚ç”¨äº Debian 12\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eset -e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# é¢œè‰²å®šä¹‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eYELLOW\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\\033[1;33m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eGREEN\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\\033[0;32m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eNC\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\\033[0m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# é•œåƒåŠ é€Ÿåœ°å€ï¼ˆè¯·æ›¿æ¢ä¸ºä½ çš„ä¸“å±åŠ é€Ÿå™¨ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eDOCKER_MIRROR\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;https://your.mirror.address/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[1/3] æ›´æ–°ç³»ç»ŸåŒ…...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eapt-get update -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[2/3] å®‰è£… Docker...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eapt-get install -y ca-certificates curl gnupg lsb-release\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emkdir -p /etc/apt/keyrings\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecurl -fsSL https://download.docker.com/linux/debian/gpg | gpg --dearmor -o /etc/apt/keyrings/docker.gpg\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# æ·»åŠ  Docker å®˜æ–¹æºï¼ˆè§†ç½‘ç»œæƒ…å†µæ›¿æ¢ï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho \u003cspan style=\"color:#ae81ff\"\u003e\\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#ae81ff\"\u003e\u003c/span\u003e  \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;deb [arch=\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003e$(\u003c/span\u003edpkg --print-architecture\u003cspan style=\"color:#66d9ef\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian \\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  \u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003e$(\u003c/span\u003elsb_release -cs\u003cspan style=\"color:#66d9ef\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e stable\u0026#34;\u003c/span\u003e | tee /etc/apt/sources.list.d/docker.list \u0026gt; /dev/null\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eapt-get update -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eapt-get install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esystemctl enable --now docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[3/3] é…ç½® Docker é•œåƒåŠ é€Ÿ...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emkdir -p /etc/docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecat \u0026gt; /etc/docker/daemon.json \u003cspan style=\"color:#e6db74\"\u003e\u0026lt;\u0026lt; EOF\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  \u0026#34;registry-mirrors\u0026#34;: [\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e     \u0026#34;${DOCKER_MIRROR}\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  ],\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  \u0026#34;log-driver\u0026#34;: \u0026#34;json-file\u0026#34;,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  \u0026#34;log-opts\u0026#34;: {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    \u0026#34;max-size\u0026#34;: \u0026#34;10m\u0026#34;,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    \u0026#34;max-file\u0026#34;: \u0026#34;3\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eEOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esystemctl daemon-reload\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esystemctl restart docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eDocker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®å®Œæˆï¼\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"Debian 12 ä¸€é”®å®‰è£… Docker å¹¶é…ç½®é•œåƒåŠ é€Ÿ"},{"content":"æ­¤é¡µé¢çš„å½“å‰è¯­è¨€ç‰ˆæœ¬å°šæœªç¿»è¯‘ï¼š\n","permalink":"https://ezkemj.github.io/myHugo/en/docs/install-docker-centos7/","summary":"\u003cp\u003eæ­¤é¡µé¢çš„å½“å‰è¯­è¨€ç‰ˆæœ¬å°šæœªç¿»è¯‘ï¼š\u003c/p\u003e","title":"CentOS 7 Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬"},{"content":"æ­¤é¡µé¢çš„å½“å‰è¯­è¨€ç‰ˆæœ¬å°šæœªç¿»è¯‘ï¼š\n","permalink":"https://ezkemj.github.io/myHugo/ja/docs/install-docker-centos7/","summary":"\u003cp\u003eæ­¤é¡µé¢çš„å½“å‰è¯­è¨€ç‰ˆæœ¬å°šæœªç¿»è¯‘ï¼š\u003c/p\u003e","title":"CentOS 7 Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬"},{"content":"æœ¬æ–‡æä¾›ä¸€ä¸ªé€‚ç”¨äº CentOS 7 çš„ Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬ï¼Œå¸®åŠ©å¿«é€Ÿéƒ¨ç½² Docker ç¯å¢ƒï¼Œå¹¶ä¼˜åŒ–é•œåƒæ‹‰å–é€Ÿåº¦ã€‚\né•œåƒåŠ é€Ÿåœ°å€éœ€æ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œæ›¿æ¢ä¸ºå¯ä¿¡æ¥æºã€‚\nğŸ“Œ ä½¿ç”¨è¯´æ˜ é€‚ç”¨ç¯å¢ƒï¼šCentOS 7.xï¼Œéœ€ root æƒé™ é£é™©æç¤ºï¼š yum update -y ä¼šå‡çº§æ‰€æœ‰ç³»ç»ŸåŒ…ï¼Œå¯èƒ½å½±å“ç°æœ‰æœåŠ¡ é•œåƒåŠ é€Ÿæºåº”æ¥è‡ªå¯ä¿¡æ¸ é“ï¼ˆå¦‚å®˜æ–¹æˆ–ä¼ä¸šå†…éƒ¨æºï¼‰ æ‰§è¡Œæ–¹å¼ï¼š å°†è„šæœ¬ä¿å­˜ä¸º install_docker.sh èµ‹äºˆæ‰§è¡Œæƒé™ï¼šchmod +x install_docker.sh æ‰§è¡Œï¼š./install_docker.sh ğŸ›  è„šæœ¬å†…å®¹ #!/bin/bash # Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬ï¼ˆCentOS 7ç‰ˆï¼‰ # é•œåƒåŠ é€Ÿåœ°å€éœ€è‡ªè¡Œæ›¿æ¢ set -e YELLOW=\u0026#39;\\033[1;33m\u0026#39; GREEN=\u0026#39;\\033[0;32m\u0026#39; NC=\u0026#39;\\033[0m\u0026#39; # é•œåƒåŠ é€Ÿåœ°å€å ä½ç¬¦ï¼Œè¯·æ›¿æ¢ä¸ºå¯ä¿¡æ¥æº DOCKER_MIRROR=\u0026#34;https://your.mirror.address/\u0026#34; echo -e \u0026#34;${YELLOW}[1/3] æ›´æ–°ç³»ç»ŸåŒ…...${NC}\u0026#34; yum update -y echo -e \u0026#34;${YELLOW}[2/3] å®‰è£… Docker...${NC}\u0026#34; yum install -y yum-utils device-mapper-persistent-data lvm2 yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo yum install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin systemctl enable --now docker echo -e \u0026#34;${YELLOW}[3/3] é…ç½® Docker é•œåƒåŠ é€Ÿ...${NC}\u0026#34; mkdir -p /etc/docker cat \u0026gt; /etc/docker/daemon.json \u0026lt;\u0026lt; EOF { \u0026#34;registry-mirrors\u0026#34;: [ \u0026#34;${DOCKER_MIRROR}\u0026#34; ], \u0026#34;log-driver\u0026#34;: \u0026#34;json-file\u0026#34;, \u0026#34;log-opts\u0026#34;: { \u0026#34;max-size\u0026#34;: \u0026#34;10m\u0026#34;, \u0026#34;max-file\u0026#34;: \u0026#34;3\u0026#34; } } EOF systemctl daemon-reload systemctl restart docker echo -e \u0026#34;${GREEN}Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®å®Œæˆï¼ï¼ˆCentOS 7ï¼‰${NC}\u0026#34; ","permalink":"https://ezkemj.github.io/myHugo/zh-cn/docs/install-docker-centos7/","summary":"\u003cp\u003eæœ¬æ–‡æä¾›ä¸€ä¸ªé€‚ç”¨äº \u003cstrong\u003eCentOS 7\u003c/strong\u003e çš„ Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬ï¼Œå¸®åŠ©å¿«é€Ÿéƒ¨ç½² Docker ç¯å¢ƒï¼Œå¹¶ä¼˜åŒ–é•œåƒæ‹‰å–é€Ÿåº¦ã€‚\u003cbr\u003e\né•œåƒåŠ é€Ÿåœ°å€éœ€æ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œæ›¿æ¢ä¸ºå¯ä¿¡æ¥æºã€‚\u003c/p\u003e\n\u003ch2 id=\"-ä½¿ç”¨è¯´æ˜\"\u003eğŸ“Œ ä½¿ç”¨è¯´æ˜\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eé€‚ç”¨ç¯å¢ƒ\u003c/strong\u003eï¼šCentOS 7.xï¼Œéœ€ root æƒé™\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eé£é™©æç¤º\u003c/strong\u003eï¼š\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eyum update -y\u003c/code\u003e ä¼šå‡çº§æ‰€æœ‰ç³»ç»ŸåŒ…ï¼Œå¯èƒ½å½±å“ç°æœ‰æœåŠ¡\u003c/li\u003e\n\u003cli\u003eé•œåƒåŠ é€Ÿæºåº”æ¥è‡ªå¯ä¿¡æ¸ é“ï¼ˆå¦‚å®˜æ–¹æˆ–ä¼ä¸šå†…éƒ¨æºï¼‰\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eæ‰§è¡Œæ–¹å¼\u003c/strong\u003eï¼š\n\u003col\u003e\n\u003cli\u003eå°†è„šæœ¬ä¿å­˜ä¸º \u003ccode\u003einstall_docker.sh\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eèµ‹äºˆæ‰§è¡Œæƒé™ï¼š\u003ccode\u003echmod +x install_docker.sh\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eæ‰§è¡Œï¼š\u003ccode\u003e./install_docker.sh\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"-è„šæœ¬å†…å®¹\"\u003eğŸ›  è„šæœ¬å†…å®¹\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e#!/bin/bash\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#75715e\"\u003e# Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬ï¼ˆCentOS 7ç‰ˆï¼‰\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# é•œåƒåŠ é€Ÿåœ°å€éœ€è‡ªè¡Œæ›¿æ¢\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eset -e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eYELLOW\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\\033[1;33m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eGREEN\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\\033[0;32m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eNC\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#39;\\033[0m\u0026#39;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e# é•œåƒåŠ é€Ÿåœ°å€å ä½ç¬¦ï¼Œè¯·æ›¿æ¢ä¸ºå¯ä¿¡æ¥æº\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eDOCKER_MIRROR\u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;https://your.mirror.address/\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[1/3] æ›´æ–°ç³»ç»ŸåŒ…...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eyum update -y\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[2/3] å®‰è£… Docker...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eyum install -y yum-utils device-mapper-persistent-data lvm2\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eyum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eyum install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esystemctl enable --now docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eYELLOW\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e[3/3] é…ç½® Docker é•œåƒåŠ é€Ÿ...\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003emkdir -p /etc/docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ecat \u0026gt; /etc/docker/daemon.json \u003cspan style=\"color:#e6db74\"\u003e\u0026lt;\u0026lt; EOF\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e{\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  \u0026#34;registry-mirrors\u0026#34;: [\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e     \u0026#34;${DOCKER_MIRROR}\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  ],\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  \u0026#34;log-driver\u0026#34;: \u0026#34;json-file\u0026#34;,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  \u0026#34;log-opts\u0026#34;: {\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    \u0026#34;max-size\u0026#34;: \u0026#34;10m\u0026#34;,\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e    \u0026#34;max-file\u0026#34;: \u0026#34;3\u0026#34;\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e  }\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#e6db74\"\u003eEOF\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esystemctl daemon-reload\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003esystemctl restart docker\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eecho -e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eGREEN\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003eDocker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®å®Œæˆï¼ï¼ˆCentOS 7ï¼‰\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003eNC\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"CentOS 7 Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬"},{"content":"æ­¤é¡µé¢çš„å½“å‰è¯­è¨€ç‰ˆæœ¬å°šæœªç¿»è¯‘ï¼š\n","permalink":"https://ezkemj.github.io/myHugo/zh-tw/docs/install-docker-centos7/","summary":"\u003cp\u003eæ­¤é¡µé¢çš„å½“å‰è¯­è¨€ç‰ˆæœ¬å°šæœªç¿»è¯‘ï¼š\u003c/p\u003e","title":"CentOS 7 Docker å®‰è£…ä¸é•œåƒåŠ é€Ÿé…ç½®è„šæœ¬"}]